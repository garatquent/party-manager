"use strict";(self.webpackChunkparty_manager=self.webpackChunkparty_manager||[]).push([[179],{8522:(lt,Ie,V)=>{var b=V(6593),E=V(4946),_e=V(2096),fe=V(2459),ne=V(5592),ue=V(6328),be=V(2181),ze=V(7398),Re=V(4716),De=V(4664),se=V(6814);class we{}class Je{}class Pe{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Pe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Pe;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Pe?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===u.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Yt{encodeKey(e){return Sn(e)}encodeValue(e){return Sn(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Qt=/%(\d[a-f0-9])/gi,mn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Sn(n){return encodeURIComponent(n).replace(Qt,(e,t)=>mn[t]??e)}function Te(n){return`${n}`}class Ce{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yt,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xt(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[l,h]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],p=t.get(l)||[];p.push(h),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(Te):[Te(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ce({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Te(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(Te(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Qe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function He(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Me(n){return typeof Blob<"u"&&n instanceof Blob}function Ft(n){return typeof FormData<"u"&&n instanceof FormData}class Ei{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ct(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Pe),this.context||(this.context=new Qe),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Ce,this.urlWithParams=t}serializeBody(){return null===this.body?null:He(this.body)||Me(this.body)||Ft(this.body)||function nr(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ft(this.body)?null:Me(this.body)?this.body.type||null:He(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((R,O)=>R.set(O,e.setHeaders[O]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((R,O)=>R.set(O,e.setParams[O]),_)),new Ei(t,r,u,{params:_,headers:p,context:D,reportProgress:h,responseType:s,withCredentials:l})}}var ri=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ri||{});class Oe{constructor(e,t=200,r="OK"){this.headers=e.headers||new Pe,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Wn extends Oe{constructor(e={}){super(e),this.type=ri.ResponseHeader}clone(e={}){return new Wn({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ke extends Oe{constructor(e={}){super(e),this.type=ri.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ke({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _t extends Oe{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function X(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let te=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof Ei)u=t;else{let p,_;p=s.headers instanceof Pe?s.headers:new Pe(s.headers),s.params&&(_=s.params instanceof Ce?s.params:new Ce({fromObject:s.params})),u=new Ei(t,r,void 0!==s.body?s.body:null,{headers:p,context:s.context,params:_,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const l=(0,_e.of)(u).pipe((0,ue.b)(p=>this.handler.handle(p)));if(t instanceof Ei||"events"===s.observe)return l;const h=l.pipe((0,be.h)(p=>p instanceof ke));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return h.pipe((0,ze.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,ze.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,ze.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,ze.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ce).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,X(s,r))}post(t,r,s={}){return this.request("POST",t,X(s,r))}put(t,r,s={}){return this.request("PUT",t,X(s,r))}static#e=this.\u0275fac=function(r){return new(r||n)(E.LFG(we))};static#t=this.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac})}return n})();function Ze(n,e){return e(n)}function Gt(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const Rn=new E.OlP(""),Nn=new E.OlP(""),ii=new E.OlP("");function wn(){let n=null;return(e,t)=>{null===n&&(n=((0,E.f3M)(Rn,{optional:!0})??[]).reduceRight(Gt,Ze));const r=(0,E.f3M)(E.HDt),s=r.add();return n(e,t).pipe((0,Re.x)(()=>r.remove(s)))}}let Pr=(()=>{class n extends we{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,E.f3M)(E.HDt)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Nn),...this.injector.get(ii,[])]));this.chain=s.reduceRight((u,l)=>function Vn(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(u,l,this.injector),Ze)}const r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe((0,Re.x)(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(E.LFG(Je),E.LFG(E.lqb))};static#t=this.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ii=/^\)\]\}',?\n/;let rr=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new E.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,fe.D)(r.\u0275loadImpl()):(0,_e.of)(null)).pipe((0,De.w)(()=>new ne.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((Q,J)=>l.setRequestHeader(Q,J.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Q=t.detectContentTypeHeader();null!==Q&&l.setRequestHeader("Content-Type",Q)}if(t.responseType){const Q=t.responseType.toLowerCase();l.responseType="json"!==Q?Q:"text"}const h=t.serializeBody();let p=null;const _=()=>{if(null!==p)return p;const Q=l.statusText||"OK",J=new Pe(l.getAllResponseHeaders()),Ue=function _r(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return p=new Wn({headers:J,status:l.status,statusText:Q,url:Ue}),p},D=()=>{let{headers:Q,status:J,statusText:Ue,url:Ge}=_(),Se=null;204!==J&&(Se=typeof l.response>"u"?l.responseText:l.response),0===J&&(J=Se?200:0);let nt=J>=200&&J<300;if("json"===t.responseType&&"string"==typeof Se){const kt=Se;Se=Se.replace(Ii,"");try{Se=""!==Se?JSON.parse(Se):null}catch(bt){Se=kt,nt&&(nt=!1,Se={error:bt,text:Se})}}nt?(u.next(new ke({body:Se,headers:Q,status:J,statusText:Ue,url:Ge||void 0})),u.complete()):u.error(new _t({error:Se,headers:Q,status:J,statusText:Ue,url:Ge||void 0}))},R=Q=>{const{url:J}=_(),Ue=new _t({error:Q,status:l.status||0,statusText:l.statusText||"Unknown Error",url:J||void 0});u.error(Ue)};let O=!1;const U=Q=>{O||(u.next(_()),O=!0);let J={type:ri.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(J.total=Q.total),"text"===t.responseType&&l.responseText&&(J.partialText=l.responseText),u.next(J)},z=Q=>{let J={type:ri.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(J.total=Q.total),u.next(J)};return l.addEventListener("load",D),l.addEventListener("error",R),l.addEventListener("timeout",R),l.addEventListener("abort",R),t.reportProgress&&(l.addEventListener("progress",U),null!==h&&l.upload&&l.upload.addEventListener("progress",z)),l.send(h),u.next({type:ri.Sent}),()=>{l.removeEventListener("error",R),l.removeEventListener("abort",R),l.removeEventListener("load",D),l.removeEventListener("timeout",R),t.reportProgress&&(l.removeEventListener("progress",U),null!==h&&l.upload&&l.upload.removeEventListener("progress",z)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(E.LFG(se.JF))};static#t=this.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac})}return n})();const Vs=new E.OlP("XSRF_ENABLED"),Lu=new E.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Lo=new E.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Is{}let lr=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,se.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(E.LFG(se.K0),E.LFG(E.Lbi),E.LFG(Lu))};static#t=this.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac})}return n})();function Xi(n,e){const t=n.url.toLowerCase();if(!(0,E.f3M)(Vs)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,E.f3M)(Is).getToken(),s=(0,E.f3M)(Lo);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var et=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(et||{});function Ia(...n){const e=[te,rr,Pr,{provide:we,useExisting:Pr},{provide:Je,useExisting:rr},{provide:Nn,useValue:Xi,multi:!0},{provide:Vs,useValue:!0},{provide:Is,useClass:lr}];for(const t of n)e.push(...t.\u0275providers);return(0,E.MR2)(e)}const Vo=new E.OlP("LEGACY_INTERCEPTOR_FN");function Ji(){return function jr(n,e){return{\u0275kind:n,\u0275providers:e}}(et.LegacyInterceptors,[{provide:Vo,useFactory:wn},{provide:Nn,useExisting:Vo,multi:!0}])}let pe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=E.oAB({type:n});static#n=this.\u0275inj=E.cJS({providers:[Ia(Ji())]})}return n})();var zl=V(7453),ro=V(4829),jd=V(4564),Ni=V(8251),$d=V(7400),cr=V(2714);let Wt=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(E.Qsj),E.Y36(E.SBq))};static#t=this.\u0275dir=E.lG2({type:n})}return n})(),$r=(()=>{class n extends Wt{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=E.n5z(n)))(s||n)}}();static#t=this.\u0275dir=E.lG2({type:n,features:[E.qOj]})}return n})();const Hr=new E.OlP("NgValueAccessor"),ql={provide:Hr,useExisting:(0,E.Gpc)(()=>Mr),multi:!0},Gr=new E.OlP("CompositionEventMode");let Mr=(()=>{class n extends Wt{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ca(){const n=(0,se.q)()?(0,se.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(Gr,8))};static#t=this.\u0275dir=E.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&E.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[E._Bn([ql]),E.qOj]})}return n})();function ir(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ut=new E.OlP("NgValidators"),si=new E.OlP("NgAsyncValidators");function Ts(n){return ir(n.value)?{required:!0}:null}function ki(n){return null}function so(n){return null!=n}function wi(n){return(0,E.QGY)(n)?(0,fe.D)(n):n}function Aa(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ns(n,e){return e.map(t=>t(n))}function Bs(n){return n.map(e=>function yr(n){return!n.validate}(e)?e:t=>e.validate(t))}function ba(n){return null!=n?function vr(n){if(!n)return null;const e=n.filter(so);return 0==e.length?null:function(t){return Aa(ns(t,e))}}(Bs(n)):null}function $u(n){return null!=n?function ju(n){if(!n)return null;const e=n.filter(so);return 0==e.length?null:function(t){return function Wl(...n){const e=(0,jd.jO)(n),{args:t,keys:r}=(0,zl.D)(n),s=new ne.y(u=>{const{length:l}=t;if(!l)return void u.complete();const h=new Array(l);let p=l,_=l;for(let D=0;D<l;D++){let R=!1;(0,ro.Xf)(t[D]).subscribe((0,Ni.x)(u,O=>{R||(R=!0,_--),h[D]=O},()=>p--,void 0,()=>{(!p||!R)&&(_||u.next(r?(0,cr.n)(r,h):h),u.complete())}))}});return e?s.pipe((0,$d.Z)(e)):s}(ns(t,e).map(wi)).pipe((0,ze.U)(Aa))}}(Bs(n)):null}function Kl(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Yl(n){return n._rawValidators}function Ql(n){return n._rawAsyncValidators}function Sa(n){return n?Array.isArray(n)?n:[n]:[]}function Ra(n,e){return Array.isArray(n)?n.includes(e):n===e}function Zl(n,e){const t=Sa(e);return Sa(n).forEach(s=>{Ra(t,s)||t.push(s)}),t}function Xl(n,e){return Sa(e).filter(t=>!Ra(n,t))}class Hu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ba(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$u(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class dr extends Hu{get formDirective(){return null}get path(){return null}}class Fi extends Hu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pa{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Li=(()=>{class n extends Pa{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(Fi,2))};static#t=this.\u0275dir=E.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&E.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[E.qOj]})}return n})(),ws=(()=>{class n extends Pa{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(dr,10))};static#t=this.\u0275dir=E.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&E.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[E.qOj]})}return n})();const Un="VALID",ai="INVALID",rn="PENDING",Di="DISABLED";function ui(n){return(Vi(n)?n.validators:n)||null}function is(n,e){return(Vi(e)?e.asyncValidators:n)||null}function Vi(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Dn(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new E.vHH(1e3,"");if(!r[t])throw new E.vHH(1001,"")}function uo(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new E.vHH(1002,"")})}class Wr{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Un}get invalid(){return this.status===ai}get pending(){return this.status==rn}get disabled(){return this.status===Di}get enabled(){return this.status!==Di}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Zl(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zl(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xl(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xl(e,this._rawAsyncValidators))}hasValidator(e){return Ra(this._rawValidators,e)}hasAsyncValidator(e){return Ra(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Di,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Un,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Un||this.status===rn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Di:Un}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rn,this._hasOwnPendingAsyncValidator=!0;const t=wi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?Di:this.errors?ai:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rn)?rn:this._anyControlsHaveStatus(ai)?ai:Un}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vi(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gt(n){return Array.isArray(n)?ba(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zu(n){return Array.isArray(n)?$u(n):n||null}(this._rawAsyncValidators)}}class Er extends Wr{constructor(e,t,r){super(ui(t),is(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){uo(this,0,e),Object.keys(e).forEach(r=>{Dn(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e?e[s]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Cs extends Er{}const ss=new E.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>os}),os="always";function Dt(n,e){return[...e.path,n]}function Ma(n,e,t=os){ho(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function qu(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Wd(n,e)})}(n,e),function Ir(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function hr(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Wd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Bn(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $o(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qr(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function co(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ho(n,e){const t=Yl(n);null!==e.validator?n.setValidators(Kl(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ql(n);null!==e.asyncValidator?n.setAsyncValidators(Kl(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();co(e._rawValidators,s),co(e._rawAsyncValidators,s)}function qr(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=Yl(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(l=>l!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=Ql(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(l=>l!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return co(e._rawValidators,r),co(e._rawAsyncValidators,r),t}function Wd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Kn(n,e){ho(n,e)}function fo(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Kd(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ec(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===Mr?t=u:function Ku(n){return Object.getPrototypeOf(n.constructor)===$r}(u)?r=u:s=u}),s||r||t||null}const iy={provide:dr,useExisting:(0,E.Gpc)(()=>xa)},Yu=(()=>Promise.resolve())();let xa=(()=>{class n extends dr{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new E.vpe,this.form=new Er({},ba(t),$u(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Yu.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ma(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Yu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Yu.then(()=>{const r=this._findContainer(t.path),s=new Er({});Kn(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Yu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Yu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Kd(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(ut,10),E.Y36(si,10),E.Y36(ss,8))};static#t=this.\u0275dir=E.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){1&r&&E.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([iy]),E.qOj]})}return n})();function Yd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function tc(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const as=class extends Wr{constructor(e=null,t,r){super(ui(t),is(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vi(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tc(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tc(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},po={provide:Fi,useExisting:(0,E.Gpc)(()=>ic)},us=(()=>Promise.resolve())();let ic=(()=>{class n extends Fi{constructor(t,r,s,u,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new as,this._registered=!1,this.name="",this.update=new E.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=ec(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fo(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ma(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){us.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,E.VuI)(r);us.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Dt(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(dr,9),E.Y36(ut,10),E.Y36(si,10),E.Y36(Hr,10),E.Y36(E.sBO,8),E.Y36(ss,8))};static#t=this.\u0275dir=E.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([po]),E.qOj,E.TTD]})}return n})(),go=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=E.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),Qu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=E.oAB({type:n});static#n=this.\u0275inj=E.cJS({})}return n})();const zo=new E.OlP("NgModelWithFormControlWarning"),Zd={provide:dr,useExisting:(0,E.Gpc)(()=>Wo)};let Wo=(()=>{class n extends dr{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ma(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$o(t.control||null,t,!1),function Tp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Kd(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&($o(r||null,t),(n=>n instanceof as)(s)&&(Ma(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Kn(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Jl(n,e){return qr(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ho(this.form,this),this._oldForm&&qr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(ut,10),E.Y36(si,10),E.Y36(ss,8))};static#t=this.\u0275dir=E.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,s){1&r&&E.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([Zd]),E.qOj,E.TTD]})}return n})();const oy={provide:Fi,useExisting:(0,E.Gpc)(()=>I)};let I=(()=>{class n extends Fi{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,s,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new E.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=ec(0,u)}ngOnChanges(t){this._added||this._setUpControl(),fo(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(E.Y36(dr,13),E.Y36(ut,10),E.Y36(si,10),E.Y36(Hr,10),E.Y36(zo,8))};static#n=this.\u0275dir=E.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[E._Bn([oy]),E.qOj,E.TTD]})}return n})();let on=(()=>{class n{constructor(){this._validator=ki}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ki,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=E.lG2({type:n,features:[E.TTD]})}return n})();const bs={provide:ut,useExisting:(0,E.Gpc)(()=>cs),multi:!0};let cs=(()=>{class n extends on{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=E.VuI,this.createValidator=t=>Ts}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=E.n5z(n)))(s||n)}}();static#t=this.\u0275dir=E.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){2&r&&E.uIk("required",s._enabled?"":null)},inputs:{required:"required"},features:[E._Bn([bs]),E.qOj]})}return n})();const uc={provide:ut,useExisting:(0,E.Gpc)(()=>lc),multi:!0};let lc=(()=>{class n extends on{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function fn(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function io(n){return e=>ir(e.value)||!function zr(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=E.n5z(n)))(s||n)}}();static#t=this.\u0275dir=E.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,s){2&r&&E.uIk("minlength",s._enabled?s.minlength:null)},inputs:{minlength:"minlength"},features:[E._Bn([uc]),E.qOj]})}return n})(),Pt=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=E.oAB({type:n});static#n=this.\u0275inj=E.cJS({imports:[Qu]})}return n})();class dc extends Wr{constructor(e,t,r){super(ui(t),is(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){uo(this,0,e),e.forEach((r,s)=>{Dn(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function xp(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Xd=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const s=this._reduceControls(t);let u={};return xp(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Er(s,u)}record(t,r=null){const s=this._reduceControls(t);return new Cs(s,r)}control(t,r,s){let u={};return this.useNonNullable?(xp(r)?u=r:(u.validators=r,u.asyncValidators=s),new as(t,{...u,nonNullable:!0})):new as(t,r,s)}array(t,r,s){const u=t.map(l=>this._createControl(l));return new dc(u,r,s)}_reduceControls(t){const r={};return Object.keys(t).forEach(s=>{r[s]=this._createControl(t[s])}),r}_createControl(t){return t instanceof as||t instanceof Wr?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ly=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ss,useValue:t.callSetDisabledState??os}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=E.oAB({type:n});static#n=this.\u0275inj=E.cJS({imports:[Pt]})}return n})(),Jd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zo,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ss,useValue:t.callSetDisabledState??os}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=E.oAB({type:n});static#n=this.\u0275inj=E.cJS({imports:[Pt]})}return n})();var Kr=V(8589);let cy=(()=>{class n{constructor(){this.title="Party Manager",this.description="Welcome to Party Manager, the app that manage your parties in the 80's futurist style !"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:2,consts:[["id","description"],["id","disco-ball-img","src","/party-manager/assets/img/welcome-ico.png","alt","Disco welcome image"]],template:function(r,s){1&r&&(E.TgZ(0,"h1"),E._uU(1),E.qZA(),E.TgZ(2,"h2",0),E._uU(3),E.qZA(),E.TgZ(4,"section"),E._UZ(5,"img",1),E.qZA()),2&r&&(E.xp6(1),E.hij(" ",s.title," "),E.xp6(2),E.hij(" ",s.description," "))}})}return n})(),Np=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-profile"]],decls:2,vars:0,template:function(r,s){1&r&&(E.TgZ(0,"p"),E._uU(1,"profile works!"),E.qZA())}})}return n})(),hs=(()=>{class n{transform(t,r){return t?r?(r=r.toLowerCase(),t.filter(function(s){return JSON.stringify(s).toLowerCase().includes(r)})):t:null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=E.Yjl({name:"searchFilter",type:n,pure:!0})}return n})();function Op(n,e){if(1&n&&(E.TgZ(0,"tr")(1,"td"),E._uU(2),E.qZA(),E.TgZ(3,"td"),E._uU(4),E.qZA(),E.TgZ(5,"td"),E._uU(6),E.qZA(),E.TgZ(7,"td"),E._uU(8),E.qZA()()),2&n){const t=e.$implicit;E.xp6(2),E.hij(" ",t.name," "),E.xp6(2),E.hij(" ",t.firstname," "),E.xp6(2),E.hij(" ",t.mail," "),E.xp6(2),E.hij(" ",t.status," ")}}let dy=(()=>{class n{constructor(t,r){this.formBuilder=t,this.http=r,this.listUsers=[],this.searchForm=this.formBuilder.group({search:""})}ngOnInit(){this.http.get("/party-manager/assets/data/users/users.json").subscribe(r=>{this.listUsers=r})}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(Xd),E.Y36(te))};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-users"]],decls:20,vars:5,consts:[[3,"formGroup"],["id","search-bar","formControlName","search","placeholder","Enter the user to search"],[4,"ngFor","ngForOf"]],template:function(r,s){1&r&&(E.TgZ(0,"section")(1,"h1"),E._uU(2,"The users :"),E.qZA(),E.TgZ(3,"form",0)(4,"fieldset"),E._UZ(5,"input",1),E.qZA()(),E.TgZ(6,"table")(7,"thead")(8,"tr")(9,"th"),E._uU(10,"Name"),E.qZA(),E.TgZ(11,"th"),E._uU(12,"Firstname"),E.qZA(),E.TgZ(13,"th"),E._uU(14,"Mail"),E.qZA(),E.TgZ(15,"th"),E._uU(16,"Status"),E.qZA()()(),E.TgZ(17,"tbody"),E.YNc(18,Op,9,4,"tr",2),E.ALo(19,"searchFilter"),E.qZA()()()),2&r&&(E.xp6(3),E.Q6J("formGroup",s.searchForm),E.xp6(15),E.Q6J("ngForOf",E.xi3(19,2,s.listUsers,s.searchForm.value.search)))},dependencies:[se.sg,go,Mr,Li,ws,Wo,I,hs]})}return n})();const qT=function(n){return["/event",n]};function pt(n,e){if(1&n&&(E.TgZ(0,"tr",3)(1,"td"),E._uU(2),E.qZA(),E.TgZ(3,"td"),E._uU(4),E.qZA(),E.TgZ(5,"td"),E._uU(6),E.qZA(),E.TgZ(7,"td"),E._uU(8),E.qZA(),E.TgZ(9,"td"),E._uU(10),E.qZA()()),2&n){const t=e.$implicit;E.Q6J("routerLink",E.VKq(6,qT,t.name)),E.xp6(2),E.hij(" ",t.name,""),E.xp6(2),E.hij(" ",t.date," "),E.xp6(2),E.hij(" ",t.location," "),E.xp6(2),E.hij(" ",t.type," "),E.xp6(2),E.hij(" ",t.capacity," ")}}let eh=(()=>{class n{constructor(t,r){this.formBuilder=t,this.http=r,this.listEvents=[],this.searchForm=this.formBuilder.group({search:""})}ngOnInit(){this.http.get("/party-manager/assets/data/events/events.json").subscribe(r=>{this.listEvents=r})}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(Xd),E.Y36(te))};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-events"]],decls:22,vars:5,consts:[[3,"formGroup"],["id","search-bar","formControlName","search","placeholder","Enter the event to search"],["id","click-event",3,"routerLink",4,"ngFor","ngForOf"],["id","click-event",3,"routerLink"]],template:function(r,s){1&r&&(E.TgZ(0,"section")(1,"h1"),E._uU(2,"The events :"),E.qZA(),E.TgZ(3,"form",0)(4,"fieldset"),E._UZ(5,"input",1),E.qZA()(),E.TgZ(6,"table")(7,"thead")(8,"tr")(9,"th"),E._uU(10,"Name"),E.qZA(),E.TgZ(11,"th"),E._uU(12,"Date"),E.qZA(),E.TgZ(13,"th"),E._uU(14,"Location"),E.qZA(),E.TgZ(15,"th"),E._uU(16,"Type"),E.qZA(),E.TgZ(17,"th"),E._uU(18,"Capacity"),E.qZA()()(),E.TgZ(19,"tbody"),E.YNc(20,pt,11,8,"tr",2),E.ALo(21,"searchFilter"),E.qZA()()()),2&r&&(E.xp6(3),E.Q6J("formGroup",s.searchForm),E.xp6(17),E.Q6J("ngForOf",E.xi3(21,2,s.listEvents,s.searchForm.value.search)))},dependencies:[se.sg,Kr.rH,go,Mr,Li,ws,Wo,I,hs]})}return n})(),th=(()=>{class n{constructor(t,r){this.http=t,this.route=r,this.authID={id:"",pass:""},this.isLogged=!1}authentication(){this.http.get(`/party-manager/assets/data/ids/${this.authID.id}@${this.authID.pass}.json`).subscribe({next:t=>{this.profile=t,this.isLogged=!0,this.route.navigateByUrl("/")},error:t=>{console.log(t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(E.LFG(te),E.LFG(Kr.F0))};static#t=this.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nh=(()=>{class n{constructor(t){this.auth=t}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(th))};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-connection"]],decls:16,vars:2,consts:[[3,"submit"],["for",""],["name","ID",3,"ngModel","ngModelChange"],["name","Password",3,"ngModel","ngModelChange"],["type","reset"]],template:function(r,s){1&r&&(E.TgZ(0,"section")(1,"h1"),E._uU(2,"Connect :"),E.qZA(),E.TgZ(3,"form",0),E.NdJ("submit",function(){return s.auth.authentication()}),E.TgZ(4,"fieldset")(5,"label",1),E._uU(6,"ID"),E.qZA(),E.TgZ(7,"input",2),E.NdJ("ngModelChange",function(l){return s.auth.authID.id=l}),E.qZA()(),E.TgZ(8,"fieldset")(9,"label",1),E._uU(10,"Password"),E.qZA(),E.TgZ(11,"input",3),E.NdJ("ngModelChange",function(l){return s.auth.authID.pass=l}),E.qZA()(),E.TgZ(12,"button"),E._uU(13,"Connect"),E.qZA(),E.TgZ(14,"button",4),E._uU(15,"RESET"),E.qZA()()()),2&r&&(E.xp6(7),E.Q6J("ngModel",s.auth.authID.id),E.xp6(4),E.Q6J("ngModel",s.auth.authID.pass))},dependencies:[go,Mr,Li,ws,ic,xa]})}return n})(),hy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-inscription"]],decls:2,vars:0,template:function(r,s){1&r&&(E.TgZ(0,"p"),E._uU(1,"inscription works!"),E.qZA())}})}return n})(),fy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-legal"]],decls:15,vars:0,template:function(r,s){1&r&&(E.TgZ(0,"h1"),E._uU(1,"Legal Mentions"),E.qZA(),E.TgZ(2,"h2")(3,"p"),E._uU(4,"This website was made by professionals"),E.qZA(),E.TgZ(5,"p"),E._uU(6,"Please do not try this at home"),E.qZA(),E.TgZ(7,"p"),E._uU(8,"The selected colors can cause headaches and make you see trouble"),E.qZA(),E.TgZ(9,"p"),E._uU(10,"Do not abuse on the utilization of this website"),E.qZA(),E.TgZ(11,"p"),E._uU(12,"Prohibited for people under the age of 21"),E.qZA(),E.TgZ(13,"p"),E._uU(14,"Last but not least, enjoy your 80's time travel"),E.qZA()())}})}return n})();function py(n,e){1&n&&(E.TgZ(0,"span"),E._uU(1,"This field needs at least 8 characters"),E.qZA())}const YT=[{path:"",component:cy},{path:"profile",component:Np},{path:"users",component:dy},{path:"events",component:eh},{path:"event/:fiesta",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-event-select"]],decls:2,vars:0,template:function(r,s){1&r&&(E.TgZ(0,"p"),E._uU(1,"event-select works!"),E.qZA())}})}return n})()},{path:"connection",component:nh},{path:"inscription",component:hy},{path:"legal",component:fy},{path:"contact",component:(()=>{class n{constructor(){this.contact={name:"",firstname:"",age:0,address:{street:"",town:""},phone:"",mail:"",status:"",infos:""}}helloThere(){console.log(this.contact)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-contact"]],decls:46,vars:9,consts:[[3,"submit"],["for",""],["name","Name","required","","minlength","8",3,"ngModel","ngModelChange"],["ctlName","ngModel"],[4,"ngIf"],["name","Firstname",3,"ngModel","ngModelChange"],["name","Street",3,"ngModel","ngModelChange"],["name","Town",3,"ngModel","ngModelChange"],["name","Age",3,"ngModel","ngModelChange"],["name","Mail",3,"ngModel","ngModelChange"],["name","Status",3,"ngModel","ngModelChange"],["name","Infos",3,"ngModel","ngModelChange"],["type","reset"]],template:function(r,s){if(1&r&&(E.TgZ(0,"section")(1,"h1"),E._uU(2,"Need help ?"),E.qZA(),E.TgZ(3,"h2"),E._uU(4,"Leave a message :"),E.qZA(),E.TgZ(5,"form",0),E.NdJ("submit",function(){return s.helloThere()}),E.TgZ(6,"fieldset")(7,"label",1),E._uU(8,"Name"),E.qZA(),E.TgZ(9,"input",2,3),E.NdJ("ngModelChange",function(l){return s.contact.name=l}),E.qZA(),E.YNc(11,py,2,0,"span",4),E.qZA(),E.TgZ(12,"fieldset")(13,"label",1),E._uU(14,"Firstname"),E.qZA(),E.TgZ(15,"input",5),E.NdJ("ngModelChange",function(l){return s.contact.firstname=l}),E.qZA()(),E.TgZ(16,"fieldset")(17,"label",1),E._uU(18,"Street"),E.qZA(),E.TgZ(19,"input",6),E.NdJ("ngModelChange",function(l){return s.contact.address.street=l}),E.qZA()(),E.TgZ(20,"fieldset")(21,"label",1),E._uU(22,"Town"),E.qZA(),E.TgZ(23,"input",7),E.NdJ("ngModelChange",function(l){return s.contact.address.town=l}),E.qZA()(),E.TgZ(24,"fieldset")(25,"label",1),E._uU(26,"Age"),E.qZA(),E.TgZ(27,"input",8),E.NdJ("ngModelChange",function(l){return s.contact.age=l}),E.qZA()(),E.TgZ(28,"fieldset")(29,"label",1),E._uU(30,"Mail"),E.qZA(),E.TgZ(31,"input",9),E.NdJ("ngModelChange",function(l){return s.contact.mail=l}),E.qZA()(),E.TgZ(32,"fieldset")(33,"label",1),E._uU(34,"Status"),E.qZA(),E.TgZ(35,"input",10),E.NdJ("ngModelChange",function(l){return s.contact.status=l}),E.qZA()(),E.TgZ(36,"fieldset")(37,"label",1),E._uU(38,"Infos"),E.qZA(),E.TgZ(39,"input",11),E.NdJ("ngModelChange",function(l){return s.contact.infos=l}),E.qZA()(),E.TgZ(40,"fieldset")(41,"button"),E._uU(42,"Send Message"),E.qZA()(),E.TgZ(43,"fieldset")(44,"button",12),E._uU(45,"Changed My Mind"),E.qZA()()()()),2&r){const u=E.MAs(10);E.xp6(9),E.Q6J("ngModel",s.contact.name),E.xp6(2),E.Q6J("ngIf",u.value.length<8),E.xp6(4),E.Q6J("ngModel",s.contact.firstname),E.xp6(4),E.Q6J("ngModel",s.contact.address.street),E.xp6(4),E.Q6J("ngModel",s.contact.address.town),E.xp6(4),E.Q6J("ngModel",s.contact.age),E.xp6(4),E.Q6J("ngModel",s.contact.mail),E.xp6(4),E.Q6J("ngModel",s.contact.status),E.xp6(4),E.Q6J("ngModel",s.contact.infos)}},dependencies:[se.O5,go,Mr,Li,ws,cs,lc,ic,xa]})}return n})()},{path:"organization",loadChildren:()=>V.e(954).then(V.bind(V,954)).then(n=>n.OrganizationModule),canActivate:[(n,e)=>(0,E.f3M)(th).isLogged]}];let QT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=E.oAB({type:n});static#n=this.\u0275inj=E.cJS({imports:[Kr.Bz.forRoot(YT),Kr.Bz]})}return n})(),gy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[["routerLink","/legal"],["routerLink","/contact"],["routerLink","/organization"]],template:function(r,s){1&r&&(E.TgZ(0,"nav")(1,"ul")(2,"li",0),E._uU(3," Legal Mentions"),E.qZA(),E.TgZ(4,"li",1),E._uU(5," Contact Us"),E.qZA(),E.TgZ(6,"li",2),E._uU(7,"Private access"),E.qZA()()())},dependencies:[Kr.rH]})}return n})();function ge(n,e){1&n&&(E.TgZ(0,"li",7),E._uU(1," Profile"),E.qZA())}function Lt(n,e){1&n&&(E.TgZ(0,"li",8),E._uU(1," Inscription"),E.qZA())}function kp(n,e){1&n&&(E.TgZ(0,"li",9),E._uU(1," Connection"),E.qZA())}function Fp(n,e){if(1&n){const t=E.EpF();E.TgZ(0,"li",10),E.NdJ("click",function(){E.CHM(t);const s=E.oxw();return E.KtG(s.auth.isLogged=!1)}),E._uU(1," Disconnection"),E.qZA()}}let Tr=(()=>{class n{constructor(t){this.auth=t}static#e=this.\u0275fac=function(r){return new(r||n)(E.Y36(th))};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-menu"]],decls:12,vars:4,consts:[["routerLink","/"],["routerLink","/events"],["routerLink","/users"],["routerLink","/profile",4,"ngIf"],["routerLink","/inscription",4,"ngIf"],["routerLink","/connection",4,"ngIf"],["routerLink","/",3,"click",4,"ngIf"],["routerLink","/profile"],["routerLink","/inscription"],["routerLink","/connection"],["routerLink","/",3,"click"]],template:function(r,s){1&r&&(E.TgZ(0,"nav")(1,"ul")(2,"li",0),E._uU(3," Home"),E.qZA(),E.TgZ(4,"li",1),E._uU(5," Events"),E.qZA(),E.TgZ(6,"li",2),E._uU(7," Users"),E.qZA(),E.YNc(8,ge,2,0,"li",3),E.YNc(9,Lt,2,0,"li",4),E.YNc(10,kp,2,0,"li",5),E.YNc(11,Fp,2,0,"li",6),E.qZA()()),2&r&&(E.xp6(8),E.Q6J("ngIf",s.auth.isLogged),E.xp6(1),E.Q6J("ngIf",!s.auth.isLogged),E.xp6(1),E.Q6J("ngIf",!s.auth.isLogged),E.xp6(1),E.Q6J("ngIf",s.auth.isLogged))},dependencies:[se.O5,Kr.rH]})}return n})(),Lp=(()=>{class n{constructor(){this.title="party-manager"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=E.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,template:function(r,s){1&r&&(E.TgZ(0,"header"),E._UZ(1,"app-menu"),E.qZA(),E.TgZ(2,"main"),E._UZ(3,"router-outlet"),E.qZA(),E.TgZ(4,"footer"),E._UZ(5,"app-footer"),E.qZA())},dependencies:[Kr.lC,gy,Tr]})}return n})();function Va(n,e,t,r,s,u,l){try{var h=n[u](l),p=h.value}catch(_){return void t(_)}h.done?e(p):Promise.resolve(p).then(r,s)}function ie(n){return function(){var e=this,t=arguments;return new Promise(function(r,s){var u=n.apply(e,t);function l(p){Va(u,r,s,l,h,"next",p)}function h(p){Va(u,r,s,l,h,"throw",p)}l(void 0)})}}const Fe=function(n,e){if(!n)throw Ko(e)},Ko=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},my=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=63&s|128):55296==(64512&s)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&n.charCodeAt(++r)),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=63&s|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=63&s|128)}return e},Nr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const u=n[s],l=s+1<n.length,h=l?n[s+1]:0,p=s+2<n.length,_=p?n[s+2]:0;let O=(15&h)<<2|_>>6,U=63&_;p||(U=64,l||(O=64)),r.push(t[u>>2],t[(3&u)<<4|h>>4],t[O],t[U])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(my(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const u=n[t++];e[r++]=String.fromCharCode((31&s)<<6|63&u)}else if(s>239&&s<365){const p=((7&s)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(1023&p))}else{const u=n[t++],l=n[t++];e[r++]=String.fromCharCode((15&s)<<12|(63&u)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const u=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const _=s<n.length?t[n.charAt(s)]:64;++s;const R=s<n.length?t[n.charAt(s)]:64;if(++s,null==u||null==h||null==_||null==R)throw new yo;r.push(u<<2|h>>4),64!==_&&(r.push(h<<4&240|_>>2),64!==R&&r.push(_<<6&192|R))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vp=function(n){const e=my(n);return Nr.encodeByteArray(e,!0)},vo=function(n){return Vp(n).replace(/\./g,"")},fs=function(n){try{return Nr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function y(n){return T(void 0,n)}function T(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!m(t)||(n[t]=T(n[t],e[t]));return n}function m(n){return"__proto__"!==n}const Y=()=>{try{return function C(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fs(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},K=n=>{var e,t;return null===(t=null===(e=Y())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},xe=n=>{const e=K(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dt=()=>{var n;return null===(n=Y())||void 0===n?void 0:n.config},en=n=>{var e;return null===(e=Y())||void 0===e?void 0:e[`_${n}`]};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Bi(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",s=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vo(JSON.stringify({alg:"none",type:"JWT"})),vo(JSON.stringify(l)),""].join(".")}function kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Gs(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function Ua(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Eo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ja.prototype.create)}}class ja{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,u=this.errors[e],l=u?function Up(n,e){return n.replace(Bp,(t,r)=>{const s=e[r];return null!=s?String(s):`<${r}?>`})}(u,r):"Error";return new Eo(s,`${this.serviceName}: ${l} (${s}).`,r)}}const Bp=/\{\$([^}]+)}/g;function tl(n){return JSON.parse(n)}function Or(n){return JSON.stringify(n)}const ih=function(n){let e={},t={},r={},s="";try{const u=n.split(".");e=tl(fs(u[0])||""),t=tl(fs(u[1])||""),s=u[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:s}};function $a(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ha(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function JT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jp(n,e,t){const r={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=e.call(t,n[s],s,n));return r}function $p(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const u=n[s],l=e[s];if(C0(u)&&C0(l)){if(!$p(u,l))return!1}else if(u!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function C0(n){return null!==n&&"object"==typeof n}function nl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class ah{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let R=0;R<16;R++)r[R]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let R=0;R<16;R++)r[R]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let R=16;R<80;R++){const O=r[R-3]^r[R-8]^r[R-14]^r[R-16];r[R]=4294967295&(O<<1|O>>>31)}let _,D,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],h=this.chain_[3],p=this.chain_[4];for(let R=0;R<80;R++){R<40?R<20?(_=h^u&(l^h),D=1518500249):(_=u^l^h,D=1859775393):R<60?(_=u&l|h&(u|l),D=2400959708):(_=u^l^h,D=3395469782);const O=(s<<5|s>>>27)+_+p+D+r[R]&4294967295;p=h,h=l,l=4294967295&(u<<30|u>>>2),u=s,s=O}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let s=0;const u=this.buf_;let l=this.inbuf_;for(;s<t;){if(0===l)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(u[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(u),l=0;break}}else for(;s<t;)if(u[l]=e[s],++l,++s,l===this.blockSize){this.compress_(u),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[s]>>u&255,++r;return e}}class Gp{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");s=function ew(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===s.next&&(s.next=zp),void 0===s.error&&(s.error=zp),void 0===s.complete&&(s.complete=zp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),u}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zp(){}const rl=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function Ai(n){return n&&n._delegate?n._delegate:n}class Qo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ga="[DEFAULT]";class aw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ot;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),s=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(s)return null;throw u}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function b0(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:s});r.resolve(u)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return ie(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,l]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(u)&&l.resolve(s);return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),u=null!==(r=this.onInitCallbacks.get(s))&&void 0!==r?r:new Set;u.add(e),this.onInitCallbacks.set(s,u);const l=this.instances.get(s);return l&&e(l,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ga?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class bi{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Iy=[];var tn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(tn||{});const qp={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},S0=tn.INFO,uw={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},Ty=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),s=uw[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${r}]  ${n.name}:`,...t)};class Zo{constructor(e){this.name=e,this._logLevel=S0,this._logHandler=Ty,this._userLogHandler=null,Iy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const lw=(n,e)=>e.some(t=>n instanceof t);let Kp,il;const P0=new WeakMap,cw=new WeakMap,M0=new WeakMap,dw=new WeakMap,hw=new WeakMap;let wy={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return cw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||M0.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ss(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function N0(n){return"function"==typeof n?function wr(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function R0(){return il||(il=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Cy(this),e),Ss(P0.get(this))}:function(...e){return Ss(n.apply(Cy(this),e))}:function(e,...t){const r=n.call(Cy(this),e,...t);return M0.set(r,e.sort?e.sort():[e]),Ss(r)}}(n):(n instanceof IDBTransaction&&function fc(n){if(cw.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});cw.set(n,e)}(n),lw(n,function FO(){return Kp||(Kp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,wy):n)}function Ss(n){if(n instanceof IDBRequest)return function LO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(Ss(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&P0.set(t,n)}).catch(()=>{}),hw.set(e,n),e}(n);if(dw.has(n))return dw.get(n);const e=N0(n);return e!==n&&(dw.set(n,e),hw.set(e,n)),e}const Cy=n=>hw.get(n),fw=["get","getKey","getAll","getAllKeys","count"],Yp=["put","add","delete","clear"],sl=new Map;function pw(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(sl.get(e))return sl.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Yp.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!fw.includes(t))return;const u=function(){var l=ie(function*(h,...p){const _=this.transaction(h,s?"readwrite":"readonly");let D=_.store;return r&&(D=D.index(p.shift())),(yield Promise.all([D[t](...p),s&&_.done]))[0]});return function(p){return l.apply(this,arguments)}}();return sl.set(e,u),u}!function x0(n){wy=n(wy)}(n=>({...n,get:(e,t,r)=>pw(e,t)||n.get(e,t,r),has:(e,t)=>!!pw(e,t)||n.has(e,t)}));class VO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function O0(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const gw="@firebase/app",Xo=new Zo("@firebase/app"),by="[DEFAULT]",vw={[gw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ol=new Map,Sy=new Map;function q0(n,e){try{n.container.addComponent(e)}catch(t){Xo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function za(n){const e=n.name;if(Sy.has(e))return Xo.debug(`There were multiple attempts to register component ${e}.`),!1;Sy.set(e,n);for(const t of ol.values())q0(t,n);return!0}function Jo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Wa=new ja("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Iw{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const al="10.6.0";function Tw(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!1},e),s=r.name;if("string"!=typeof s||!s)throw Wa.create("bad-app-name",{appName:String(s)});if(t||(t=dt()),!t)throw Wa.create("no-options");const u=ol.get(s);if(u){if($p(t,u.options)&&$p(r,u.config))return u;throw Wa.create("duplicate-app",{appName:s})}const l=new bi(s);for(const p of Sy.values())l.addComponent(p);const h=new Iw(t,r,l);return ol.set(s,h),h}function fh(n=by){const e=ol.get(n);if(!e&&n===by&&dt())return Tw();if(!e)throw Wa.create("no-app",{appName:n});return e}function eg(){return Array.from(ol.values())}function or(n,e,t){var r;let s=null!==(r=vw[n])&&void 0!==r?r:n;t&&(s+=`-${t}`);const u=s.match(/\s|\//),l=e.match(/\s|\//);if(u||l){const h=[`Unable to register library "${s}" with version "${e}":`];return u&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Xo.warn(h.join(" "))}za(new Qo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const $O="firebase-heartbeat-database",HO=1,tg="firebase-heartbeat-store";let Ry=null;function ph(){return Ry||(Ry=function Rs(n,e,{blocked:t,upgrade:r,blocking:s,terminated:u}={}){const l=indexedDB.open(n,e),h=Ss(l);return r&&l.addEventListener("upgradeneeded",p=>{r(Ss(l.result),p.oldVersion,p.newVersion,Ss(l.transaction),p)}),t&&l.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),s&&p.addEventListener("versionchange",_=>s(_.oldVersion,_.newVersion,_))}).catch(()=>{}),h}($O,HO,{upgrade:(n,e)=>{0===e&&n.createObjectStore(tg)}}).catch(n=>{throw Wa.create("idb-open",{originalErrorMessage:n.message})})),Ry}function rg(){return(rg=ie(function*(n){try{return yield(yield ph()).transaction(tg).objectStore(tg).get(ul(n))}catch(e){if(e instanceof Eo)Xo.warn(e.message);else{const t=Wa.create("idb-get",{originalErrorMessage:e?.message});Xo.warn(t.message)}}})).apply(this,arguments)}function Py(n,e){return ig.apply(this,arguments)}function ig(){return(ig=ie(function*(n,e){try{const r=(yield ph()).transaction(tg,"readwrite");yield r.objectStore(tg).put(e,ul(n)),yield r.done}catch(t){if(t instanceof Eo)Xo.warn(t.message);else{const r=Wa.create("idb-set",{originalErrorMessage:t?.message});Xo.warn(r.message)}}})).apply(this,arguments)}function ul(n){return`${n.name}!${n.options.appId}`}class sg{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Y0(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return ie(function*(){var t;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gh();if(null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==u&&!e._heartbeatsCache.heartbeats.some(l=>l.date===u))return e._heartbeatsCache.heartbeats.push({date:u,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(l=>{const h=new Date(l.date).valueOf();return Date.now()-h<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return ie(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=gh(),{heartbeatsToSend:s,unsentEntries:u}=function og(n,e=1024){const t=[];let r=n.slice();for(const s of n){const u=t.find(l=>l.agent===s.agent);if(u){if(u.dates.push(s.date),Aw(t)>e){u.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Aw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),l=vo(JSON.stringify({version:2,heartbeats:s}));return e._heartbeatsCache.lastSentHeartbeatDate=r,u.length>0?(e._heartbeatsCache.heartbeats=u,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),l})()}}function gh(){return(new Date).toISOString().substring(0,10)}class Y0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return ie(function*(){return!!function ZT(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function XT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var u;e((null===(u=s.error)||void 0===u?void 0:u.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return ie(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ng(n){return rg.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return ie(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return Py(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return ie(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return Py(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function Aw(n){return vo(JSON.stringify({version:2,heartbeats:n})).length}!function Q0(n){za(new Qo("platform-logger",e=>new VO(e),"PRIVATE")),za(new Qo("heartbeat",e=>new sg(e),"PRIVATE")),or(gw,"0.9.23",n),or(gw,"0.9.23","esm2017"),or("fire-js","")}(""),or("firebase","10.6.0","app");var Z0=V(7394);class X0 extends Z0.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const ag={setInterval(n,e,...t){const{delegate:r}=ag;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=ag;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Sw=V(9039);class Rw extends X0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const s=this.id,u=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(u,s,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return ag.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&ag.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,r=!1;try{this.work(e)}catch(u){r=!0,s=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Sw.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Si={now:()=>(Si.delegate||Date).now(),delegate:void 0};class ll{constructor(e,t=ll.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ll.now=Si.now;class xy extends ll{constructor(e,t=ll.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const ci=new class Ny extends xy{}(class J0 extends Rw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Pw=new xy(Rw);var tS=V(9397),Oy=V(5137),Mw=V(3093);const cl=new E.GfV("ANGULARFIRE2_VERSION");function mh(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const _h=(n,e)=>{const t=e?[e]:eg(),r=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};class lg{constructor(){return _h(ky)}}const ky="app-check";function qa(){}class xw{zone;delegate;constructor(e,t=ci){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const s=this.zone;return this.delegate.schedule(function(l){s.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class yh{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa)),t.pipe((0,tS.b)({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vh=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new xw(Zone.current)),this.insideAngular=t.run(()=>new xw(Zone.current,Pw)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(E.LFG(E.R0b))};static \u0275prov=E.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ka(n){return mc().ngZone.run(()=>n())}function cg(n){return function Ow(n){return function(t){return(t=t.lift(new yh(n.ngZone))).pipe((0,Oy.R)(n.outsideAngular),(0,Mw.Q)(n.insideAngular))}}(mc())(n)}const Fy=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ka(()=>n.apply(void 0,r))},Ya=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||=Ka(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa))),r[u]=Fy(r[u],t));const s=function Nw(n){return mc().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(s instanceof ne.y){const u=mc();return s.pipe((0,Oy.R)(u.outsideAngular),(0,Mw.Q)(u.insideAngular))}return Ka(()=>s)}return s instanceof ne.y?s.pipe(cg):s instanceof Promise?Ka(()=>new Promise((u,l)=>s.then(h=>Ka(()=>u(h)),h=>Ka(()=>l(h))))):"function"==typeof s&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),s.apply(this,arguments)}:Ka(()=>s)};class dl{constructor(e){return e}}class Ih{constructor(){return eg()}}const Ly=new E.OlP("angularfire2._apps"),iS={provide:dl,useFactory:function rS(n){return n&&1===n.length?n[0]:new dl(fh())},deps:[[new E.FiY,Ly]]},kw={provide:Ih,deps:[[new E.FiY,Ly]]};function dg(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new dl(r)}}let Vy=(()=>{class n{constructor(t){or("angularfire",cl.full,"core"),or("angularfire",cl.full,"app"),or("angular",E.q4F.full,t.toString())}static \u0275fac=function(r){return new(r||n)(E.LFG(E.Lbi))};static \u0275mod=E.oAB({type:n});static \u0275inj=E.cJS({providers:[iS,kw]})}return n})();function Uy(n,...e){return{ngModule:Vy,providers:[{provide:Ly,useFactory:dg(n),multi:!0,deps:[E.R0b,E.zs3,vh,...e]}]}}const Lw=Ya(Tw,!0);var Vw=V(7582);const fg=function hg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yc=new ja("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vc=new Zo("@firebase/auth");function Th(n,...e){vc.logLevel<=tn.ERROR&&vc.error(`Auth (${al}): ${n}`,...e)}function di(n,...e){throw jy(n,...e)}function $i(n,...e){return jy(n,...e)}function jy(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yc.create(n,...e)}function Le(n,e,...t){if(!n)throw jy(e,...t)}function Io(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Th(e),new Error(e)}function ea(n,e){n||Io(e)}function Ec(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function gg(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Tc(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ic(){return"http:"===gg()||"https:"===gg()}()||function Yr(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class wh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ea(t>e,"Short delay should be less than long delay!"),this.isMobile=Gs()||Ua()}get(){return Tc()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bw(n,e){ea(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class jw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fS=new wh(3e4,6e4);function an(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function En(n,e,t,r){return Ch.apply(this,arguments)}function Ch(){return(Ch=ie(function*(n,e,t,r,s={}){return Hy(n,s,ie(function*(){let u={},l={};r&&("GET"===e?l=r:u={body:JSON.stringify(r)});const h=nl(Object.assign({key:n.config.apiKey},l)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),jw.fetch()($w(n,n.config.apiHost,t,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},u))}))})).apply(this,arguments)}function Hy(n,e,t){return mg.apply(this,arguments)}function mg(){return(mg=ie(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},$y),e);try{const s=new gS(n),u=yield Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=yield u.json();if("needConfirmation"in l)throw Dh(n,"account-exists-with-different-credential",l);if(u.ok&&!("errorMessage"in l))return l;{const h=u.ok?l.errorMessage:l.error.message,[p,_]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw Dh(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===p)throw Dh(n,"email-already-in-use",l);if("USER_DISABLED"===p)throw Dh(n,"user-disabled",l);const D=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw function Uw(n,e,t){const r=Object.assign(Object.assign({},fg()),{[e]:t});return new ja("auth","Firebase",r).create(e,{appName:n.name})}(n,D,_);di(n,D)}}catch(s){if(s instanceof Eo)throw s;di(n,"network-request-failed",{message:String(s)})}})).apply(this,arguments)}function _g(){return(_g=ie(function*(n,e,t,r,s={}){const u=yield En(n,e,t,r,s);return"mfaPendingCredential"in u&&di(n,"multi-factor-auth-required",{_serverResponse:u}),u})).apply(this,arguments)}function $w(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Bw(n.config,s):`${n.config.apiScheme}://${s}`}class gS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),fS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=$i(n,e,r);return s.customData._tokenResponse=t,s}function Ww(){return(Ww=ie(function*(n,e){return En(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function zy(){return(zy=ie(function*(n,e){return En(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ah(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fl(){return(fl=ie(function*(n,e=!1){const t=Ai(n),r=yield t.getIdToken(e),s=bh(r);Le(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const u="object"==typeof s.firebase?s.firebase:void 0,l=u?.sign_in_provider;return{claims:s,token:r,authTime:Ah(yg(s.auth_time)),issuedAtTime:Ah(yg(s.iat)),expirationTime:Ah(yg(s.exp)),signInProvider:l||null,signInSecondFactor:u?.sign_in_second_factor||null}})).apply(this,arguments)}function yg(n){return 1e3*Number(n)}function bh(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const s=fs(t);return s?JSON.parse(s):(Th("Failed to decode base64 JWT payload"),null)}catch(s){return Th("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Qa(n,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=ie(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Eo&&function QO({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Wy{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const s=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(ie(function*(){yield t.iteration()}),r)}iteration(){var e=this;return ie(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ah(this.lastLoginAt),this.creationTime=Ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Eg(n){return Zw.apply(this,arguments)}function Zw(){return Zw=ie(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),s=yield Qa(n,function yS(n,e){return zy.apply(this,arguments)}(t,{idToken:r}));Le(s?.users.length,t,"internal-error");const u=s.users[0];n._notifyReloadListener(u);const l=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?function ES(n){return n.map(e=>{var{providerId:t}=e,r=(0,Vw._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(u.providerUserInfo):[],h=function vS(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}(n.providerData,l),D=!!n.isAnonymous&&!(n.email&&u.passwordHash||h?.length),R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new vg(u.createdAt,u.lastLoginAt),isAnonymous:D};Object.assign(n,R)}),Zw.apply(this,arguments)}function qy(){return(qy=ie(function*(n){const e=Ai(n);yield Eg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ig(){return(Ig=ie(function*(n,e){const t=yield Hy(n,{},ie(function*(){const r=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:u}=n.config,l=$w(n,s,"/v1/token",`key=${u}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",jw.fetch()(l,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function Ky(){return(Ky=ie(function*(n,e){return En(n,"POST","/v2/accounts:revokeToken",an(n,e))})).apply(this,arguments)}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Yw(n){const e=bh(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return ie(function*(){return Le(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return ie(function*(){const{accessToken:s,refreshToken:u,expiresIn:l}=yield function IS(n,e){return Ig.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(s,u,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:u}=t,l=new pl;return r&&(Le("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),s&&(Le("string"==typeof s,"internal-error",{appName:e}),l.accessToken=s),u&&(Le("number"==typeof u,"internal-error",{appName:e}),l.expirationTime=u),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Io("not implemented")}}function Za(n,e){Le("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,u=(0,Vw._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new vg(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return ie(function*(){const r=yield Qa(t,t.stsTokenManager.getToken(t.auth,e));return Le(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function na(n){return fl.apply(this,arguments)}(this,e)}reload(){return function Xw(n){return qy.apply(this,arguments)}(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return ie(function*(){let s=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),s=!0),t&&(yield Eg(r)),yield r.auth._persistUserIfCurrent(r),s&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return ie(function*(){const t=yield e.getIdToken();return yield Qa(e,function YO(n,e){return Ww.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,u,l,h,p,_,D;const R=null!==(r=t.displayName)&&void 0!==r?r:void 0,O=null!==(s=t.email)&&void 0!==s?s:void 0,U=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,z=null!==(l=t.photoURL)&&void 0!==l?l:void 0,Q=null!==(h=t.tenantId)&&void 0!==h?h:void 0,J=null!==(p=t._redirectEventId)&&void 0!==p?p:void 0,Ue=null!==(_=t.createdAt)&&void 0!==_?_:void 0,Ge=null!==(D=t.lastLoginAt)&&void 0!==D?D:void 0,{uid:Se,emailVerified:nt,isAnonymous:kt,providerData:bt,stsTokenManager:zn}=t;Le(Se&&zn,e,"internal-error");const ni=pl.fromJSON(this.name,zn);Le("string"==typeof Se,e,"internal-error"),Za(R,e.name),Za(O,e.name),Le("boolean"==typeof nt,e,"internal-error"),Le("boolean"==typeof kt,e,"internal-error"),Za(U,e.name),Za(z,e.name),Za(Q,e.name),Za(J,e.name),Za(Ue,e.name),Za(Ge,e.name);const Gl=new Ps({uid:Se,auth:e,email:O,emailVerified:nt,displayName:R,isAnonymous:kt,photoURL:z,phoneNumber:U,tenantId:Q,stsTokenManager:ni,createdAt:Ue,lastLoginAt:Ge});return bt&&Array.isArray(bt)&&(Gl.providerData=bt.map(v0=>Object.assign({},v0))),J&&(Gl._redirectEventId=J),Gl}static _fromIdTokenResponse(e,t,r=!1){return ie(function*(){const s=new pl;s.updateFromServerResponse(t);const u=new Ps({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return yield Eg(u),u})()}}const Jw=new Map;function ra(n){ea(n instanceof Function,"Expected a class definition");let e=Jw.get(n);return e?(ea(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jw.set(n,e),e)}const Yy=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return ie(function*(){return!0})()}_set(t,r){var s=this;return ie(function*(){s.storage[t]=r})()}_get(t){var r=this;return ie(function*(){const s=r.storage[t];return void 0===s?null:s})()}_remove(t){var r=this;return ie(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function wg(n,e,t){return`firebase:${n}:${e}:${t}`}class Cc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:u}=this.auth;this.fullUserKey=wg(this.userKey,s.apiKey,u),this.fullPersistenceKey=wg("persistence",s.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return ie(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ps._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return ie(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return ie(function*(){if(!t.length)return new Cc(ra(Yy),e,r);const s=(yield Promise.all(t.map(function(){var _=ie(function*(D){if(yield D._isAvailable())return D});return function(D){return _.apply(this,arguments)}}()))).filter(_=>_);let u=s[0]||ra(Yy);const l=wg(r,e.config.apiKey,e.name);let h=null;for(const _ of t)try{const D=yield _._get(l);if(D){const R=Ps._fromJSON(e,D);_!==u&&(h=R),u=_;break}}catch{}const p=s.filter(_=>_._shouldAllowMigration);return u._shouldAllowMigration&&p.length?(u=p[0],h&&(yield u._set(l,h.toJSON())),yield Promise.all(t.map(function(){var _=ie(function*(D){if(D!==u)try{yield D._remove(l)}catch{}});return function(D){return _.apply(this,arguments)}}())),new Cc(u,e,r)):new Cc(u,e,r)})()}}function eC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ac(e))return"Blackberry";if(Qy(e))return"Webos";if(Cg(e))return"Safari";if((e.includes("chrome/")||wS(e))&&!e.includes("edge/"))return"Chrome";if(Dc(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function tC(n=kn()){return/firefox\//i.test(n)}function Cg(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wS(n=kn()){return/crios\//i.test(n)}function CS(n=kn()){return/iemobile/i.test(n)}function Dc(n=kn()){return/android/i.test(n)}function Ac(n=kn()){return/blackberry/i.test(n)}function Qy(n=kn()){return/webos/i.test(n)}function Sh(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Xy(n=kn()){return Sh(n)||Dc(n)||Qy(n)||Ac(n)||/windows phone/i.test(n)||CS(n)}function Rh(n,e=[]){let t;switch(n){case"Browser":t=eC(kn());break;case"Worker":t=`${eC(kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${al}/${r}`}class ZO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((l,h)=>{try{l(e(u))}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return ie(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const s of t.queue)yield s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}})()}}function ev(){return(ev=ie(function*(n,e={}){return En(n,"GET","/v2/passwordPolicy",an(n,e))})).apply(this,arguments)}class iC{constructor(e){var t,r,s,u;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=l.minPasswordLength)&&void 0!==t?t:6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),void 0!==l.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),void 0!==l.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),void 0!==l.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),void 0!==l.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(s=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==s?s:"",this.forceUpgradeOnSignin=null!==(u=e.forceUpgradeOnSignin)&&void 0!==u&&u,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,u,l,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=null===(t=p.meetsMinPasswordLength)||void 0===t||t),p.isValid&&(p.isValid=null===(r=p.meetsMaxPasswordLength)||void 0===r||r),p.isValid&&(p.isValid=null===(s=p.containsLowercaseLetter)||void 0===s||s),p.isValid&&(p.isValid=null===(u=p.containsUppercaseLetter)||void 0===u||u),p.isValid&&(p.isValid=null===(l=p.containsNumericCharacter)||void 0===l||l),p.isValid&&(p.isValid=null===(h=p.containsNonAlphanumericCharacter)||void 0===h||h),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class sC{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oC(this),this.idTokenSubscription=new oC(this),this.beforeStateQueue=new ZO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ra(t)),this._initializationPromise=this.queue(ie(function*(){var s,u;if(!r._deleted&&(r.persistenceManager=yield Cc.create(r,e),!r._deleted)){if(null!==(s=r._popupRedirectResolver)&&void 0!==s&&s._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return ie(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return ie(function*(){var r;const s=yield t.assertedPersistence.getCurrentUser();let u=s,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,p=u?._redirectEventId,_=yield t.tryRedirectSignIn(e);(!h||h===p)&&_?.user&&(u=_.user,l=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(u)}catch(h){u=s,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return Le(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return ie(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return ie(function*(){try{yield Eg(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function hS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return ie(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return ie(function*(){const r=e?Ai(e):null;return r&&Le(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return ie(function*(){if(!r._deleted)return e&&Le(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(ie(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return ie(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(ie(function*(){yield t.assertedPersistence.setPersistence(ra(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return ie(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return ie(function*(){const t=yield function Jy(n){return ev.apply(this,arguments)}(e),r=new iC(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ja("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return ie(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(s.tenantId=t.tenantId),yield function Tg(n,e){return Ky.apply(this,arguments)}(t,s)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return ie(function*(){const s=yield r.getOrInitRedirectPersistenceManager(t);return null===e?s.removeCurrentUser():s.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return ie(function*(){if(!t.redirectPersistenceManager){const r=e&&ra(e)||t._popupRedirectResolver;Le(r,t,"argument-error"),t.redirectPersistenceManager=yield Cc.create(t,[ra(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return ie(function*(){var r,s;return t._isInitialized&&(yield t.queue(ie(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(s=t.redirectUser)||void 0===s?void 0:s._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return ie(function*(){if(e===t.currentUser)return t.queue(ie(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{l||u(this.currentUser)}),"function"==typeof t){const p=e.addObserver(t,r,s);return()=>{l=!0,p()}}{const p=e.addObserver(t);return()=>{l=!0,p()}}}directlySetCurrentUser(e){var t=this;return ie(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return ie(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const s=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();s&&(r["X-Firebase-Client"]=s);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return ie(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function pg(n,...e){vc.logLevel<=tn.WARN&&vc.warn(`Auth (${al}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function An(n){return Ai(n)}class oC{constructor(e){this.auth=e,this.observer=null,this.addObserver=function vy(n,e){const t=new Gp(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function aC(n){return`__${n}${Math.floor(1e6*Math.random())}`}function av(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class XO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,t){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}}function zs(n,e){return Sg.apply(this,arguments)}function Sg(){return(Sg=ie(function*(n,e){return function To(n,e,t,r){return _g.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",an(n,e))})).apply(this,arguments)}class Ja{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kc extends Ja{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,s=!1){return ie(function*(){const u=yield Ps._fromIdTokenResponse(e,r,s),l=fC(r);return new gs({user:u,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return ie(function*(){yield e._updateTokensIfNecessary(r,!0);const s=fC(r);return new gs({user:e,providerId:s,_tokenResponse:r,operationType:t})})()}}function fC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Og extends Eo{constructor(e,t,r,s){var u;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Og.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Og(e,t,r,s)}}function Ev(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?Og._fromErrorAndOperation(n,u,e,r):u})}function Fg(){return(Fg=ie(function*(n,e,t=!1){const r=yield Qa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return gs._forOperation(n,"link",r)})).apply(this,arguments)}function $h(){return($h=ie(function*(n,e,t=!1){const{auth:r}=n,s="reauthenticate";try{const u=yield Qa(n,Ev(r,s,e,n),t);Le(u.idToken,r,"internal-error");const l=bh(u.idToken);Le(l,r,"internal-error");const{sub:h}=l;return Le(n.uid===h,r,"user-mismatch"),gs._forOperation(n,s,u)}catch(u){throw"auth/user-not-found"===u?.code&&di(r,"user-mismatch"),u}})).apply(this,arguments)}function Hh(){return(Hh=ie(function*(n,e,t=!1){const r="signIn",s=yield Ev(n,r,e),u=yield gs._fromIdTokenResponse(n,r,s);return t||(yield n._updateCurrentUser(u.user)),u})).apply(this,arguments)}const Yg="__sak";class PC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yg,"1"),this.storage.removeItem(Yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZS=(()=>{class n extends PC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _k(){const n=kn();return Cg(n)||Sh(n)}()&&function rC(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xy(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),u=this.localCache[r];s!==u&&t(r,u,s)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((h,p,_)=>{this.notifyListeners(h,_)});const s=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(s);if(t.newValue!==h)null!==t.newValue?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!r)return}const u=()=>{const h=this.storage.getItem(s);!r&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);!function DS(){return function T0(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?u():setTimeout(u,10)}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const u of Array.from(s))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var s=()=>super._set,u=this;return ie(function*(){yield s().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,s=this;return ie(function*(){const u=yield r().call(s,t);return s.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,s=this;return ie(function*(){yield r().call(s,t),delete s.localCache[t]})()}}return n.type="LOCAL",n})(),Uv=(()=>{class n extends PC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let JS=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const s=new n(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return ie(function*(){const s=t,{eventId:u,eventType:l,data:h}=s.data,p=r.handlersMap[l];if(!p?.size)return;s.ports[0].postMessage({status:"ack",eventId:u,eventType:l});const _=Array.from(p).map(function(){var R=ie(function*(O){return O(s.origin,h)});return function(O){return R.apply(this,arguments)}}()),D=yield function XS(n){return Promise.all(n.map(function(){var e=ie(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(_);s.ports[0].postMessage({status:"done",eventId:u,eventType:l,response:D})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Qh(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class eR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var s=this;return ie(function*(){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let l,h;return new Promise((p,_)=>{const D=Qh("",20);u.port1.start();const R=setTimeout(()=>{_(new Error("unsupported_event"))},r);h={messageChannel:u,onMessage(O){const U=O;if(U.data.eventId===D)switch(U.data.status){case"ack":clearTimeout(R),l=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(U.data.response);break;default:clearTimeout(R),clearTimeout(l),_(new Error("invalid_response"))}}},s.handlers.add(h),u.port1.addEventListener("message",h.onMessage),s.target.postMessage({eventType:e,eventId:D,data:t},[u.port2])}).finally(()=>{h&&s.removeMessageHandler(h)})})()}}function gr(){return window}function Bv(){return typeof gr().WorkerGlobalScope<"u"&&"function"==typeof gr().importScripts}function xs(){return(xs=ie(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $v="firebaseLocalStorageDb",Zh="firebaseLocalStorage",Hv="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vc(n,e){return n.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function Qg(){const n=indexedDB.open($v,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Zh,{keyPath:Hv})}catch(s){t(s)}}),n.addEventListener("success",ie(function*(){const r=n.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),yield function Ek(){const n=indexedDB.deleteDatabase($v);return new iu(n).toPromise()}(),e(yield Qg()))}))})}function Gv(n,e,t){return Zg.apply(this,arguments)}function Zg(){return(Zg=ie(function*(n,e,t){const r=Vc(n,!0).put({[Hv]:e,value:t});return new iu(r).toPromise()})).apply(this,arguments)}function Xh(){return(Xh=ie(function*(n,e){const t=Vc(n,!1).get(e),r=yield new iu(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Do(n,e){const t=Vc(n,!0).delete(e);return new iu(t).toPromise()}const aR=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return ie(function*(){return t.db||(t.db=yield Qg()),t.db})()}_withRetries(t){var r=this;return ie(function*(){let s=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(s++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return ie(function*(){return Bv()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return ie(function*(){t.receiver=JS._getInstance(function rR(){return Bv()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=ie(function*(s,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(s,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=ie(function*(s,u){return["keyChanged"]});return function(s,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return ie(function*(){var r,s;if(t.activeServiceWorker=yield function nR(){return xs.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new eR(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);u&&null!==(r=u[0])&&void 0!==r&&r.fulfilled&&null!==(s=u[0])&&void 0!==s&&s.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return ie(function*(){if(r.sender&&r.activeServiceWorker&&function jv(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return ie(function*(){try{if(!indexedDB)return!1;const t=yield Qg();return yield Gv(t,Yg,"1"),yield Do(t,Yg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return ie(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var s=this;return ie(function*(){return s._withPendingWrite(ie(function*(){return yield s._withRetries(u=>Gv(u,t,r)),s.localCache[t]=r,s.notifyServiceWorker(t)}))})()}_get(t){var r=this;return ie(function*(){const s=yield r._withRetries(u=>function xC(n,e){return Xh.apply(this,arguments)}(u,t));return r.localCache[t]=s,s})()}_remove(t){var r=this;return ie(function*(){return r._withPendingWrite(ie(function*(){return yield r._withRetries(s=>Do(s,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return ie(function*(){const r=yield t._withRetries(l=>{const h=Vc(l,!1).getAll();return new iu(h).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const s=[],u=new Set;for(const{fbase_key:l,value:h}of r)u.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(h)&&(t.notifyListeners(l,h),s.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!u.has(l)&&(t.notifyListeners(l,null),s.push(l));return s})()}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const u of Array.from(s))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(ie(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();aC("rcb"),new wh(3e4,6e4);class Uc extends XO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pR(n){return function ia(n,e){return Hh.apply(this,arguments)}(n.auth,new Uc(n),n.bypassAuthState)}function gR(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),function VS(n,e){return $h.apply(this,arguments)}(t,new Uc(n),n.bypassAuthState)}function mR(n){return Zv.apply(this,arguments)}function Zv(){return(Zv=ie(function*(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),function kg(n,e){return Fg.apply(this,arguments)}(t,new Uc(n),n.bypassAuthState)})).apply(this,arguments)}class _R{constructor(e,t,r,s,u=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=ie(function*(r,s){e.pendingPromise={resolve:r,reject:s};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,s){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return ie(function*(){const{urlResponse:r,sessionId:s,postBody:u,tenantId:l,error:h,type:p}=e;if(h)return void t.reject(h);const _={auth:t.auth,requestUri:r,sessionId:s,tenantId:l||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(p)(_))}catch(D){t.reject(D)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pR;case"linkViaPopup":case"linkViaRedirect":return mR;case"reauthViaPopup":case"reauthViaRedirect":return gR;default:di(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new wh(2e3,1e4);const bk="pendingRedirect",su=new Map;class vR extends _R{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return ie(function*(){let r=su.get(t.auth._key());if(!r){try{const u=(yield function ER(n,e){return tf.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(s){r=()=>Promise.reject(s)}su.set(t.auth._key(),r)}return t.bypassAuthState||su.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return ie(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const s=yield r.auth._redirectUserForId(e.eventId);if(s)return r.user=s,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return ie(function*(){})()}cleanUp(){}}function tf(){return(tf=ie(function*(n,e){const t=function nf(n){return wg(bk,n.config.apiKey,n.name)}(e),r=function ou(n){return ra(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const s="true"===(yield r._get(t));return yield r._remove(t),s})).apply(this,arguments)}function hi(n,e){su.set(n._key(),e)}function tE(n,e){return om.apply(this,arguments)}function om(){return(om=ie(function*(n,e,t=!1){const r=An(n),s=function yl(n,e){return e?ra(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new vR(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}class HC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function GC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!iE(e)){const s=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError($i(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(e))}saveEventToCache(e){this.cachedEventUids.add(rE(e)),this.lastProcessedEventTime=Date.now()}}function rE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iE({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function oE(){return(oE=ie(function*(n,e={}){return En(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Sk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rk=/^https?/;function aE(){return aE=ie(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function sE(n){return oE.apply(this,arguments)}(n);for(const t of e)try{if(Pk(t))return}catch{}di(n,"unauthorized-domain")}),aE.apply(this,arguments)}function Pk(n){const e=Ec(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!Rk.test(t))return!1;if(Sk.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const TR=new wh(3e4,6e4);function wR(){const n=gr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let um=null;function DR(n){return um=um||function CR(n){return new Promise((e,t)=>{var r,s,u;function l(){wR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wR(),t($i(n,"network-request-failed"))},timeout:TR.get()})}if(null!==(s=null===(r=gr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==s&&s.Iframe)e(gapi.iframes.getContext());else{if(null===(u=gr().gapi)||void 0===u||!u.load){const h=aC("iframefcb");return gr()[h]=()=>{gapi.load?l():t($i(n,"network-request-failed"))},function bc(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const u=$i("internal-error");u.customData=s,t(u)},r.type="text/javascript",r.charset="UTF-8",function nv(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${h}`).catch(p=>t(p))}l()}}).catch(e=>{throw um=null,e})}(n),um}const uE=new wh(5e3,15e3),uf="__/auth/iframe",lE="emulator/auth/iframe",lm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lf(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Bw(e,lE):`https://${n.config.authDomain}/${uf}`,r={apiKey:e.apiKey,appName:n.name,v:al},s=zC.get(n.config.apiHost);s&&(r.eid=s);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${nl(r).slice(1)}`}function cE(){return cE=ie(function*(n){const e=yield DR(n),t=gr().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:lf(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lm,dontclear:!0},r=>new Promise(function(){var s=ie(function*(u,l){yield r.restyle({setHideOnLeave:!1});const h=$i(n,"network-request-failed"),p=gr().setTimeout(()=>{l(h)},uE.get());function _(){gr().clearTimeout(p),u(r)}r.ping(_).then(_,()=>{l(h)})});return function(u,l){return s.apply(this,arguments)}}()))}),cE.apply(this,arguments)}const cf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Mk="__/auth/handler",PR="emulator/auth/handler",MR=encodeURIComponent("fac");function fm(n,e,t,r,s,u){return dE.apply(this,arguments)}function dE(){return(dE=ie(function*(n,e,t,r,s,u){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:al,eventId:s};if(e instanceof Ja){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",JT(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[D,R]of Object.entries(u||{}))l[D]=R}if(e instanceof kc){const D=e.getScopes().filter(R=>""!==R);D.length>0&&(l.scopes=D.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const D of Object.keys(h))void 0===h[D]&&delete h[D];const p=yield n._getAppCheckToken(),_=p?`#${MR}=${encodeURIComponent(p)}`:"";return`${function qC({config:n}){return n.emulator?Bw(n,PR):`https://${n.authDomain}/${Mk}`}(n)}?${nl(h).slice(1)}${_}`})).apply(this,arguments)}const hE="webStorageSupport",KC=class xR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uv,this._completeRedirectFn=tE,this._overrideRedirectResult=hi}_openPopup(e,t,r,s){var u=this;return ie(function*(){var l;ea(null===(l=u.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const h=yield fm(e,t,r,Ec(),s);return function dm(n,e,t,r=500,s=600){const u=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},cf),{width:r.toString(),height:s.toString(),top:u,left:l}),_=kn().toLowerCase();t&&(h=wS(_)?"_blank":t),tC(_)&&(e=e||"http://localhost",p.scrollbars="yes");const D=Object.entries(p).reduce((O,[U,z])=>`${O}${U}=${z},`,"");if(function Zy(n=kn()){var e;return Sh(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(_)&&"_self"!==h)return function hm(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",h),new cm(null);const R=window.open(e||"",h,D);Le(R,n,"popup-blocked");try{R.focus()}catch{}return new cm(R)}(e,h,Qh())})()}_openRedirect(e,t,r,s){var u=this;return ie(function*(){return yield u._originValidation(e),function tR(n){gr().location.href=n}(yield fm(e,t,r,Ec(),s)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:u}=this.eventManagers[t];return s?Promise.resolve(s):(ea(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return ie(function*(){const r=yield function WC(n){return cE.apply(this,arguments)}(e),s=new HC(e);return r.register("authEvent",u=>(Le(u?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:s},t.iframes[e._key()]=r,s})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hE,{type:hE},s=>{var u;const l=null===(u=s?.[0])||void 0===u?void 0:u[hE];void 0!==l&&t(!!l),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function IR(n){return aE.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xy()||Cg()||Sh()}};var pm="@firebase/auth";class gm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return ie(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const OR=en("authIdTokenMaxAge")||300;let ZC=null;const kR=n=>function(){var e=ie(function*(t){const r=t&&(yield t.getIdTokenResult()),s=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>OR)return;const u=r?.token;ZC!==u&&(ZC=u,yield fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function _E(n=fh()){const e=Jo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function AS(n,e){const t=Jo(n,"auth");if(t.isInitialized()){const s=t.getImmediate();if($p(t.getOptions(),e??{}))return s;di(s,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:KC,persistence:[aR,ZS,Uv]}),r=en("authTokenSyncURL");if(r){const u=kR(r);(function wC(n,e,t){Ai(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function Yh(n,e,t,r){Ai(n).onIdTokenChanged(e,t,r)}(t,l=>u(l))}const s=K("auth");return s&&function ov(n,e,t){const r=An(n);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!t?.disableWarnings,u=av(e),{host:l,port:h}=function SS(n){const e=av(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const u=s[1];return{host:u,port:uv(r.substr(u.length+1))}}{const[u,l]=r.split(":");return{host:u,port:uv(l)}}}(e);r.config.emulator={url:`${u}//${l}${null===h?"":`:${h}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function lv(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${s}`),t}!function mE(n){za(new Qo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Le(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rh(n)},_=new sC(r,s,u,p);return function bS(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ra);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),za(new Qo("auth-internal",e=>{const t=An(e.getProvider("auth").getImmediate());return new gm(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(pm,"1.4.0",function mm(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),or(pm,"1.4.0","esm2017")}("Browser");class ym{constructor(e){return e}}class df{constructor(){return _h("auth")}}const yE=new E.OlP("angularfire2.auth-instances");function vE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ym(r)}}const JC={provide:df,deps:[[new E.FiY,yE]]},EE={provide:ym,useFactory:function XC(n,e){const t=mh("auth",n,e);return t&&new ym(t)},deps:[[new E.FiY,yE],dl]};let eD=(()=>{class n{constructor(){or("angularfire",cl.full,"auth")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=E.oAB({type:n});static \u0275inj=E.cJS({providers:[EE,JC]})}return n})();function FR(n,...e){return{ngModule:eD,providers:[{provide:yE,useFactory:vE(n),multi:!0,deps:[E.R0b,E.zs3,vh,Ih,[new E.FiY,lg],...e]}]}}const nD=Ya(_E,!0);var $e,aD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qs={},TE=TE||{},Et=aD||self;function Gc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function aa(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vm="closure_uid_"+(1e9*Math.random()>>>0),sP=0;function oP(n,e,t){return n.call.apply(n.bind,arguments)}function uD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Zr(n,e,t){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oP:uD).apply(null,arguments)}function El(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[s].apply(r,l)}}function ua(){this.s=this.s,this.o=this.o}ua.prototype.s=!1,ua.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function iP(n){Object.prototype.hasOwnProperty.call(n,vm)&&n[vm]||(n[vm]=++sP)}(this)},ua.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function CE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function cD(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gc(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function Xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xr.prototype.h=function(){this.defaultPrevented=!0};var Em=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",()=>{},e),Et.removeEventListener("test",()=>{},e)}catch{}return n}();function zc(n){return/^[\s\xa0]*$/.test(n)}function ff(){var n=Et.navigator;return n&&(n=n.userAgent)?n:""}function Ks(n){return-1!=ff().indexOf(n)}function Im(n){return Im[" "](n),n}Im[" "]=function(){};var bE,n,hD=Ks("Opera"),Il=Ks("Trident")||Ks("MSIE"),DE=Ks("Edge"),AE=DE||Il,fD=Ks("Gecko")&&!(-1!=ff().toLowerCase().indexOf("webkit")&&!Ks("Edge"))&&!(Ks("Trident")||Ks("MSIE"))&&!Ks("Edge"),aP=-1!=ff().toLowerCase().indexOf("webkit")&&!Ks("Edge");function pD(){var n=Et.document;return n?n.documentMode:void 0}e:{var SE="",RE=(n=ff(),fD?/rv:([^\);]+)(\)|;)/.exec(n):DE?/Edge\/([\d\.]+)/.exec(n):Il?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aP?/WebKit\/(\S+)/.exec(n):hD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(RE&&(SE=RE?RE[1]:""),Il){var PE=pD();if(null!=PE&&PE>parseFloat(SE)){bE=String(PE);break e}}bE=SE}var uP=Et.document&&Il&&(pD()||parseInt(bE,10))||void 0;function pf(n,e){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(fD){e:{try{Im(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pf.$.h.call(this)}}Fr(pf,Xr);var lP={2:"touch",3:"pen",4:"mouse"};pf.prototype.h=function(){pf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gf="closure_listenable_"+(1e6*Math.random()|0),cP=0;function dP(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++cP,this.fa=this.ia=!1}function Tm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function xE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function NE(n){const e={};for(const t in n)e[t]=n[t];return e}const OE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kE(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<OE.length;u++)t=OE[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mf(n){this.src=n,this.g={},this.h=0}function wm(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=wE(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Tm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Cm(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}mf.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Cm(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new dP(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var Dm="closure_lm_"+(1e6*Math.random()|0),Am={};function FE(n,e,t,r,s){if(r&&r.once)return _D(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)FE(n,e[u],t,r,s);return null}return t=Sm(t),n&&n[gf]?n.O(e,t,aa(r)?!!r.capture:!!r,s):LE(n,e,t,!1,r,s)}function LE(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=aa(s)?!!s.capture:!!s,h=vD(n);if(h||(n[Dm]=h=new mf(n)),(t=h.add(e,t,r,l,u)).proxy)return t;if(r=function Tl(){const e=VE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Em||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(hP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _D(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)_D(n,e[u],t,r,s);return null}return t=Sm(t),n&&n[gf]?n.P(e,t,aa(r)?!!r.capture:!!r,s):LE(n,e,t,!0,r,s)}function yD(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)yD(n,e[u],t,r,s);else r=aa(r)?!!r.capture:!!r,t=Sm(t),n&&n[gf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Cm(u=n.g[e],t,r,s))&&(Tm(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=vD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Cm(e,t,r,s)),(t=-1<n?e[n]:null)&&du(t))}function du(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[gf])wm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(hP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=vD(e))?(wm(t,n),0==t.h&&(t.src=null,e[Dm]=null)):Tm(n)}}}function hP(n){return n in Am?Am[n]:Am[n]="on"+n}function VE(n,e){if(n.fa)n=!0;else{e=new pf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&du(n),n=t.call(r,e)}return n}function vD(n){return(n=n[Dm])instanceof mf?n:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sm(n){return"function"==typeof n?n:(n[bm]||(n[bm]=function(e){return n.handleEvent(e)}),n[bm])}function Jr(){ua.call(this),this.i=new mf(this),this.S=this,this.J=null}function Zn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Xr(e,n);else if(e instanceof Xr)e.target=e.target||n;else{var s=e;kE(e=new Xr(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=Rm(l,r,!0,e)&&s}if(s=Rm(l=e.g=n,r,!0,e)&&s,s=Rm(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Rm(l=e.g=t[u],r,!1,e)&&s}function Rm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var h=l.listener,p=l.la||l.src;l.ia&&wm(n.i,l),s=!1!==h.call(p,r)&&s}}return s&&!r.defaultPrevented}Fr(Jr,ua),Jr.prototype[gf]=!0,Jr.prototype.removeEventListener=function(n,e,t,r){yD(this,n,e,t,r)},Jr.prototype.N=function(){if(Jr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Tm(t[r]);delete n.g[e],n.h--}}this.J=null},Jr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Jr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var UE=Et.JSON.stringify;function Wc(){var n=BE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _f=new class fP{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Pm,n=>n.reset());class Pm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Gi(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Xk(n){Et.setTimeout(()=>{throw n},0)}let qc,Kc=!1,BE=new class pP{constructor(){this.h=this.g=null}add(e,t){const r=_f.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},jE=()=>{const n=Et.Promise.resolve(void 0);qc=()=>{n.then(ED)}};var ED=()=>{for(var n;n=Wc();){try{n.h.call(n.g)}catch(t){Xk(t)}var e=_f;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Kc=!1};function yf(n,e){Jr.call(this),this.h=n||1,this.g=e||Et,this.j=Zr(this.qb,this),this.l=Date.now()}function Mm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function $E(n,e,t){if("function"==typeof n)t&&(n=Zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function ID(n){n.g=$E(()=>{n.g=null,n.i&&(n.i=!1,ID(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fr(yf,Jr),($e=yf.prototype).ga=!1,$e.T=null,$e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zn(this,"tick"),this.ga&&(Mm(this),this.start()))}},$e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.N=function(){yf.$.N.call(this),Mm(this),delete this.g};class gP extends ua{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ID(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(n){ua.call(this),this.h=n,this.g={}}Fr(la,ua);var TD=[];function wD(n,e,t,r){Array.isArray(t)||(t&&(TD[0]=t.toString()),t=TD);for(var s=0;s<t.length;s++){var u=FE(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function CD(n){xE(n.g,function(e,t){this.g.hasOwnProperty(t)&&du(e)},n),n.g={}}function wl(){this.g=!0}function Cl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vf(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return UE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}la.prototype.N=function(){la.$.N.call(this),CD(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wl.prototype.Ea=function(){this.g=!1},wl.prototype.info=function(){};var Ys={},bD=null;function xm(){return bD=bD||new Jr}function SD(n){Xr.call(this,Ys.Ta,n)}function Yc(n){const e=xm();Zn(e,new SD(e))}function HE(n,e){Xr.call(this,Ys.STAT_EVENT,n),this.stat=e}function fi(n){const e=xm();Zn(e,new HE(e,n))}function RD(n,e){Xr.call(this,Ys.Ua,n),this.size=e}function Qc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}Ys.Ta="serverreachability",Fr(SD,Xr),Ys.STAT_EVENT="statevent",Fr(HE,Xr),Ys.Ua="timingevent",Fr(RD,Xr);var Nm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function MD(){}function yP(){}MD.prototype.h=null;var GE,Om={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function km(){Xr.call(this,"d")}function Zc(){Xr.call(this,"c")}function Fm(){}function Xc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new la(this),this.P=vP,this.V=new yf(n=AE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jc}function Jc(){this.i=null,this.g="",this.h=!1}Fr(km,Xr),Fr(Zc,Xr),Fr(Fm,MD),Fm.prototype.g=function(){return new XMLHttpRequest},Fm.prototype.i=function(){return{}},GE=new Fm;var vP=45e3,zE={},Lm={};function WE(n,e,t){n.L=1,n.v=Hm(So(e)),n.s=t,n.S=!0,EP(n,null)}function EP(n,e){n.G=Date.now(),Ef(n),n.A=So(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),VD(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Jc,n.g=dI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new gP(Zr(n.Pa,n,n.g),n.O)),wD(n.U,n.g,"readystatechange",n.nb),e=n.I?NE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Yc(),function DD(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",h=u.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var D=_[0];_=_[1];var R=D.split("_");l=2<=R.length&&"type"==R[1]?l+(D+"=")+_+"&":l+(D+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function xD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function qE(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=IP(n,t),s==Lm){4==e&&(n.o=4,fi(14),r=!1),Cl(n.j,n.m,null,"[Incomplete Response]");break}if(s==zE){n.o=4,fi(15),Cl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Cl(n.j,n.m,s,null),Um(n,s)}xD(n)&&s!=Lm&&s!=zE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),oI(e),e.M=!0,fi(11))):(Cl(n.j,n.m,t,"[Invalid Chunked Response]"),Dl(n),td(n))}function IP(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Lm:(t=Number(e.substring(t,r)),isNaN(t)?zE:(r+=1)+t>e.length?Lm:(e=e.slice(r,r+t),n.C=r+t,e))}function Ef(n){n.Y=Date.now()+n.P,ed(n,n.P)}function ed(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qc(Zr(n.lb,n),e)}function Vm(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}function td(n){0==n.l.H||n.J||aI(n.l,n)}function Dl(n){Vm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Mm(n.V),CD(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Um(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Wm(t.i,n)))if(!n.K&&Wm(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;fu(t),Ym(t)}sI(t),fi(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Qc(Zr(t.ib,t),6e3));if(1>=zm(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else pu(t,11)}else if((n.K||t.g==n)&&fu(t),!zc(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let _=s[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const D=_[3];null!=D&&(t.ra=D,t.l.info("VER="+t.ra));const R=_[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const O=_[5];null!=O&&"number"==typeof O&&0<O&&(t.L=r=1.5*O,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const z=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var u=r.i;u.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(wf(u,u.h),u.h=null))}if(r.F){const Q=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(r.Da=Q,bn(r.I,r.F,Q))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=cI(r,r.J?r.pa:null,r.Y),l.K){BD(r.i,l);var h=l,p=r.L;p&&h.setTimeout(p),h.B&&(Vm(h),Ef(h)),r.g=l}else ZD(r);0<t.j.length&&Rf(t)}else"stop"!=_[0]&&"close"!=_[0]||pu(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?pu(t,7):iI(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}Yc()}catch{}}function OD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gc(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ND(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gc(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TP(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gc(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}($e=Xc.prototype).setTimeout=function(n){this.P=n},$e.nb=function(n){n=n.target;const e=this.M;e&&3==Ro(n)?e.l():this.Pa(n)},$e.Pa=function(n){try{if(n==this.g)e:{const D=Ro(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||AE||this.g&&(this.h.h||this.g.ja()||tI(this.g)))){this.J||4!=D||7==e||Yc(),Vm(this);var t=this.g.da();this.ca=t;t:if(xD(this)){var r=tI(this.g);n="";var s=r.length,u=4==Ro(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Dl(this),td(this);var l="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function AD(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zc(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,fi(12),Dl(this),td(this);break e}Cl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Um(this,t)}this.S?(qE(this,D,l),AE&&this.i&&3==D&&(wD(this.U,this.V,"tick",this.mb),this.V.start())):(Cl(this.j,this.m,l,null),Um(this,l)),4==D&&Dl(this),this.i&&!this.J&&(4==D?aI(this.l,this):(this.i=!1,Ef(this)))}else(function Jk(n){const e={};n=(n.g&&2<=Ro(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(zc(n[r]))continue;var t=Gi(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function mD(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),Dl(this),td(this)}}}catch{}},$e.mb=function(){if(this.g){var n=Ro(this.g),e=this.g.ja();this.C<e.length&&(Vm(this),qE(this,n,e),this.i&&4!=n&&Ef(this))}},$e.cancel=function(){this.J=!0,Dl(this)},$e.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mP(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yc(),fi(17)),Dl(this),this.o=2,td(this)):ed(this,this.Y-n)};var Bm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof hu){this.h=n.h,jm(this,n.j),this.s=n.s,this.g=n.g,$m(this,n.m),this.l=n.l;var e=n.i,t=new Tf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),kD(this,t),this.o=n.o}else n&&(e=String(n).match(Bm))?(this.h=!1,jm(this,e[1]||"",!0),this.s=nd(e[2]||""),this.g=nd(e[3]||"",!0),$m(this,e[4]),this.l=nd(e[5]||"",!0),kD(this,e[6]||"",!0),this.o=nd(e[7]||"")):(this.h=!1,this.i=new Tf(null,this.h))}function So(n){return new hu(n)}function jm(n,e,t){n.j=t?nd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $m(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kD(n,e,t){e instanceof Tf?(n.i=e,function RP(n,e){e&&!n.j&&(ca(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(KE(this,r),VD(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=If(e,bP)),n.i=new Tf(e,n.h))}function bn(n,e,t){n.i.set(e,t)}function Hm(n){return bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function If(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,CP),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(If(e,FD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(If(e,FD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(If(t,"/"==t.charAt(0)?AP:DP,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",If(t,SP)),n.join("")};var FD=/[#\/\?@]/g,DP=/[#\?:]/g,AP=/[#\?]/g,bP=/[#\?@]/g,SP=/#/g;function Tf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ca(n){n.g||(n.g=new Map,n.h=0,n.i&&function wP(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function KE(n,e){ca(n),e=Al(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function LD(n,e){return ca(n),e=Al(n,e),n.g.has(e)}function VD(n,e,t){KE(n,e),0<t.length&&(n.i=null,n.g.set(Al(n,e),CE(t)),n.h+=t.length)}function Al(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function UD(n){this.l=n||MP,n=Et.PerformanceNavigationTiming?0<(n=Et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=Tf.prototype).add=function(n,e){ca(this),this.i=null,n=Al(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$e.forEach=function(n,e){ca(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},$e.ta=function(){ca(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},$e.Z=function(n){ca(this);let e=[];if("string"==typeof n)LD(this,n)&&(e=e.concat(this.g.get(Al(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$e.set=function(n,e){return ca(this),this.i=null,LD(this,n=Al(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var MP=10;function Gm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zm(n){return n.h?1:n.g?n.g.size:0}function Wm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wf(n,e){n.g?n.g.add(e):n.h=e}function BD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return CE(n.i)}UD.prototype.cancel=function(){if(this.i=jD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var YE=class{stringify(n){return Et.JSON.stringify(n,void 0)}parse(n){return Et.JSON.parse(n,void 0)}};function xP(){this.g=new YE}function $D(n,e,t){const r=t||"";try{OD(n,function(s,u){let l=s;aa(s)&&(l=UE(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Cf(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Df(n){this.l=n.ec||null,this.j=n.ob||!1}function QE(n,e){Jr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Af,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fr(Df,MD),Df.prototype.g=function(){return new QE(this.l,this.j)},Df.prototype.i=function(n){return function(){return n}}({}),Fr(QE,Jr);var Af=0;function qm(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function bf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rd(n)}function rd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($e=QE.prototype).open=function(n,e){if(this.readyState!=Af)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rd(this)},$e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bf(this)),this.readyState=Af},$e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rd(this)),this.g&&(this.readyState=3,rd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qm(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bf(this):rd(this),3==this.readyState&&qm(this)}},$e.Za=function(n){this.g&&(this.response=this.responseText=n,bf(this))},$e.Ya=function(n){this.g&&(this.response=n,bf(this))},$e.ka=function(){this.g&&bf(this)},$e.setRequestHeader=function(n,e){this.v.append(n,e)},$e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(QE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var HD=Et.JSON.parse;function Xn(n){Jr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ZE,this.L=this.M=!1}Fr(Xn,Jr);var ZE="",XE=/^https?$/i,GD=["POST","PUT"];function JE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,eI(n),Km(n)}function eI(n){n.F||(n.F=!0,Zn(n,"complete"),Zn(n,"error"))}function WD(n){if(n.h&&typeof TE<"u"&&(!n.C[1]||4!=Ro(n)||2!=n.da()))if(n.v&&4==Ro(n))$E(n.La,0,n);else if(Zn(n,"readystatechange"),4==Ro(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(Bm)[1]||null;!s&&Et.self&&Et.self.location&&(s=Et.self.location.protocol.slice(0,-1)),r=!XE.test(s?s.toLowerCase():"")}t=r}if(t)Zn(n,"complete"),Zn(n,"success");else{n.m=6;try{var u=2<Ro(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",eI(n)}}finally{Km(n)}}}function Km(n,e){if(n.g){qD(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Zn(n,"ready");try{t.onreadystatechange=r}catch{}}}function qD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function Ro(n){return n.g?n.g.readyState:0}function tI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ZE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nI(n){let e="";return xE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function rI(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=nI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bn(n,e,t))}function Sf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NP(n){this.Ga=0,this.j=[],this.l=new wl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sf("baseRetryDelayMs",5e3,n),this.hb=Sf("retryDelaySeedMs",1e4,n),this.eb=Sf("forwardChannelMaxRetries",2,n),this.xa=Sf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new UD(n&&n.concurrentRequestLimit),this.Ja=new xP,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function iI(n){if(KD(n),3==n.H){var e=n.W++,t=So(n.I);if(bn(t,"SID",n.K),bn(t,"RID",e),bn(t,"TYPE","terminate"),Pf(n,t),(e=new Xc(n,n.l,e)).L=2,e.v=Hm(So(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon)try{t=Et.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Et.Image&&((new Image).src=e.v,t=!0),t||(e.g=dI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ef(e)}lI(n)}function Ym(n){n.g&&(oI(n),n.g.cancel(),n.g=null)}function KD(n){Ym(n),n.u&&(Et.clearTimeout(n.u),n.u=null),fu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Et.clearTimeout(n.m),n.m=null)}function Rf(n){if(!Gm(n.i)&&!n.m){n.m=!0;var e=n.Na;qc||jE(),Kc||(qc(),Kc=!0),BE.add(e,n),n.C=0}}function YD(n,e){var t;t=e?e.m:n.W++;const r=So(n.I);bn(r,"SID",n.K),bn(r,"RID",t),bn(r,"AID",n.V),Pf(n,r),n.o&&n.s&&rI(r,n.o,n.s),t=new Xc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=QD(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),wf(n.i,t),WE(t,r,e)}function Pf(n,e){n.na&&xE(n.na,function(t,r){bn(e,r,t)}),n.h&&OD({},function(t,r){bn(e,r,t)})}function QD(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Zr(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let h=!0;for(let p=0;p<t;p++){let _=s[p].g;const D=s[p].map;if(_-=u,0>_)u=Math.max(0,s[p].g-100),h=!1;else try{$D(D,l,"req"+_+"_")}catch{r&&r(D)}}if(h){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function ZD(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;qc||jE(),Kc||(qc(),Kc=!0),BE.add(e,n),n.A=0}}function sI(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Qc(Zr(n.Ma,n),uI(n,n.A)),n.A++,0))}function oI(n){null!=n.B&&(Et.clearTimeout(n.B),n.B=null)}function XD(n){n.g=new Xc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=So(n.wa);bn(e,"RID","rpc"),bn(e,"SID",n.K),bn(e,"AID",n.V),bn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&bn(e,"TO",n.qa),bn(e,"TYPE","xmlhttp"),Pf(n,e),n.o&&n.s&&rI(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Hm(So(e)),t.s=null,t.S=!0,EP(t,n)}function fu(n){null!=n.v&&(Et.clearTimeout(n.v),n.v=null)}function aI(n,e){var t=null;if(n.g==e){fu(n),oI(n),n.g=null;var r=2}else{if(!Wm(n.i,e))return;t=e.F,BD(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Zn(r=xm(),new RD(r,t)),Rf(n)}else ZD(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function OP(n,e){return!(zm(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Qc(Zr(n.Na,n,e),uI(n,n.C)),n.C++,0)))}(n,e)||2==r&&sI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:pu(n,5);break;case 4:pu(n,10);break;case 3:pu(n,6);break;default:pu(n,2)}}function uI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function pu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Zr(n.pb,n);t||(t=new hu("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||jm(t,"https"),Hm(t)),function bl(n,e){const t=new wl;if(Et.Image){const r=new Image;r.onload=El(Cf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=El(Cf,t,r,"TestLoadImage: error",!1,e),r.onabort=El(Cf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=El(Cf,t,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fi(2);n.H=0,n.h&&n.h.za(e),lI(n),KD(n)}function lI(n){if(n.H=0,n.ma=[],n.h){const e=jD(n.i);(0!=e.length||0!=n.j.length)&&(cD(n.ma,e),cD(n.ma,n.j),n.i.i.length=0,CE(n.j),n.j.length=0),n.h.ya()}}function cI(n,e,t){var r=t instanceof hu?So(t):new hu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),$m(r,r.m);else{var s=Et.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new hu(null);r&&jm(u,r),e&&(u.g=e),s&&$m(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&bn(r,t,e),bn(r,"VER",n.ra),Pf(n,r),r}function dI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(t&&n.Ha&&!n.va?new Df({ob:!0}):n.va)).Oa(n.J),e}function JD(){}function hI(){if(Il&&!(10<=Number(uP)))throw Error("Environmental error: no available transport.")}function Os(n,e){Jr.call(this),this.g=new NP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!zc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new id(this)}function eA(n){km.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fI(){Zc.call(this),this.status=1}function id(n){this.g=n}function Qs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sl(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function pn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}($e=Xn.prototype).Oa=function(n){this.M=n},$e.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GE.g(),this.C=function _P(n){return n.h||(n.h=n.i())}(this.u?this.u:GE),this.g.onreadystatechange=Zr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void JE(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Et.FormData&&n instanceof Et.FormData,!(0<=wE(GD,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qD(this),0<this.B&&((this.L=function zD(n){return Il&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.ua,this)):this.A=$E(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){JE(this,u)}},$e.ua=function(){typeof TE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))},$e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zn(this,"complete"),Zn(this,"abort"),Km(this))},$e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Km(this,!0)),Xn.$.N.call(this)},$e.La=function(){this.s||(this.G||this.v||this.l?WD(this):this.kb())},$e.kb=function(){WD(this)},$e.isActive=function(){return!!this.g},$e.da=function(){try{return 2<Ro(this)?this.g.status:-1}catch{return-1}},$e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),HD(e)}},$e.Ia=function(){return this.m},$e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=NP.prototype).ra=8,$e.H=1,$e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Xc(this,this.l,n);let u=this.s;if(this.U&&(u?(u=NE(u),kE(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QD(this,s,e),bn(t=So(this.I),"RID",n),bn(t,"CVER",22),this.F&&bn(t,"X-HTTP-Session-Id",this.F),Pf(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(nI(u)))+"&"+e:this.o&&rI(t,this.o,u)),wf(this.i,s),this.bb&&bn(t,"TYPE","init"),this.P?(bn(t,"$req",e),bn(t,"SID","null"),s.aa=!0,WE(s,t,null)):WE(s,t,e),this.H=2}}else 3==this.H&&(n?YD(this,n):0==this.j.length||Gm(this.i)||YD(this))},$e.Ma=function(){if(this.u=null,XD(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Qc(Zr(this.jb,this),n)}},$e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fi(10),Ym(this),XD(this))},$e.ib=function(){null!=this.v&&(this.v=null,Ym(this),sI(this),fi(19))},$e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fi(2)):(this.l.info("Failed to ping google.com"),fi(1))},$e.isActive=function(){return!!this.h&&this.h.isActive(this)},($e=JD.prototype).Ba=function(){},$e.Aa=function(){},$e.za=function(){},$e.ya=function(){},$e.isActive=function(){return!0},$e.Va=function(){},hI.prototype.g=function(n,e){return new Os(n,e)},Fr(Os,Jr),Os.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=cI(n,null,n.Y),Rf(n)},Os.prototype.close=function(){iI(this.g)},Os.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=UE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Rf(e)},Os.prototype.N=function(){this.g.h=null,delete this.j,iI(this.g),delete this.g,Os.$.N.call(this)},Fr(eA,km),Fr(fI,Zc),Fr(id,JD),id.prototype.Ba=function(){Zn(this.g,"a")},id.prototype.Aa=function(n){Zn(this.g,new eA(n))},id.prototype.za=function(n){Zn(this.g,new fI)},id.prototype.ya=function(){Zn(this.g,"b")},Fr(Qs,function kP(){this.blockSize=-1}),Qs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)Sl(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){Sl(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){Sl(this,r),s=0;break}}this.h=s,this.i+=e},Qs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var pI={};function gI(n){return-128<=n&&128>n?function dD(n,e){var t=pI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new pn([0|e],0>e?-1:0)}):new pn([0|n],0>n?-1:0)}function da(n){if(isNaN(n)||!isFinite(n))return Po;if(0>n)return Lr(da(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=nA;return new pn(e,0)}var nA=4294967296,Po=gI(0),mI=gI(1),rA=gI(16777216);function ha(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ri(n){return-1==n.h}function Lr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new pn(t,~n.h).add(mI)}function Qm(n,e){return n.add(Lr(e))}function Mf(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function gu(n,e){this.g=n,this.h=e}function Zm(n,e){if(ha(e))throw Error("division by zero");if(ha(n))return new gu(Po,Po);if(Ri(n))return e=Zm(Lr(n),e),new gu(Lr(e.g),Lr(e.h));if(Ri(e))return e=Zm(n,Lr(e)),new gu(Lr(e.g),e.h);if(30<n.g.length){if(Ri(n)||Ri(e))throw Error("slowDivide_ only works with positive integers.");for(var t=mI,r=e;0>=r.X(n);)t=iA(t),r=iA(r);var s=Rl(t,1),u=Rl(r,1);for(r=Rl(r,2),t=Rl(t,2);!ha(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=Rl(r,1),t=Rl(t,1)}return e=Qm(n,s.R(e)),new gu(s,e)}for(s=Po;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=da(t)).R(e);Ri(l)||0<l.X(n);)l=(u=da(t-=r)).R(e);ha(u)&&(u=mI),s=s.add(u),n=Qm(n,l)}return new gu(s,n)}function iA(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new pn(t,n.h)}function Rl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new pn(s,n.h)}($e=pn.prototype).ea=function(){if(Ri(this))return-Lr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:nA+r)*e,e*=nA}return n},$e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ha(this))return"0";if(Ri(this))return"-"+Lr(this).toString(n);for(var e=da(Math.pow(n,6)),t=this,r="";;){var s=Zm(t,e).g,u=((0<(t=Qm(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ha(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},$e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$e.X=function(n){return Ri(n=Qm(this,n))?-1:ha(n)?0:1},$e.abs=function(){return Ri(this)?Lr(this):this},$e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new pn(t,-2147483648&t[t.length-1]?-1:0)},$e.R=function(n){if(ha(this)||ha(n))return Po;if(Ri(this))return Ri(n)?Lr(this).R(Lr(n)):Lr(Lr(this).R(n));if(Ri(n))return Lr(this.R(Lr(n)));if(0>this.X(rA)&&0>n.X(rA))return da(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),h=n.D(s)>>>16,p=65535&n.D(s);t[2*r+2*s]+=l*p,Mf(t,2*r+2*s),t[2*r+2*s+1]+=u*p,Mf(t,2*r+2*s+1),t[2*r+2*s+1]+=l*h,Mf(t,2*r+2*s+1),t[2*r+2*s+2]+=u*h,Mf(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new pn(t,0)},$e.gb=function(n){return Zm(this,n).h},$e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new pn(t,this.h&n.h)},$e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new pn(t,this.h|n.h)},$e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new pn(t,this.h^n.h)},hI.prototype.createWebChannel=hI.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Nm.NO_ERROR=0,Nm.TIMEOUT=8,Nm.HTTP_ERROR=6,PD.COMPLETE="complete",yP.EventType=Om,Om.OPEN="a",Om.CLOSE="b",Om.ERROR="c",Om.MESSAGE="d",Jr.prototype.listen=Jr.prototype.O,Xn.prototype.listenOnce=Xn.prototype.P,Xn.prototype.getLastError=Xn.prototype.Sa,Xn.prototype.getLastErrorCode=Xn.prototype.Ia,Xn.prototype.getStatus=Xn.prototype.da,Xn.prototype.getResponseJson=Xn.prototype.Wa,Xn.prototype.getResponseText=Xn.prototype.ja,Xn.prototype.send=Xn.prototype.ha,Xn.prototype.setWithCredentials=Xn.prototype.Oa,Qs.prototype.digest=Qs.prototype.l,Qs.prototype.reset=Qs.prototype.reset,Qs.prototype.update=Qs.prototype.j,pn.prototype.add=pn.prototype.add,pn.prototype.multiply=pn.prototype.R,pn.prototype.modulo=pn.prototype.gb,pn.prototype.compare=pn.prototype.X,pn.prototype.toNumber=pn.prototype.ea,pn.prototype.toString=pn.prototype.toString,pn.prototype.getBits=pn.prototype.D,pn.fromNumber=da,pn.fromString=function tA(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Lr(tA(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=da(Math.pow(e,8)),r=Po,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=da(Math.pow(e,u)),r=r.R(u).add(da(l))):r=(r=r.R(t)).add(da(l))}return r},qs.createWebChannelTransport=function(){return new hI},qs.getStatEventTarget=function(){return xm()},qs.ErrorCode=Nm,qs.EventType=PD,qs.Event=Ys,qs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qs.FetchXmlHttpFactory=Df,qs.WebChannel=yP,qs.XhrIo=Xn,qs.Md5=Qs;var BP=qs.Integer=pn;const yI="@firebase/firestore";class Cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");let xf="10.5.2";const mu=new Zo("@firebase/firestore");function Ee(n,...e){if(mu.logLevel<=tn.DEBUG){const t=e.map(vI);mu.debug(`Firestore (${xf}): ${n}`,...t)}}function Yn(n,...e){if(mu.logLevel<=tn.ERROR){const t=e.map(vI);mu.error(`Firestore (${xf}): ${n}`,...t)}}function vI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ye(n="Unexpected state"){const e=`FIRESTORE (${xf}) INTERNAL ASSERTION FAILED: `+n;throw Yn(e),new Error(e)}function it(n,e){n||Ye()}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Eo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class EI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cr.UNAUTHENTICATED))}shutdown(){}}class jP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uA{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=_=>this.i!==s?(s=this.i,t(_)):Promise.resolve();let l=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Dr,e.enqueueRetryable(()=>u(this.currentUser))};const h=()=>{const _=l;e.enqueueRetryable(ie(function*(){yield _.promise,yield u(r.currentUser)}))},p=_=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Dr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it("string"==typeof r.accessToken),new EI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(null===e||"string"==typeof e),new Cr(e)}}class lA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $P{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new lA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class II{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=u=>{null!=u.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.R;return this.R=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?s(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it("string"==typeof t.token),this.R=t.token,new II(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sd(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cA{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=sd(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}class TI{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ye(),void 0===r?r=e.length-t:r>e.length-t&&Ye(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===TI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof TI?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zt extends TI{construct(e,t,r){return new Zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Zt(t)}static emptyPath(){return new Zt([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(Zt.fromString(e))}static fromName(e){return new je(Zt.fromString(e).popFirst(5))}static empty(){return new je(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Zt(e.slice()))}}function Tu(n){return"IndexedDbTransactionError"===n.name}class Mn{constructor(e,t){this.comparator=e,this.root=t||ei.EMPTY}insert(e,t){return new Mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xI(this.root,e,this.comparator,!1)}getReverseIterator(){return new xI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xI(this.root,e,this.comparator,!0)}}class xI{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??ei.RED,this.left=s??ei.EMPTY,this.right=u??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new ei(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return ei.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1,ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,t,r,s,u){return this}insert(e,t,r){return new ei(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lf(this.data.getIterator())}getIteratorFrom(e){return new Lf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class Lf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wA("Invalid base64 string: "+u):u}}(e);return new Ar(t)}static fromUint8Array(e){const t=function(s){let u="";for(let l=0;l<s.length;++l)u+=String.fromCharCode(s[l]);return u}(e);return new Ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Ar.EMPTY_BYTE_STRING=new Ar("");class JP{constructor(e,t,r,s,u,l,h,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=_}}class xl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}var br,Xt;new Mn(je.comparator),new Mn(je.comparator),new Mn(je.comparator),new nn(je.comparator),new nn(yt),(Xt=br||(br={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS",new BP([4294967295,4294967295],0);class ep{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),function ad(n){return 0===n&&1/n==-1/0}(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(function fa(n){return"string"==typeof n?Ar.fromBase64String(n):Ar.fromUint8Array(n)}(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?function s_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ye()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const s of Object.keys(r))this.At(s,t),this.Pt(r[s],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const s of r)this.Pt(s,t)}ft(e,t){this.Tt(t,37),je.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}ep.St=new ep,new Uint8Array(0);class Ki{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ki(e,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gb(){return typeof document<"u"?document:null}Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(41943040,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);class $M{constructor(e,t,r=1e3,s=1.5,u=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=s,this.xo=u,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,t-r);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ax{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,h=new ax(e,t,l,s,u);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class HB{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Cr.UNAUTHENTICATED,this.clientId=cA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=ie(function*(h){Ee("FirestoreClient","Received user=",h.uid),yield u.authCredentialListener(h),u.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ee("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return ie(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ie(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=function P_(n,e){if(Yn("AsyncQueue",`${e}: ${n}`),Tu(n))return new ve(ee.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function $F(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const HF=new Map;function Kt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Tb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ye()}(n);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class qF{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ej(n,e,t,r){if(!0===e&&!0===r)throw new ve(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$F(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uT{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new aA;switch(r.type){case"firstParty":return new $P(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=HF.get(t);r&&(Ee("ComponentProvider","Removing Datastore"),HF.delete(t),r.terminate())}(this),Promise.resolve()}}class rj{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new $M(this,"async_queue_retry"),this.iu=()=>{const t=gb();t&&Ee("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=gb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=gb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Dr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return ie(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Tu(t))throw t;Ee("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Yn("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const s=ax.createAndSchedule(this,e,t,r,u=>this.au(u));return this.Xa.push(s),s}su(){this.eu&&Ye()}verifyOperationInProgress(){}uu(){var e=this;return ie(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class $n extends uT{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new rj,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function YF(n){var e,t,r;const s=n._freezeSettings(),u=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new JP(n._databaseId,p,n._persistenceKey,(D=s).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,$F(D.experimentalLongPollingOptions),D.useFetchStreams));var p,D;n._firestoreClient=new HB(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function sj(n,e){const r="string"==typeof n?n:e||"(default)",s=Jo("object"==typeof n?n:fh(),"firestore").getImmediate({identifier:r});if(!s._initialized){const u=xe("firestore");u&&function tj(n,e,t,r={}){var s;const u=(n=Kt(n,uT))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&function zi(n,...e){if(mu.logLevel<=tn.WARN){const t=e.map(vI);mu.warn(`Firestore (${xf}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=Cr.MOCK_USER;else{h=Bi(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Cr(_)}n._authCredentials=new jP(new EI(h,p))}}(s,...u)}return s}!function(e,t=!0){xf=al,za(new Qo("firestore",(r,{instanceIdentifier:s,options:u})=>{const l=r.getProvider("app").getImmediate(),h=new $n(new uA(r.getProvider("auth-internal")),new HP(r.getProvider("app-check-internal")),function(_,D){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(_.options.projectId,D)}(l,s),l);return u=Object.assign({useFetchStreams:t},u),h._setSettings(u),h},"PUBLIC").setMultipleInstances(!0)),or(yI,"4.3.2",e),or(yI,"4.3.2","esm2017")}();class rN{constructor(e){return e}}const _L="firestore",iN=new E.OlP("angularfire2.firestore-instances");function Nj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new rN(r)}}const Oj={provide:class Mj{constructor(){return _h(_L)}},deps:[[new E.FiY,iN]]},kj={provide:rN,useFactory:function xj(n,e){const t=mh(_L,n,e);return t&&new rN(t)},deps:[[new E.FiY,iN],dl]};let Fj=(()=>{class n{constructor(){or("angularfire",cl.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=E.oAB({type:n});static \u0275inj=E.cJS({providers:[kj,Oj]})}return n})();function Lj(n,...e){return{ngModule:Fj,providers:[{provide:iN,useFactory:Nj(n),multi:!0,deps:[E.R0b,E.zs3,vh,Ih,[new E.FiY,df],[new E.FiY,lg],...e]}]}}const Vj=Ya(sj,!0),yL="@firebase/database";let sN="";class Uj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Or(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:tl(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Bj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return $a(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const IL=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Uj(e)}}catch{}return new Bj},ap=IL("localStorage"),oN=IL("sessionStorage"),j_=new Zo("@firebase/database"),TL=function(){let n=1;return function(){return n++}}(),wL=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=55296&&s<=56319){const u=s-55296;r++,Fe(r<n.length,"Surrogate pair missing trail surrogate."),s=65536+(u<<10)+(n.charCodeAt(r)-56320)}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=63&s|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=63&s|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=63&s|128)}return e}(n),t=new ah;t.update(e);const r=t.digest();return Nr.encodeByteArray(r)},gT=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=gT.apply(null,r):e+="object"==typeof r?Or(r):r,e+=" "}return e};let up=null,CL=!0;const yi=function(...n){if(!0===CL&&(CL=!1,null===up&&!0===oN.get("logging_enabled")&&function(n,e){Fe(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(j_.logLevel=tn.VERBOSE,up=j_.log.bind(j_),e&&oN.set("logging_enabled",!0)):"function"==typeof n?up=n:(up=null,oN.remove("logging_enabled"))}(!0)),up){const e=gT.apply(null,n);up(e)}},mT=function(n){return function(...e){yi(n,...e)}},aN=function(...n){const e="FIREBASE INTERNAL ERROR: "+gT(...n);j_.error(e)},Pu=function(...n){const e=`FIREBASE FATAL ERROR: ${gT(...n)}`;throw j_.error(e),new Error(e)},Zi=function(...n){const e="FIREBASE WARNING: "+gT(...n);j_.warn(e)},Nb=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Pd="[MIN_NAME]",Bl="[MAX_NAME]",lp=function(n,e){if(n===e)return 0;if(n===Pd||e===Bl)return-1;if(e===Pd||n===Bl)return 1;{const t=SL(n),r=SL(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Hj=function(n,e){return n===e?0:n<e?-1:1},_T=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Or(e))},uN=function(n){if("object"!=typeof n||null===n)return Or(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Or(e[r]),t+=":",t+=uN(n[e[r]]);return t+="}",t},AL=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let s=0;s<t;s+=e)r.push(n.substring(s,s+e>t?t:s+e));return r};function vi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const bL=function(n){Fe(!Nb(n),"Invalid JSON number");const r=1023;let s,u,l,h,p;0===n?(u=0,l=0,s=1/n==-1/0?1:0):(s=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=h+r,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(u=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)_.push(u%2?1:0),u=Math.floor(u/2);_.push(s?1:0),_.reverse();const D=_.join("");let R="";for(p=0;p<64;p+=8){let O=parseInt(D.substr(p,8),2).toString(16);1===O.length&&(O="0"+O),R+=O}return R.toLowerCase()},qj=new RegExp("^-?(0*)\\d{1,10}$"),SL=function(n){if(qj.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},$_=function(n){try{n()}catch(e){setTimeout(()=>{throw Zi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},yT=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Zj{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Zi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xj{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(yi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zi(e)}}let vT=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const NL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,FL="websocket",LL="long_polling";class cN{constructor(e,t,r,s,u=!1,l="",h=!1,p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=u,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ap.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ap.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function VL(n,e,t){let r;if(Fe("string"==typeof e,"typeof type must == string"),Fe("object"==typeof t,"typeof params must == object"),e===FL)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==LL)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Jj(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const s=[];return vi(t,(u,l)=>{s.push(u+"="+l)}),r+s.join("&")}class e${constructor(){this.counters_={}}incrementCounter(e,t=1){$a(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return y(this.counters_)}}const dN={},hN={};function fN(n){const e=n.toString();return dN[e]||(dN[e]=new e$),dN[e]}class n${constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&$_(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Md{constructor(e,t,r,s,u,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=s,this.authToken=u,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mT(e),this.stats_=fN(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),VL(t,LL,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new n$(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pN((...u)=>{const[l,h,p,_,D]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[l,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&NL.test(location.hostname)&&(r.r="f");const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Md.forceAllow_=!0}static forceDisallow(){Md.forceDisallow_=!0}static isAvailable(){return!(!Md.forceAllow_&&(Md.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Or(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Vp(t),s=AL(r,1840);for(let u=0;u<s.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[u]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Or(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class pN{constructor(e,t,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=pN.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){yi("frame writing exception"),h.stack&&yi(h.stack),yi(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||yi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+s+"="+l.seg+"&ts"+s+"="+l.ts+"&d"+s+"="+l.d,s++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(s),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||"loaded"===s||"complete"===s)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{yi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let kb=null;typeof MozWebSocket<"u"?kb=MozWebSocket:typeof WebSocket<"u"&&(kb=WebSocket);let H_=(()=>{class n{constructor(t,r,s,u,l,h,p){this.connId=t,this.applicationId=s,this.appCheckToken=u,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mT(this.connId),this.stats_=fN(r),this.connURL=n.connectionURL_(r,h,p,u,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,s,u,l){const h={v:"5"};return typeof location<"u"&&location.hostname&&NL.test(location.hostname)&&(h.r="f"),r&&(h.s=r),s&&(h.ls=s),u&&(h.ac=u),l&&(h.p=l),VL(t,FL,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ap.set("previous_websocket_failure",!0);try{let s;0,this.mySock=new kb(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const u=s.message||s.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const u=s.message||s.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&null!==kb&&!n.forceDisallow_}static previouslyFailed(){return ap.isInMemoryStorage||!0===ap.get("previous_websocket_failure")}markConnectionHealthy(){ap.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=tl(r);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Fe(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);null!==s&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const r=Or(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=AL(r,16384);s.length>1&&this.sendString_(String(s.length));for(let u=0;u<s.length;u++)this.sendString_(s[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),zL=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Md,H_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=H_&&H_.isAvailable();let s=r&&!H_.previouslyFailed();if(t.webSocketOnly&&(r||Zi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[H_];else{const u=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&u.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class XL{constructor(e,t,r,s,u,l,h,p,_,D){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=u,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=D,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mT("c:"+this.id+":"),this.transportManager_=new zL(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=yT(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=_T("t",e),r=_T("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=_T("t",e),r=_T("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=_T("t",e);if("d"in e){const r=e.d;if("h"===t){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?aN("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):aN("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Zi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),yT(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yT(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ap.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class JL{put(e,t,r,s){}merge(e,t,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class eV{constructor(e){this.allowedEvents_=e,this.listeners_={},Fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const s=this.getInitialEvent(e);s&&t.apply(r,s)}off(e,t,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let u=0;u<s.length;u++)if(s[u].callback===t&&(!r||r===s[u].context))return void s.splice(u,1)}validateEventType_(e){Fe(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Fb extends eV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gs()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fb}getInitialEvent(e){return Fe("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Tn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function cn(){return new Tn("")}function Vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function xd(n){return n.pieces_.length-n.pieceNum_}function Ln(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Tn(n.pieces_,e)}function mN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ET(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function rV(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Tn(e,0)}function er(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Tn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&t.push(r[s])}return new Tn(t,0)}function Ut(n){return n.pieceNum_>=n.pieces_.length}function ys(n,e){const t=Vt(n),r=Vt(e);if(null===t)return e;if(t===r)return ys(Ln(n),Ln(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function _N(n,e){if(xd(n)!==xd(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Fo(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(xd(n)>xd(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class D${constructor(e,t){this.errorPrefix_=t,this.parts_=ET(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=rl(this.parts_[r]);iV(this)}}function iV(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+cp(n))}function cp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class yN extends eV{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new yN}getInitialEvent(e){return Fe("visible"===e,"Unknown event type: "+e),[this.visible_]}}const IT=1e3;let Vb,dp=(()=>{class n extends JL{constructor(t,r,s,u,l,h,p,_){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=u,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=mT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=IT,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Fb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,s){const u=++this.requestNumber_,l={r:u,a:t,b:r};this.log_(Or(l)),Fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[u]=s)}get(t){this.initConnection_();const r=new Ot,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,s,u){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),Fe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fe(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:r,query:t,tag:s};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(t){const r=t.query,s=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+s+" for "+u);const l={p:s};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const _=p.d,D=p.s;n.warnOnListenWarnings_(_,r),(this.listens.get(s)&&this.listens.get(s).get(u))===t&&(this.log_("listen response",p),"ok"!==D&&this.removeListen_(s,u),t.onComplete&&t.onComplete(D,_))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&$a(t,"w")){const s=Ha(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();Zi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=ih(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=ih(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",s={cred:t};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(r,s,u=>{const l=u.s,h=u.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,s=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(t,r){const s=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+u),Fe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,u)&&this.connected_&&this.sendUnlisten_(s,u,t._queryObject,r)}sendUnlisten_(t,r,s,u){this.log_("Unlisten on "+t+" for "+r);const l={p:t};u&&(l.q=s,l.t=u),this.sendRequest("n",l)}onDisconnectPut(t,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:s})}onDisconnectMerge(t,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:s})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,s,u){const l={p:r,d:s};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(t,r,s,u){this.putInternal("p",t,r,s,u)}merge(t,r,s,u){this.putInternal("m",t,r,s,u)}putInternal(t,r,s,u,l){this.initConnection_();const h={p:r,d:s};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,s,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Or(t));const r=t.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):aN("Unrecognized action received from server: "+Or(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=IT,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=IT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=IT),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return ie(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),s=t.onReady_.bind(t),u=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,_=null;const D=function(){_?_.close():(p=!0,u())};t.realtime_={close:D,sendRequest:function(U){Fe(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(U)}};const O=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[U,z]=yield Promise.all([t.authTokenProvider_.getToken(O),t.appCheckTokenProvider_.getToken(O)]);p?yi("getToken() completed but was canceled"):(yi("getToken() completed. Creating connection."),t.authToken_=U&&U.accessToken,t.appCheckToken_=z&&z.token,_=new XL(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,s,u,Q=>{Zi(Q+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(U){t.log_("Failed to get token: "+U),p||(t.repoInfo_.nodeAdmin&&Zi(U),D())}}})()}interrupt(t){yi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){yi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],JT(this.interruptReasons_)&&(this.reconnectDelay_=IT,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let s;s=r?r.map(l=>uN(l)).join("$"):"default";const u=this.removeListen_(t,s);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const s=new Tn(t).toString();let u;if(this.listens.has(s)){const l=this.listens.get(s);u=l.get(r),l.delete(r),0===l.size&&this.listens.delete(s)}else u=void 0;return u}onAuthRevoked_(t,r){yi("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){yi("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+sN.replace(/\./g,"-")]=1,Gs()?t["framework.cordova"]=1:Ua()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Fb.getInstance().currentlyOnline();return JT(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ht{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ht(e,t)}}class Lb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ht(Pd,e),s=new Ht(Pd,t);return 0!==this.compare(r,s)}minPost(){return Ht.MIN}}class aV extends Lb{static get __EMPTY_NODE(){return Vb}static set __EMPTY_NODE(e){Vb=e}compare(e,t){return lp(e.name,t.name)}isDefinedOn(e){throw Ko("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ht.MIN}maxPost(){return new Ht(Bl,Vb)}makePost(e,t){return Fe("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ht(e,Vb)}toString(){return".key"}}const Mu=new aV;class Ub{constructor(e,t,r,s,u=null){this.isReverse_=s,this.resultGenerator_=u,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,s&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let EN,ma=(()=>{class n{constructor(t,r,s,u,l){this.key=t,this.value=r,this.color=s??n.RED,this.left=u??Fs.EMPTY_NODE,this.right=l??Fs.EMPTY_NODE}copy(t,r,s,u,l){return new n(t??this.key,r??this.value,s??this.color,u??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let u=this;const l=s(t,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(t,r,s),null):0===l?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,s)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let s,u;if(s=this,r(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===r(t,s.key)){if(s.right.isEmpty())return Fs.EMPTY_NODE;u=s.right.min_(),s=s.copy(u.key,u.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Fs{constructor(e,t=Fs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Fs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ma.BLACK,null,null))}remove(e){return new Fs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ma.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,s=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(s=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ub(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ub(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ub(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ub(this.root_,null,this.comparator_,!0,e)}}function N$(n,e){return lp(n.name,e.name)}function vN(n,e){return lp(n,e)}Fs.EMPTY_NODE=new class x${copy(e,t,r,s,u){return this}insert(e,t,r){return new ma(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const uV=function(n){return"number"==typeof n?"number:"+bL(n):"string:"+n},lV=function(n){if(n.isLeafNode()){const e=n.val();Fe("string"==typeof e||"number"==typeof e||"object"==typeof e&&$a(e,".sv"),"Priority must be a string or number.")}else Fe(n===EN||n.isEmpty(),"priority of unexpected type.");Fe(n===EN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let cV,dV,hV,G_=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Fe(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),lV(this.priorityNode_)}static set __childrenNodeConstructor(t){cV=t}static get __childrenNodeConstructor(){return cV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ut(t)?this:".priority"===Vt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const s=Vt(t);return null===s?r:r.isEmpty()&&".priority"!==s?this:(Fe(".priority"!==s||1===xd(t),".priority must be the last token in a path"),this.updateImmediateChild(s,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ln(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+uV(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?bL(this.value_):this.value_,this.lazyHash_=wL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(Fe(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,s=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(s);return Fe(u>=0,"Unknown leaf type: "+r),Fe(l>=0,"Unknown leaf type: "+s),u===l?"object"===s?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-u}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Hn=new class L$ extends Lb{compare(e,t){const r=e.node.getPriority(),s=t.node.getPriority(),u=r.compareTo(s);return 0===u?lp(e.name,t.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ht.MIN}maxPost(){return new Ht(Bl,new G_("[PRIORITY-POST]",hV))}makePost(e,t){const r=dV(e);return new Ht(t,new G_("[PRIORITY-POST]",r))}toString(){return".priority"}},V$=Math.log(2);class U${constructor(e){this.count=parseInt(Math.log(e+1)/V$,10),this.current_=this.count-1;const s=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bb=function(n,e,t,r){n.sort(e);const s=function(p,_){const D=_-p;let R,O;if(0===D)return null;if(1===D)return R=n[p],O=t?t(R):R,new ma(O,R.node,ma.BLACK,null,null);{const U=parseInt(D/2,10)+p,z=s(p,U),Q=s(U+1,_);return R=n[U],O=t?t(R):R,new ma(O,R.node,ma.BLACK,z,Q)}},h=function(p){let _=null,D=null,R=n.length;const O=function(z,Q){const J=R-z,Ue=R;R-=z;const Ge=s(J+1,Ue),Se=n[J],nt=t?t(Se):Se;U(new ma(nt,Se.node,Q,null,Ge))},U=function(z){_?(_.left=z,_=z):(D=z,_=z)};for(let z=0;z<p.count;++z){const Q=p.nextBitIsOne(),J=Math.pow(2,p.count-(z+1));Q?O(J,ma.BLACK):(O(J,ma.BLACK),O(J,ma.RED))}return D}(new U$(n.length));return new Fs(r||e,h)};let IN;const z_={};class jl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Fe(z_&&Hn,"ChildrenNode.ts has not been loaded"),IN=IN||new jl({".priority":z_},{".priority":Hn}),IN}get(e){const t=Ha(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fs?t:null}hasIndex(e){return $a(this.indexSet_,e.toString())}addIndex(e,t){Fe(e!==Mu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const u=t.getIterator(Ht.Wrap);let h,l=u.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=u.getNext();h=s?Bb(r,e.getCompare()):z_;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const D=Object.assign({},this.indexes_);return D[p]=h,new jl(D,_)}addToIndexes(e,t){const r=jp(this.indexes_,(s,u)=>{const l=Ha(this.indexSet_,u);if(Fe(l,"Missing index implementation for "+u),s===z_){if(l.isDefinedOn(e.node)){const h=[],p=t.getIterator(Ht.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&h.push(_),_=p.getNext();return h.push(e),Bb(h,l.getCompare())}return z_}{const h=t.get(e.name);let p=s;return h&&(p=p.remove(new Ht(e.name,h))),p.insert(e,e.node)}});return new jl(r,this.indexSet_)}removeFromIndexes(e,t){const r=jp(this.indexes_,s=>{if(s===z_)return s;{const u=t.get(e.name);return u?s.remove(new Ht(e.name,u)):s}});return new jl(r,this.indexSet_)}}let TT,Mt=(()=>{class n{constructor(t,r,s){this.children_=t,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&lV(this.priorityNode_),this.children_.isEmpty()&&Fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return TT||(TT=new n(new Fs(vN),null,jl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||TT}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?TT:r}}getChild(t){const r=Vt(t);return null===r?this:this.getImmediateChild(r).getChild(Ln(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(Fe(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const s=new Ht(t,r);let u,l;r.isEmpty()?(u=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(s,this.children_)):(u=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(s,this.children_));const h=u.isEmpty()?TT:this.priorityNode_;return new n(u,h,l)}}updateChild(t,r){const s=Vt(t);if(null===s)return r;{Fe(".priority"!==Vt(t)||1===xd(t),".priority must be the last token in a path");const u=this.getImmediateChild(s).updateChild(Ln(t),r);return this.updateImmediateChild(s,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let s=0,u=0,l=!0;if(this.forEachChild(Hn,(h,p)=>{r[h]=p.val(t),s++,l&&n.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):l=!1}),!t&&l&&u<2*s){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+uV(this.getPriority().val())+":"),this.forEachChild(Hn,(r,s)=>{const u=s.hash();""!==u&&(t+=":"+r+":"+u)}),this.lazyHash_=""===t?"":wL(t)}return this.lazyHash_}getPredecessorChildName(t,r,s){const u=this.resolveIndex_(s);if(u){const l=u.getPredecessorKey(new Ht(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const s=r.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ht(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const s=r.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ht(r,this.children_.get(r)):null}forEachChild(t,r){const s=this.resolveIndex_(t);return s?s.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,Ht.Wrap);let l=u.peek();for(;null!=l&&r.compare(l,t)<0;)u.getNext(),l=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,Ht.Wrap);let l=u.peek();for(;null!=l&&r.compare(l,t)>0;)u.getNext(),l=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===wT?-1:0}withIndex(t){if(t===Mu||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Mu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const s=this.getIterator(Hn),u=r.getIterator(Hn);let l=s.getNext(),h=u.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=s.getNext(),h=u.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Mu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const wT=new class B$ extends Mt{constructor(){super(new Fs(vN),Mt.EMPTY_NODE,jl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Mt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ht,{MIN:{value:new Ht(Pd,Mt.EMPTY_NODE)},MAX:{value:new Ht(Bl,wT)}}),aV.__EMPTY_NODE=Mt.EMPTY_NODE,G_.__childrenNodeConstructor=Mt,function O$(n){EN=n}(wT),function F$(n){hV=n}(wT);const j$=!0;function ar(n,e=null){if(null===n)return Mt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),Fe(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new G_(n,ar(e));if(n instanceof Array||!j$){let t=Mt.EMPTY_NODE;return vi(n,(r,s)=>{if($a(n,r)&&"."!==r.substring(0,1)){const u=ar(s);(u.isLeafNode()||!u.isEmpty())&&(t=t.updateImmediateChild(r,u))}}),t.updatePriority(ar(e))}{const t=[];let r=!1;if(vi(n,(l,h)=>{if("."!==l.substring(0,1)){const p=ar(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new Ht(l,p)))}}),0===t.length)return Mt.EMPTY_NODE;const u=Bb(t,N$,l=>l.name,vN);if(r){const l=Bb(t,Hn.getCompare());return new Mt(u,ar(e),new jl({".priority":l},{".priority":Hn}))}return new Mt(u,ar(e),jl.Default)}}!function k$(n){dV=n}(ar);class TN extends Lb{constructor(e){super(),this.indexPath_=e,Fe(!Ut(e)&&".priority"!==Vt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),s=this.extractChild(t.node),u=r.compareTo(s);return 0===u?lp(e.name,t.name):u}makePost(e,t){const r=ar(e),s=Mt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ht(t,s)}maxPost(){const e=Mt.EMPTY_NODE.updateChild(this.indexPath_,wT);return new Ht(Bl,e)}toString(){return ET(this.indexPath_,0).join("/")}}const wN=new class $$ extends Lb{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?lp(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ht.MIN}maxPost(){return Ht.MAX}makePost(e,t){const r=ar(e);return new Ht(t,r)}toString(){return".value"}};function DT(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class DN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pd}hasEnd(){return this.endSet_}getIndexEndValue(){return Fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hn}copy(){const e=new DN;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pV(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Hn?t="$priority":n.index_===wN?t="$value":n.index_===Mu?t="$key":(Fe(n.index_ instanceof TN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Or(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Or(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Or(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Or(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Or(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function gV(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Hn&&(e.i=n.index_.toString()),e}class $b extends JL{constructor(e,t,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=mT("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,s){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const l=$b.getListenId_(e,r),h={};this.listens_[l]=h;const p=pV(e._queryParams);this.restRequest_(u+".json",p,(_,D)=>{let R=D;if(404===_&&(R=null,_=null),null===_&&this.onDataUpdate_(u,R,!1,r),Ha(this.listens_,l)===h){let O;O=_?401===_?"permission_denied":"rest_error:"+_:"ok",s(O,null)}})}unlisten(e,t){const r=$b.getListenId_(e,t);delete this.listens_[r]}get(e){const t=pV(e._queryParams),r=e._path.toString(),s=new Ot;return this.restRequest_(r+".json",t,(u,l)=>{let h=l;404===u&&(h=null,u=null),null===u?(this.onDataUpdate_(r,h,!1,null),s.resolve(h)):s.reject(new Error(h))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,u])=>{s&&s.accessToken&&(t.auth=s.accessToken),u&&u.token&&(t.ac=u.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nl(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=tl(h.responseText)}catch{Zi("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&Zi("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class Q${constructor(){this.rootNode_=Mt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Hb(){return{value:null,children:new Map}}function q_(n,e,t){if(Ut(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Vt(e);n.children.has(r)||n.children.set(r,Hb()),q_(n.children.get(r),e=Ln(e),t)}}function RN(n,e,t){null!==n.value?t(e,n.value):function Z$(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,s)=>{RN(s,new Tn(e.toString()+"/"+r),t)})}class X${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vi(this.last_,(r,s)=>{t[r]=t[r]-s}),this.last_=e,t}}class tH{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new X$(e);const r=1e4+2e4*Math.random();yT(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;vi(e,(s,u)=>{u>0&&$a(this.statsToReport_,s)&&(t[s]=u,r=!0)}),r&&this.server_.reportStats(t),yT(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var xu=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(xu||{});function xN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Gb{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=xu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ut(this.path)){if(null!=this.affectedTree.value)return Fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Tn(e));return new Gb(cn(),t,this.revert)}}return Fe(Vt(this.path)===e,"operationForChild called for unrelated child."),new Gb(Ln(this.path),this.affectedTree,this.revert)}}class hp{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=xu.OVERWRITE}operationForChild(e){return Ut(this.path)?new hp(this.source,cn(),this.snap.getImmediateChild(e)):new hp(this.source,Ln(this.path),this.snap)}}class K_{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=xu.MERGE}operationForChild(e){if(Ut(this.path)){const t=this.children.subtree(new Tn(e));return t.isEmpty()?null:t.value?new hp(this.source,cn(),t.value):new K_(this.source,cn(),t)}return Fe(Vt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new K_(this.source,Ln(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Nd{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ut(e))return this.isFullyInitialized()&&!this.filtered_;const t=Vt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function ST(n,e,t,r,s,u){const l=r.filter(h=>h.type===t);l.sort((h,p)=>function sH(n,e,t){if(null==e.childName||null==t.childName)throw Ko("Should only compare child_ events.");const r=new Ht(e.childName,e.snapshotNode),s=new Ht(t.childName,t.snapshotNode);return n.index_.compare(r,s)}(n,h,p)),l.forEach(h=>{const p=function iH(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,u);s.forEach(_=>{_.respondsTo(h.type)&&e.push(_.createEvent(p,n.query_))})})}function zb(n,e){return{eventCache:n,serverCache:e}}function RT(n,e,t,r){return zb(new Nd(e,t,r),n.serverCache)}function _V(n,e,t,r){return zb(n.eventCache,new Nd(e,t,r))}function Wb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function fp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let NN;class Gn{constructor(e,t=(()=>(NN||(NN=new Fs(Hj)),NN))()){this.value=e,this.children=t}static fromObject(e){let t=new Gn(null);return vi(e,(r,s)=>{t=t.set(new Tn(r),s)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:cn(),value:this.value};if(Ut(e))return null;{const r=Vt(e),s=this.children.get(r);if(null!==s){const u=s.findRootMostMatchingPathAndValue(Ln(e),t);return null!=u?{path:er(new Tn(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ut(e))return this;{const t=Vt(e),r=this.children.get(t);return null!==r?r.subtree(Ln(e)):new Gn(null)}}set(e,t){if(Ut(e))return new Gn(t,this.children);{const r=Vt(e),u=(this.children.get(r)||new Gn(null)).set(Ln(e),t),l=this.children.insert(r,u);return new Gn(this.value,l)}}remove(e){if(Ut(e))return this.children.isEmpty()?new Gn(null):new Gn(null,this.children);{const t=Vt(e),r=this.children.get(t);if(r){const s=r.remove(Ln(e));let u;return u=s.isEmpty()?this.children.remove(t):this.children.insert(t,s),null===this.value&&u.isEmpty()?new Gn(null):new Gn(this.value,u)}return this}}get(e){if(Ut(e))return this.value;{const t=Vt(e),r=this.children.get(t);return r?r.get(Ln(e)):null}}setTree(e,t){if(Ut(e))return t;{const r=Vt(e),u=(this.children.get(r)||new Gn(null)).setTree(Ln(e),t);let l;return l=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new Gn(this.value,l)}}fold(e){return this.fold_(cn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((s,u)=>{r[s]=u.fold_(er(e,s),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,cn(),t)}findOnPath_(e,t,r){const s=!!this.value&&r(t,this.value);if(s)return s;if(Ut(e))return null;{const u=Vt(e),l=this.children.get(u);return l?l.findOnPath_(Ln(e),er(t,u),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,cn(),t)}foreachOnPath_(e,t,r){if(Ut(e))return this;{this.value&&r(t,this.value);const s=Vt(e),u=this.children.get(s);return u?u.foreachOnPath_(Ln(e),er(t,s),r):new Gn(null)}}foreach(e){this.foreach_(cn(),e)}foreach_(e,t){this.children.inorderTraversal((r,s)=>{s.foreach_(er(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class _a{constructor(e){this.writeTree_=e}static empty(){return new _a(new Gn(null))}}function PT(n,e,t){if(Ut(e))return new _a(new Gn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const s=r.path;let u=r.value;const l=ys(s,e);return u=u.updateChild(l,t),new _a(n.writeTree_.set(s,u))}{const s=new Gn(t),u=n.writeTree_.setTree(e,s);return new _a(u)}}}function ON(n,e,t){let r=n;return vi(t,(s,u)=>{r=PT(r,er(e,s),u)}),r}function yV(n,e){if(Ut(e))return _a.empty();{const t=n.writeTree_.setTree(e,new Gn(null));return new _a(t)}}function kN(n,e){return null!=pp(n,e)}function pp(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ys(t.path,e)):null}function vV(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Hn,(r,s)=>{e.push(new Ht(r,s))}):n.writeTree_.children.inorderTraversal((r,s)=>{null!=s.value&&e.push(new Ht(r,s.value))}),e}function Od(n,e){if(Ut(e))return n;{const t=pp(n,e);return new _a(null!=t?new Gn(t):n.writeTree_.subtree(e))}}function FN(n){return n.writeTree_.isEmpty()}function Y_(n,e){return EV(cn(),n.writeTree_,e)}function EV(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((s,u)=>{".priority"===s?(Fe(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):t=EV(er(n,s),u,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(er(n,".priority"),r)),t}}function qb(n,e){return DV(e,n)}function dH(n,e){if(n.snap)return Fo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Fo(er(n.path,t),e))return!0;return!1}function fH(n){return n.visible}function IV(n,e,t){let r=_a.empty();for(let s=0;s<n.length;++s){const u=n[s];if(e(u)){const l=u.path;let h;if(u.snap)Fo(t,l)?(h=ys(t,l),r=PT(r,h,u.snap)):Fo(l,t)&&(h=ys(l,t),r=PT(r,cn(),u.snap.getChild(h)));else{if(!u.children)throw Ko("WriteRecord should have .snap or .children");if(Fo(t,l))h=ys(t,l),r=ON(r,h,u.children);else if(Fo(l,t))if(h=ys(l,t),Ut(h))r=ON(r,cn(),u.children);else{const p=Ha(u.children,Vt(h));if(p){const _=p.getChild(Ln(h));r=PT(r,cn(),_)}}}}}return r}function TV(n,e,t,r,s){if(r||s){const u=Od(n.visibleWrites,e);return!s&&FN(u)?t:s||null!=t||kN(u,cn())?Y_(IV(n.allWrites,function(_){return(_.visible||s)&&(!r||!~r.indexOf(_.writeId))&&(Fo(_.path,e)||Fo(e,_.path))},e),t||Mt.EMPTY_NODE):null}{const u=pp(n.visibleWrites,e);if(null!=u)return u;{const l=Od(n.visibleWrites,e);return FN(l)?t:null!=t||kN(l,cn())?Y_(l,t||Mt.EMPTY_NODE):null}}}function Kb(n,e,t,r){return TV(n.writeTree,n.treePath,e,t,r)}function LN(n,e){return function pH(n,e,t){let r=Mt.EMPTY_NODE;const s=pp(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Hn,(u,l)=>{r=r.updateImmediateChild(u,l)}),r;if(t){const u=Od(n.visibleWrites,e);return t.forEachChild(Hn,(l,h)=>{const p=Y_(Od(u,new Tn(l)),h);r=r.updateImmediateChild(l,p)}),vV(u).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return vV(Od(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function wV(n,e,t,r){return function gH(n,e,t,r,s){Fe(r||s,"Either existingEventSnap or existingServerSnap must exist");const u=er(e,t);if(kN(n.visibleWrites,u))return null;{const l=Od(n.visibleWrites,u);return FN(l)?s.getChild(t):Y_(l,s.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Yb(n,e){return function _H(n,e){return pp(n.visibleWrites,e)}(n.writeTree,er(n.treePath,e))}function VN(n,e,t){return function mH(n,e,t,r){const s=er(e,t),u=pp(n.visibleWrites,s);return null!=u?u:r.isCompleteForChild(t)?Y_(Od(n.visibleWrites,s),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function CV(n,e){return DV(er(n.treePath,e),n.writeTree)}function DV(n,e){return{treePath:n,writeTree:e}}class IH{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;Fe("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Fe(".priority"!==r,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const u=s.type;if("child_added"===t&&"child_removed"===u)this.changeMap.set(r,DT(r,e.snapshotNode,s.snapshotNode));else if("child_removed"===t&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===u)this.changeMap.set(r,function CT(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,s.oldSnap));else if("child_changed"===t&&"child_added"===u)this.changeMap.set(r,function W_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==u)throw Ko("Illegal combination of changes: "+e+" occurred after "+s);this.changeMap.set(r,DT(r,e.snapshotNode,s.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const AV=new class TH{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class UN{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Nd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return VN(this.writes_,e,r)}}getChildAfterChild(e,t,r){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fp(this.viewCache_),u=function EH(n,e,t,r,s,u){return function yH(n,e,t,r,s,u,l){let h;const p=Od(n.visibleWrites,e),_=pp(p,cn());if(null!=_)h=_;else{if(null==t)return[];h=Y_(p,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const D=[],R=l.getCompare(),O=u?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let U=O.getNext();for(;U&&D.length<s;)0!==R(U,r)&&D.push(U),U=O.getNext();return D}}(n.writeTree,n.treePath,e,t,r,s,u)}(this.writes_,s,t,1,r,e);return 0===u.length?null:u[0]}}function bV(n,e,t,r,s,u){const l=e.eventCache;if(null!=Yb(r,t))return e;{let h,p;if(Ut(t))if(Fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=fp(e),R=LN(r,_ instanceof Mt?_:Mt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),R,u)}else{const _=Kb(r,fp(e));h=n.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const _=Vt(t);if(".priority"===_){Fe(1===xd(t),"Can't have a priority with additional path components");const D=l.getNode();p=e.serverCache.getNode();const R=wV(r,t,D,p);h=null!=R?n.filter.updatePriority(D,R):l.getNode()}else{const D=Ln(t);let R;if(l.isCompleteForChild(_)){p=e.serverCache.getNode();const O=wV(r,t,l.getNode(),p);R=null!=O?l.getNode().getImmediateChild(_).updateChild(D,O):l.getNode().getImmediateChild(_)}else R=VN(r,_,e.serverCache);h=null!=R?n.filter.updateChild(l.getNode(),_,R,D,s,u):l.getNode()}}return RT(e,h,l.isFullyInitialized()||Ut(t),n.filter.filtersNodes())}}function Qb(n,e,t,r,s,u,l,h){const p=e.serverCache;let _;const D=l?n.filter:n.filter.getIndexedFilter();if(Ut(t))_=D.updateFullNode(p.getNode(),r,null);else if(D.filtersNodes()&&!p.isFiltered()){const U=p.getNode().updateChild(t,r);_=D.updateFullNode(p.getNode(),U,null)}else{const U=Vt(t);if(!p.isCompleteForPath(t)&&xd(t)>1)return e;const z=Ln(t),J=p.getNode().getImmediateChild(U).updateChild(z,r);_=".priority"===U?D.updatePriority(p.getNode(),J):D.updateChild(p.getNode(),U,J,z,AV,null)}const R=_V(e,_,p.isFullyInitialized()||Ut(t),D.filtersNodes());return bV(n,R,t,s,new UN(s,R,u),h)}function BN(n,e,t,r,s,u,l){const h=e.eventCache;let p,_;const D=new UN(s,e,u);if(Ut(t))_=n.filter.updateFullNode(e.eventCache.getNode(),r,l),p=RT(e,_,!0,n.filter.filtersNodes());else{const R=Vt(t);if(".priority"===R)_=n.filter.updatePriority(e.eventCache.getNode(),r),p=RT(e,_,h.isFullyInitialized(),h.isFiltered());else{const O=Ln(t),U=h.getNode().getImmediateChild(R);let z;if(Ut(O))z=r;else{const Q=D.getCompleteChild(R);z=null!=Q?".priority"===mN(O)&&Q.getChild(rV(O)).isEmpty()?Q:Q.updateChild(O,r):Mt.EMPTY_NODE}p=U.equals(z)?e:RT(e,n.filter.updateChild(h.getNode(),R,z,O,D,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function SV(n,e){return n.eventCache.isCompleteForChild(e)}function RV(n,e,t){return t.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function jN(n,e,t,r,s,u,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=Ut(t)?r:new Gn(null).setTree(t,r);const D=e.serverCache.getNode();return _.children.inorderTraversal((R,O)=>{if(D.hasChild(R)){const z=RV(0,e.serverCache.getNode().getImmediateChild(R),O);p=Qb(n,p,new Tn(R),z,s,u,l,h)}}),_.children.inorderTraversal((R,O)=>{const U=!e.serverCache.isCompleteForChild(R)&&null===O.value;if(!D.hasChild(R)&&!U){const Q=RV(0,e.serverCache.getNode().getImmediateChild(R),O);p=Qb(n,p,new Tn(R),Q,s,u,l,h)}}),p}function OH(n,e){const t=fp(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ut(e)&&!t.getImmediateChild(Vt(e)).isEmpty())?t.getChild(e):null}function xV(n,e,t,r){e.type===xu.MERGE&&null!==e.source.queryId&&(Fe(fp(n.viewCache_),"We should always have a full cache before handling merges"),Fe(Wb(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,u=function DH(n,e,t,r,s){const u=new IH;let l,h;if(t.type===xu.OVERWRITE){const _=t;_.source.fromUser?l=BN(n,e,_.path,_.snap,r,s,u):(Fe(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered()&&!Ut(_.path),l=Qb(n,e,_.path,_.snap,r,s,h,u))}else if(t.type===xu.MERGE){const _=t;_.source.fromUser?l=function bH(n,e,t,r,s,u,l){let h=e;return r.foreach((p,_)=>{const D=er(t,p);SV(e,Vt(D))&&(h=BN(n,h,D,_,s,u,l))}),r.foreach((p,_)=>{const D=er(t,p);SV(e,Vt(D))||(h=BN(n,h,D,_,s,u,l))}),h}(n,e,_.path,_.children,r,s,u):(Fe(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered(),l=jN(n,e,_.path,_.children,r,s,h,u))}else if(t.type===xu.ACK_USER_WRITE){const _=t;l=_.revert?function PH(n,e,t,r,s,u){let l;if(null!=Yb(r,t))return e;{const h=new UN(r,e,s),p=e.eventCache.getNode();let _;if(Ut(t)||".priority"===Vt(t)){let D;if(e.serverCache.isFullyInitialized())D=Kb(r,fp(e));else{const R=e.serverCache.getNode();Fe(R instanceof Mt,"serverChildren would be complete if leaf node"),D=LN(r,R)}_=n.filter.updateFullNode(p,D,u)}else{const D=Vt(t);let R=VN(r,D,e.serverCache);null==R&&e.serverCache.isCompleteForChild(D)&&(R=p.getImmediateChild(D)),_=null!=R?n.filter.updateChild(p,D,R,Ln(t),h,u):e.eventCache.getNode().hasChild(D)?n.filter.updateChild(p,D,Mt.EMPTY_NODE,Ln(t),h,u):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Kb(r,fp(e)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,u)))}return l=e.serverCache.isFullyInitialized()||null!=Yb(r,cn()),RT(e,_,l,n.filter.filtersNodes())}}(n,e,_.path,r,s,u):function SH(n,e,t,r,s,u,l){if(null!=Yb(s,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(Ut(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return Qb(n,e,t,p.getNode().getChild(t),s,u,h,l);if(Ut(t)){let _=new Gn(null);return p.getNode().forEachChild(Mu,(D,R)=>{_=_.set(new Tn(D),R)}),jN(n,e,t,_,s,u,h,l)}return e}{let _=new Gn(null);return r.foreach((D,R)=>{const O=er(t,D);p.isCompleteForPath(O)&&(_=_.set(D,p.getNode().getChild(O)))}),jN(n,e,t,_,s,u,h,l)}}(n,e,_.path,_.affectedTree,r,s,u)}else{if(t.type!==xu.LISTEN_COMPLETE)throw Ko("Unknown operation type: "+t.type);l=function RH(n,e,t,r,s){const u=e.serverCache;return bV(n,_V(e,u.getNode(),u.isFullyInitialized()||Ut(t),u.isFiltered()),t,r,AV,s)}(n,e,t.path,r,u)}const p=u.getChanges();return function AH(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Wb(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&t.push(function fV(n){return{type:"value",snapshotNode:n}}(Wb(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,s,e,t,r);return function CH(n,e){Fe(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Fe(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),Fe(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,function NV(n,e,t,r){return function rH(n,e,t,r){const s=[],u=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&u.push(function H$(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),ST(n,s,"child_removed",e,r,t),ST(n,s,"child_added",e,r,t),ST(n,s,"child_moved",u,r,t),ST(n,s,"child_changed",e,r,t),ST(n,s,"value",e,r,t),s}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,u.changes,u.viewCache.eventCache.getNode(),null)}let Zb,Jb;function $N(n,e,t,r){const s=e.source.queryId;if(null!==s){const u=n.views.get(s);return Fe(null!=u,"SyncTree gave us an op for an invalid query."),xV(u,e,t,r)}{let u=[];for(const l of n.views.values())u=u.concat(xV(l,e,t,r));return u}}function kd(n,e){let t=null;for(const r of n.views.values())t=t||OH(r,e);return t}class UV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Gn(null),this.pendingWriteTree_=function vH(){return{visibleWrites:_a.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HN(n,e,t,r,s){return function aH(n,e,t,r,s){Fe(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:s}),s&&(n.visibleWrites=PT(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,s),s?Q_(n,new hp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ld(n,e,t=!1){const r=function lH(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function cH(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);Fe(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let s=r.visible,u=!1,l=n.allWrites.length-1;for(;s&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&dH(h,r.path)?s=!1:Fo(r.path,h.path)&&(u=!0)),l--}return!!s&&(u?(function hH(n){n.visibleWrites=IV(n.allWrites,fH,cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=yV(n.visibleWrites,r.path):vi(r.children,p=>{n.visibleWrites=yV(n.visibleWrites,er(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let u=new Gn(null);return null!=r.snap?u=u.set(cn(),!0):vi(r.children,l=>{u=u.set(new Tn(l),!0)}),Q_(n,new Gb(r.path,u,t))}return[]}function MT(n,e,t){return Q_(n,new hp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function t0(n,e,t){const s=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(l,h)=>{const _=kd(h,ys(l,e));if(_)return _});return TV(s,e,u,t,!0)}function Q_(n,e){return jV(e,n.syncPointTree_,null,qb(n.pendingWriteTree_,cn()))}function jV(n,e,t,r){if(Ut(n.path))return $V(n,e,t,r);{const s=e.get(cn());null==t&&null!=s&&(t=kd(s,cn()));let u=[];const l=Vt(n.path),h=n.operationForChild(l),p=e.children.get(l);if(p&&h){const _=t?t.getImmediateChild(l):null,D=CV(r,l);u=u.concat(jV(h,p,_,D))}return s&&(u=u.concat($N(s,n,r,t))),u}}function $V(n,e,t,r){const s=e.get(cn());null==t&&null!=s&&(t=kd(s,cn()));let u=[];return e.children.inorderTraversal((l,h)=>{const p=t?t.getImmediateChild(l):null,_=CV(r,l),D=n.operationForChild(l);D&&(u=u.concat($V(D,h,p,_)))}),s&&(u=u.concat($N(s,n,r,t))),u}function zN(n,e){return n.tagToQueryMap.get(e)}function WN(n){const e=n.indexOf("$");return Fe(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Tn(n.substr(0,e))}}function qN(n,e,t){const r=n.syncPointTree_.get(e);return Fe(r,"Missing sync point for query tag that we're tracking"),$N(r,t,qb(n.pendingWriteTree_,e),null)}class KN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new KN(t)}node(){return this.node_}}class YN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=er(this.path_,e);return new YN(this.syncTree_,t)}node(){return t0(this.syncTree_,this.path_)}}const tG=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},GV=function(n,e,t){return n&&"object"==typeof n?(Fe(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?nG(n[".sv"],e,t):"object"==typeof n[".sv"]?rG(n[".sv"],e):void Fe(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},nG=function(n,e,t){if("timestamp"===n)return t.timestamp;Fe(!1,"Unexpected server value: "+n)},rG=function(n,e,t){n.hasOwnProperty("increment")||Fe(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&Fe(!1,"Unexpected increment value: "+r);const s=e.node();if(Fe(null!==s&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return"number"!=typeof l?r:l+r},zV=function(n,e,t,r){return ZN(e,new YN(t,n),r)},QN=function(n,e,t){return ZN(n,new KN(e),t)};function ZN(n,e,t){const r=n.getPriority().val(),s=GV(r,e.getImmediateChild(".priority"),t);let u;if(n.isLeafNode()){const l=n,h=GV(l.getValue(),e,t);return h!==l.getValue()||s!==l.getPriority().val()?new G_(h,ar(s)):n}{const l=n;return u=l,s!==l.getPriority().val()&&(u=u.updatePriority(new G_(s))),l.forEachChild(Hn,(h,p)=>{const _=ZN(p,e.getImmediateChild(h),t);_!==p&&(u=u.updateImmediateChild(h,_))}),u}}class XN{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function r0(n,e){let t=e instanceof Tn?e:new Tn(e),r=n,s=Vt(t);for(;null!==s;){const u=Ha(r.node.children,s)||{children:{},childCount:0};r=new XN(s,r,u),t=Ln(t),s=Vt(t)}return r}function gp(n){return n.node.value}function JN(n,e){n.node.value=e,eO(n)}function WV(n){return n.node.childCount>0}function s0(n,e){vi(n.node.children,(t,r)=>{e(new XN(t,n,r))})}function qV(n,e,t,r){t&&!r&&e(n),s0(n,s=>{qV(s,e,!0,r)}),t&&r&&e(n)}function OT(n){return new Tn(null===n.parent?n.name:OT(n.parent)+"/"+n.name)}function eO(n){null!==n.parent&&function oG(n,e,t){const r=function iG(n){return void 0===gp(n)&&!WV(n)}(t),s=$a(n.node.children,e);r&&s?(delete n.node.children[e],n.node.childCount--,eO(n)):!r&&!s&&(n.node.children[e]=t.node,n.node.childCount++,eO(n))}(n.parent,n.name,n)}const aG=/[\[\].#$\/\u0000-\u001F\u007F]/,uG=/[\[\].#$\u0000-\u001F\u007F]/,tO=10485760,o0=function(n){return"string"==typeof n&&0!==n.length&&!aG.test(n)},FT=function(n,e,t){const r=t instanceof Tn?new D$(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+cp(r));if("function"==typeof e)throw new Error(n+"contains a function "+cp(r)+" with contents = "+e.toString());if(Nb(e))throw new Error(n+"contains "+e.toString()+" "+cp(r));if("string"==typeof e&&e.length>tO/3&&rl(e)>tO)throw new Error(n+"contains a string greater than "+tO+" utf8 bytes "+cp(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let s=!1,u=!1;if(vi(e,(l,h)=>{if(".value"===l)s=!0;else if(".priority"!==l&&".sv"!==l&&(u=!0,!o0(l)))throw new Error(n+" contains an invalid key ("+l+") "+cp(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function A$(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=rl(e),iV(n)})(r,l),FT(n,h,r),function b$(n){const e=n.parts_.pop();n.byteLength_-=rl(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),s&&u)throw new Error(n+' contains ".value" child '+cp(r)+" in addition to actual children.")}},QV=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!o0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!uG.test(n)}(n)}(t))throw new Error(function ps(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class hG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Js(n,e,t){(function a0(n,e){let t=null;for(let r=0;r<e.length;r++){const s=e[r],u=s.getPath();null!==t&&!_N(u,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:u}),t.events.push(s)}t&&n.eventLists_.push(t)})(n,t),function XV(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const s=n.eventLists_[r];s&&(e(s.path)?(fG(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Fo(r,e)||Fo(e,r))}function fG(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();up&&yi("event: "+t.toString()),$_(r)}}}const pG=25;class gG{constructor(e,t,r,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hb(),this.transactionQueueTree_=new XN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function e2(n){const t=n.infoData_.getNode(new Tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function VT(n){return tG({timestamp:e2(n)})}function t2(n,e,t,r,s){n.dataUpdateCount++;const u=new Tn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(s)if(r){const p=jp(t,_=>ar(_));l=function YH(n,e,t,r){const s=zN(n,r);if(s){const u=WN(s),l=u.path,h=u.queryId,p=ys(l,e),_=Gn.fromObject(t);return qN(n,l,new K_(xN(h),p,_))}return[]}(n.serverSyncTree_,u,p,s)}else{const p=ar(t);l=function BV(n,e,t,r){const s=zN(n,r);if(null!=s){const u=WN(s),l=u.path,h=u.queryId,p=ys(l,e);return qN(n,l,new hp(xN(h),p,t))}return[]}(n.serverSyncTree_,u,p,s)}else if(r){const p=jp(t,_=>ar(_));l=function WH(n,e,t){const r=Gn.fromObject(t);return Q_(n,new K_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,u,p)}else{const p=ar(t);l=MT(n.serverSyncTree_,u,p)}let h=u;l.length>0&&(h=X_(n,u)),Js(n.eventQueue_,h,l)}function n2(n,e){iO(n,"connected",e),!1===e&&function EG(n){Z_(n,"onDisconnectEvents");const e=VT(n),t=Hb();RN(n.onDisconnect_,cn(),(s,u)=>{const l=zV(s,u,n.serverSyncTree_,e);q_(t,s,l)});let r=[];RN(t,cn(),(s,u)=>{r=r.concat(MT(n.serverSyncTree_,s,u));const l=function uO(n,e){const t=OT(s2(n,e)),r=r0(n.transactionQueueTree_,e);return function sG(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,s=>{lO(n,s)}),lO(n,r),qV(r,s=>{lO(n,s)}),t}(n,s);X_(n,l)}),n.onDisconnect_=Hb(),Js(n.eventQueue_,cn(),r)}(n)}function iO(n,e,t){const r=new Tn("/.info/"+e),s=ar(t);n.infoData_.updateSnapshot(r,s);const u=MT(n.infoSyncTree_,r,s);Js(n.eventQueue_,r,u)}function u0(n){return n.nextWriteId_++}function Z_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),yi(t,...e)}function aO(n,e,t){return t0(n.serverSyncTree_,e,t)||Mt.EMPTY_NODE}function l0(n,e=n.transactionQueueTree_){if(e||c0(n,e),gp(e)){const t=o2(n,e);Fe(t.length>0,"Sending zero length transaction queue"),t.every(s=>0===s.status)&&function bG(n,e,t){const r=t.map(_=>_.currentWriteId),s=aO(n,e,r);let u=s;const l=s.hash();for(let _=0;_<t.length;_++){const D=t[_];Fe(0===D.status,"tryToSendTransactionQueue_: items in queue should all be run."),D.status=1,D.retryCount++;const R=ys(e,D.path);u=u.updateChild(R,D.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,_=>{Z_(n,"transaction put response",{path:p.toString(),status:_});let D=[];if("ok"===_){const R=[];for(let O=0;O<t.length;O++)t[O].status=2,D=D.concat(Ld(n.serverSyncTree_,t[O].currentWriteId)),t[O].onComplete&&R.push(()=>t[O].onComplete(null,!0,t[O].currentOutputSnapshotResolved)),t[O].unwatcher();c0(n,r0(n.transactionQueueTree_,e)),l0(n,n.transactionQueueTree_),Js(n.eventQueue_,e,D);for(let O=0;O<R.length;O++)$_(R[O])}else{if("datastale"===_)for(let R=0;R<t.length;R++)t[R].status=3===t[R].status?4:0;else{Zi("transaction at "+p.toString()+" failed: "+_);for(let R=0;R<t.length;R++)t[R].status=4,t[R].abortReason=_}X_(n,e)}},l)}(n,OT(e),t)}else WV(e)&&s0(e,t=>{l0(n,t)})}function X_(n,e){const t=s2(n,e),r=OT(t);return function SG(n,e,t){if(0===e.length)return;const r=[];let s=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],_=ys(t,p.path);let R,D=!1;if(Fe(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)D=!0,R=p.abortReason,s=s.concat(Ld(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=pG)D=!0,R="maxretry",s=s.concat(Ld(n.serverSyncTree_,p.currentWriteId,!0));else{const O=aO(n,p.path,l);p.currentInputSnapshot=O;const U=e[h].update(O.val());if(void 0!==U){FT("transaction failed: Data returned ",U,p.path);let z=ar(U);"object"==typeof U&&null!=U&&$a(U,".priority")||(z=z.updatePriority(O.getPriority()));const J=p.currentWriteId,Ue=VT(n),Ge=QN(z,O,Ue);p.currentOutputSnapshotRaw=z,p.currentOutputSnapshotResolved=Ge,p.currentWriteId=u0(n),l.splice(l.indexOf(J),1),s=s.concat(HN(n.serverSyncTree_,p.path,Ge,p.currentWriteId,p.applyLocally)),s=s.concat(Ld(n.serverSyncTree_,J,!0))}else D=!0,R="nodata",s=s.concat(Ld(n.serverSyncTree_,p.currentWriteId,!0))}Js(n.eventQueue_,t,s),s=[],D&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===R?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(R),!1,null)))}c0(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)$_(r[h]);l0(n,n.transactionQueueTree_)}(n,o2(n,t),r),r}function s2(n,e){let t,r=n.transactionQueueTree_;for(t=Vt(e);null!==t&&void 0===gp(r);)r=r0(r,t),t=Vt(e=Ln(e));return r}function o2(n,e){const t=[];return a2(n,e,t),t.sort((r,s)=>r.order-s.order),t}function a2(n,e,t){const r=gp(e);if(r)for(let s=0;s<r.length;s++)t.push(r[s]);s0(e,s=>{a2(n,s,t)})}function c0(n,e){const t=gp(e);if(t){let r=0;for(let s=0;s<t.length;s++)2!==t[s].status&&(t[r]=t[s],r++);t.length=r,JN(e,t.length>0?t:void 0)}s0(e,r=>{c0(n,r)})}function lO(n,e){const t=gp(e);if(t){const r=[];let s=[],u=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?(Fe(u===l-1,"All SENT items should be at beginning of queue."),u=l,t[l].status=3,t[l].abortReason="set"):(Fe(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),s=s.concat(Ld(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===u?JN(e,void 0):t.length=u+1,Js(n.eventQueue_,OT(e),s);for(let l=0;l<r.length;l++)$_(r[l])}}const cO=function(n,e){const t=MG(n),r=t.namespace;return"firebase.com"===t.domain&&Pu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Pu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Zi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new cN(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Tn(t.pathString)}},MG=function(n){let e="",t="",r="",s="",u="",l=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let D=n.indexOf("/");-1===D&&(D=n.length);let R=n.indexOf("?");-1===R&&(R=n.length),e=n.substring(0,Math.min(D,R)),D<R&&(s=function RG(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let s=t[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}(n.substring(D,R)));const O=function PG(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Zi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,R)));_=e.indexOf(":"),_>=0?(l="https"===h||"wss"===h,p=parseInt(e.substring(_+1),10)):_=e.length;const U=e.slice(0,_);if("localhost"===U.toLowerCase())t="localhost";else if(U.split(".").length<=2)t=U;else{const z=e.indexOf(".");r=e.substring(0,z).toLowerCase(),t=e.substring(z+1),u=r}"ns"in O&&(u=O.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:l,scheme:h,pathString:s,namespace:u}};class eo{constructor(e,t,r,s){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=s}get key(){return Ut(this._path)?null:mN(this._path)}get ref(){return new ya(this._repo,this._path)}get _queryIdentifier(){const e=gV(this._queryParams),t=uN(e);return"{}"===t?"default":t}get _queryObject(){return gV(this._queryParams)}isEqual(e){if(!((e=Ai(e))instanceof eo))return!1;const t=this._repo===e._repo,r=_N(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function w$(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class ya extends eo{constructor(e,t){super(e,t,new DN,!1)}get parent(){const e=rV(this._path);return null===e?null:new ya(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function LH(n){Fe(!Zb,"__referenceConstructor has already been defined"),Zb=n})(ya),function $H(n){Fe(!Jb,"__referenceConstructor has already been defined"),Jb=n}(ya);const hO={};class QG{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function mG(n,e,t){if(n.stats_=fN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new $b(n.repoInfo_,(r,s,u,l)=>{t2(n,r,s,u,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>n2(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Or(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new dp(n.repoInfo_,e,(r,s,u,l)=>{t2(n,r,s,u,l)},r=>{n2(n,r)},r=>{!function _G(n,e){vi(e,(t,r)=>{iO(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function t$(n,e){const t=n.toString();return hN[t]||(hN[t]=e()),hN[t]}(n.repoInfo_,()=>new tH(n.stats_,n.server_)),n.infoData_=new Q$,n.infoSyncTree_=new UV({startListening:(r,s,u,l)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=MT(n.infoSyncTree_,r._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),iO(n,"connected",!1),n.serverSyncTree_=new UV({startListening:(r,s,u,l)=>(n.server_.listen(r,u,s,(h,p)=>{const _=l(h,p);Js(n.eventQueue_,r._path,_)}),[]),stopListening:(r,s)=>{n.server_.unlisten(r,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ya(this._repo,cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function qG(n,e){const t=hO[e];(!t||t[n.key]!==n)&&Pu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function i2(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Pu("Cannot call "+e+" on a deleted database.")}}function ZG(n=fh(),e){const t=Jo(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=xe("database");r&&function XG(n,e,t,r={}){(n=Ai(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Pu("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let u;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Pu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new vT(vT.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:Bi(r.mockUserToken,n.app.options.projectId);u=new vT(l)}!function WG(n,e,t,r){n.repoInfo_=new cN(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(s,e,t,u)}(t,...r)}return t}dp.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},dp.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function JG(n){(function EL(n){sN=n})(al),za(new Qo("database",(e,{instanceIdentifier:t})=>function g2(n,e,t,r,s){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||Pu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yi("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,l=cO(u,s),h=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,u=`http://${_}?ns=${h.namespace}`,l=cO(u,s),h=l.repoInfo):p=!l.repoInfo.secure;const D=s&&p?new vT(vT.OWNER):new Xj(n.name,n.options,e);QV("Invalid Firebase Database URL",l),Ut(l.path)||Pu("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function KG(n,e,t,r){let s=hO[e.name];s||(s={},hO[e.name]=s);let u=s[n.toURLString()];return u&&Pu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new gG(n,!1,t,r),s[n.toURLString()]=u,u}(h,n,D,new Zj(n.name,t));return new QG(R,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),or(yL,"1.0.1",n),or(yL,"1.0.1","esm2017")}();class fO{constructor(e){return e}}const _2="database",pO=new E.OlP("angularfire2.database-instances");function iz(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fO(r)}}const sz={provide:class nz{constructor(){return _h(_2)}},deps:[[new E.FiY,pO]]},oz={provide:fO,useFactory:function rz(n,e){const t=mh(_2,n,e);return t&&new fO(t)},deps:[[new E.FiY,pO],dl]};let az=(()=>{class n{constructor(){or("angularfire",cl.full,"rtdb")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=E.oAB({type:n});static \u0275inj=E.cJS({providers:[oz,sz]})}return n})();function uz(n,...e){return{ngModule:az,providers:[{provide:pO,useFactory:iz(n),multi:!0,deps:[E.R0b,E.zs3,vh,Ih,[new E.FiY,df],[new E.FiY,lg],...e]}]}}const lz=Ya(ZG,!0),y2="firebasestorage.googleapis.com";class ur extends Eo{constructor(e,t,r=0){super(gO(e),`Firebase Storage: ${t} (${gO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var tr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(tr||{});function gO(n){return"storage/"+n}function _O(n){return new ur(tr.INVALID_ARGUMENT,n)}function w2(){return new ur(tr.APP_DELETED,"The Firebase app was deleted.")}class vs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=vs.makeFromUrl(e,t)}catch{return new vs(e,"")}if(""===r.path)return r;throw function vz(n){return new ur(tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+s+"(/(.*))?$","i");function _(nt){nt.path_=decodeURIComponent(nt.path)}const R=t.replace(/[.]/g,"\\."),Se=[{regex:h,indices:{bucket:1,path:3},postModify:function u(nt){"/"===nt.path.charAt(nt.path.length-1)&&(nt.path_=nt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===y2?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let nt=0;nt<Se.length;nt++){const kt=Se[nt],bt=kt.regex.exec(e);if(bt){let ni=bt[kt.indices.path];ni||(ni=""),r=new vs(bt[kt.indices.bucket],ni),kt.postModify(r);break}}if(null==r)throw function yz(n){return new ur(tr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Dz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function vO(n,e,t,r){if(r<e)throw _O(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _O(`Invalid value for '${n}'. Expected ${t} or less.`)}var ey=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ey||{});class Mz{constructor(e,t,r,s,u,l,h,p,_,D,R,O=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=D,this.connectionFactory_=R,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,z)=>{this.resolve_=U,this.reject_=z,this.start_()})}start_(){const t=(r,s)=>{const u=this.resolve_,l=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function Sz(n){return void 0!==n}(p)?u():u(p)}catch(p){l(p)}else if(null!==h){const p=function mO(){return new ur(tr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();p.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,p):p)}else l(s.canceled?this.appDelete_?w2():function I2(){return new ur(tr.CANCELED,"User canceled the upload/download.")}():function E2(){return new ur(tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new g0(!1,null,!0)):this.backoffId_=function Az(n,e,t){let r=1,s=null,u=null,l=!1,h=0;function p(){return 2===h}let _=!1;function D(...J){_||(_=!0,e.apply(null,J))}function R(J){s=setTimeout(()=>{s=null,n(U,p())},J)}function O(){u&&clearTimeout(u)}function U(J,...Ue){if(_)return void O();if(J)return O(),void D.call(null,J,...Ue);if(p()||l)return O(),void D.call(null,J,...Ue);let Se;r<64&&(r*=2),1===h?(h=2,Se=0):Se=1e3*(r+Math.random()),R(Se)}let z=!1;function Q(J){z||(z=!0,O(),!_&&(null!==s?(J||(h=2),clearTimeout(s),R(0)):J||(h=1)))}return R(0),u=setTimeout(()=>{l=!0,Q(!0)},t),Q}((r,s)=>{if(s)return void r(!1,new g0(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const h=u.getErrorCode()===ey.NO_ERROR,p=u.getStatus();if(!h||function A2(n,e){const t=n>=500&&n<600,s=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||s||u}(p,this.additionalRetryCodes_)&&this.retry){const D=u.getErrorCode()===ey.ABORT;return void r(!1,new g0(!1,null,D))}const _=-1!==this.successCodes_.indexOf(p);r(!0,new g0(_,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function bz(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class g0{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class _p{constructor(e,t){this._service=e,this._location=t instanceof vs?t:vs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _p(e,t)}get root(){const e=new vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function M2(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function zz(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new vs(this._location.bucket,e);return new _p(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function Cz(n){return new ur(tr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function W2(n,e){const t=e?.storageBucket;return null==t?null:vs.makeFromBucketSpec(t,n)}class AO{constructor(e,t,r,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=y2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?vs.makeFromBucketSpec(s,this._host):W2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?vs.makeFromBucketSpec(this._url,e):W2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return ie(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return ie(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _p(this,e)}_makeRequest(e,t,r,s,u=!0){if(this._deleted)return new Dz(w2());{const l=function Fz(n,e,t,r,s,u,l=!0){const h=function D2(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),p=n.url+h,_=Object.assign({},n.headers);return function Oz(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function xz(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function Nz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,u),function kz(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new Mz(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l)}(e,this._appId,r,s,t,this._firebaseVersion,u);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return ie(function*(){const[s,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,u).getPromise()})()}}const q2="@firebase/storage",Y2="storage";function PW(n=fh(),e){const r=Jo(n=Ai(n),Y2).getImmediate({identifier:e}),s=xe("storage");return s&&function MW(n,e,t,r={}){!function RW(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:Bi(s,n.app.options.projectId))}(n,e,t,r)}(r,...s),r}function xW(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new AO(t,r,s,e,al)}!function NW(){za(new Qo(Y2,xW,"PUBLIC").setMultipleInstances(!0)),or(q2,"0.11.2",""),or(q2,"0.11.2","esm2017")}();class bO{constructor(e){return e}}const Q2="storage",SO=new E.OlP("angularfire2.storage-instances");function FW(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bO(r)}}const LW={provide:class OW{constructor(){return _h(Q2)}},deps:[[new E.FiY,SO]]},VW={provide:bO,useFactory:function kW(n,e){const t=mh(Q2,n,e);return t&&new bO(t)},deps:[[new E.FiY,SO],dl]};let UW=(()=>{class n{constructor(){or("angularfire",cl.full,"gcs")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=E.oAB({type:n});static \u0275inj=E.cJS({providers:[VW,LW]})}return n})();function BW(n,...e){return{ngModule:UW,providers:[{provide:SO,useFactory:FW(n),multi:!0,deps:[E.R0b,E.zs3,vh,Ih,[new E.FiY,df],[new E.FiY,lg],...e]}]}}const jW=Ya(PW,!0);let $W=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=E.oAB({type:n,bootstrap:[Lp]});static#n=this.\u0275inj=E.cJS({imports:[b.b2,QT,ly,pe,Jd,Uy(()=>Lw({projectId:"angular-app-6775b",appId:"1:990155216832:web:d0d43c9a0be1336a149a25",storageBucket:"angular-app-6775b.appspot.com",apiKey:"AIzaSyA9WKd9u6TMxkbcjdFXmgSr3aaIgXcioGw",authDomain:"angular-app-6775b.firebaseapp.com",messagingSenderId:"990155216832"})),FR(()=>nD()),Lj(()=>Vj()),uz(()=>lz()),BW(()=>jW())]})}return n})();b.q6().bootstrapModule($W).catch(n=>console.error(n))},5619:(lt,Ie,V)=>{V.d(Ie,{X:()=>E});var b=V(8645);class E extends b.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const ne=super._subscribe(fe);return!ne.closed&&fe.next(this._value),ne}getValue(){const{hasError:fe,thrownError:ne,_value:ue}=this;if(fe)throw ne;return this._throwIfClosed(),ue}next(fe){super.next(this._value=fe)}}},5592:(lt,Ie,V)=>{V.d(Ie,{y:()=>ze});var b=V(305),E=V(7394),_e=V(4850),fe=V(8407),ne=V(2653),ue=V(4674),be=V(1441);let ze=(()=>{class we{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const tt=new we;return tt.source=this,tt.operator=Pe,tt}subscribe(Pe,tt,Yt){const xt=function se(we){return we&&we instanceof b.Lv||function De(we){return we&&(0,ue.m)(we.next)&&(0,ue.m)(we.error)&&(0,ue.m)(we.complete)}(we)&&(0,E.Nn)(we)}(Pe)?Pe:new b.Hp(Pe,tt,Yt);return(0,be.x)(()=>{const{operator:Qt,source:mn}=this;xt.add(Qt?Qt.call(xt,mn):mn?this._subscribe(xt):this._trySubscribe(xt))}),xt}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(tt){Pe.error(tt)}}forEach(Pe,tt){return new(tt=Re(tt))((Yt,xt)=>{const Qt=new b.Hp({next:mn=>{try{Pe(mn)}catch(Sn){xt(Sn),Qt.unsubscribe()}},error:xt,complete:Yt});this.subscribe(Qt)})}_subscribe(Pe){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(Pe)}[_e.L](){return this}pipe(...Pe){return(0,fe.U)(Pe)(this)}toPromise(Pe){return new(Pe=Re(Pe))((tt,Yt)=>{let xt;this.subscribe(Qt=>xt=Qt,Qt=>Yt(Qt),()=>tt(xt))})}}return we.create=Je=>new we(Je),we})();function Re(we){var Je;return null!==(Je=we??ne.config.Promise)&&void 0!==Je?Je:Promise}},8645:(lt,Ie,V)=>{V.d(Ie,{x:()=>be});var b=V(5592),E=V(7394);const fe=(0,V(2306).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=V(9039),ue=V(1441);let be=(()=>{class Re extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const we=new ze(this,this);return we.operator=se,we}_throwIfClosed(){if(this.closed)throw new fe}next(se){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(se)}})}error(se){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:we}=this;for(;we.length;)we.shift().error(se)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:we,isStopped:Je,observers:Pe}=this;return we||Je?E.Lc:(this.currentObservers=null,Pe.push(se),new E.w0(()=>{this.currentObservers=null,(0,ne.P)(Pe,se)}))}_checkFinalizedStatuses(se){const{hasError:we,thrownError:Je,isStopped:Pe}=this;we?se.error(Je):Pe&&se.complete()}asObservable(){const se=new b.y;return se.source=this,se}}return Re.create=(De,se)=>new ze(De,se),Re})();class ze extends be{constructor(De,se){super(),this.destination=De,this.source=se}next(De){var se,we;null===(we=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===we||we.call(se,De)}error(De){var se,we;null===(we=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===we||we.call(se,De)}complete(){var De,se;null===(se=null===(De=this.destination)||void 0===De?void 0:De.complete)||void 0===se||se.call(De)}_subscribe(De){var se,we;return null!==(we=null===(se=this.source)||void 0===se?void 0:se.subscribe(De))&&void 0!==we?we:E.Lc}}},305:(lt,Ie,V)=>{V.d(Ie,{Hp:()=>Yt,Lv:()=>we});var b=V(4674),E=V(7394),_e=V(2653),fe=V(3894),ne=V(2420);const ue=Re("C",void 0,void 0);function Re(Te,Ce,ye){return{kind:Te,value:Ce,error:ye}}var De=V(7599),se=V(1441);class we extends E.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,E.Nn)(Ce)&&Ce.add(this)):this.destination=Sn}static create(Ce,ye,Qe){return new Yt(Ce,ye,Qe)}next(Ce){this.isStopped?mn(function ze(Te){return Re("N",Te,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?mn(function be(Te){return Re("E",void 0,Te)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?mn(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Pe(Te,Ce){return Je.call(Te,Ce)}class tt{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:ye}=this;if(ye.next)try{ye.next(Ce)}catch(Qe){xt(Qe)}}error(Ce){const{partialObserver:ye}=this;if(ye.error)try{ye.error(Ce)}catch(Qe){xt(Qe)}else xt(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(ye){xt(ye)}}}class Yt extends we{constructor(Ce,ye,Qe){let ct;if(super(),(0,b.m)(Ce)||!Ce)ct={next:Ce??void 0,error:ye??void 0,complete:Qe??void 0};else{let He;this&&_e.config.useDeprecatedNextContext?(He=Object.create(Ce),He.unsubscribe=()=>this.unsubscribe(),ct={next:Ce.next&&Pe(Ce.next,He),error:Ce.error&&Pe(Ce.error,He),complete:Ce.complete&&Pe(Ce.complete,He)}):ct=Ce}this.destination=new tt(ct)}}function xt(Te){_e.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(Te):(0,fe.h)(Te)}function mn(Te,Ce){const{onStoppedNotification:ye}=_e.config;ye&&De.z.setTimeout(()=>ye(Te,Ce))}const Sn={closed:!0,next:ne.Z,error:function Qt(Te){throw Te},complete:ne.Z}},7394:(lt,Ie,V)=>{V.d(Ie,{Lc:()=>ue,w0:()=>ne,Nn:()=>be});var b=V(4674);const _e=(0,V(2306).d)(Re=>function(se){Re(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((we,Je)=>`${Je+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var fe=V(9039);class ne{constructor(De){this.initialTeardown=De,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let De;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Pe of se)Pe.remove(this);else se.remove(this);const{initialTeardown:we}=this;if((0,b.m)(we))try{we()}catch(Pe){De=Pe instanceof _e?Pe.errors:[Pe]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Pe of Je)try{ze(Pe)}catch(tt){De=De??[],tt instanceof _e?De=[...De,...tt.errors]:De.push(tt)}}if(De)throw new _e(De)}}add(De){var se;if(De&&De!==this)if(this.closed)ze(De);else{if(De instanceof ne){if(De.closed||De._hasParent(this))return;De._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(De)}}_hasParent(De){const{_parentage:se}=this;return se===De||Array.isArray(se)&&se.includes(De)}_addParent(De){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(De),se):se?[se,De]:De}_removeParent(De){const{_parentage:se}=this;se===De?this._parentage=null:Array.isArray(se)&&(0,fe.P)(se,De)}remove(De){const{_finalizers:se}=this;se&&(0,fe.P)(se,De),De instanceof ne&&De._removeParent(this)}}ne.EMPTY=(()=>{const Re=new ne;return Re.closed=!0,Re})();const ue=ne.EMPTY;function be(Re){return Re instanceof ne||Re&&"closed"in Re&&(0,b.m)(Re.remove)&&(0,b.m)(Re.add)&&(0,b.m)(Re.unsubscribe)}function ze(Re){(0,b.m)(Re)?Re():Re.unsubscribe()}},2653:(lt,Ie,V)=>{V.d(Ie,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(lt,Ie,V)=>{V.d(Ie,{E:()=>E});const E=new(V(5592).y)(ne=>ne.complete())},2459:(lt,Ie,V)=>{V.d(Ie,{D:()=>Ce});var b=V(4829),E=V(3093),_e=V(5137),ue=V(5592),ze=V(4971),Re=V(4674),De=V(7103);function we(ye,Qe){if(!ye)throw new Error("Iterable cannot be null");return new ue.y(ct=>{(0,De.f)(ct,Qe,()=>{const He=ye[Symbol.asyncIterator]();(0,De.f)(ct,Qe,()=>{He.next().then(Me=>{Me.done?ct.complete():ct.next(Me.value)})},0,!0)})})}var Je=V(8382),Pe=V(4026),tt=V(4266),Yt=V(3664),xt=V(5726),Qt=V(9853),mn=V(541);function Ce(ye,Qe){return Qe?function Te(ye,Qe){if(null!=ye){if((0,Je.c)(ye))return function fe(ye,Qe){return(0,b.Xf)(ye).pipe((0,_e.R)(Qe),(0,E.Q)(Qe))}(ye,Qe);if((0,tt.z)(ye))return function be(ye,Qe){return new ue.y(ct=>{let He=0;return Qe.schedule(function(){He===ye.length?ct.complete():(ct.next(ye[He++]),ct.closed||this.schedule())})})}(ye,Qe);if((0,Pe.t)(ye))return function ne(ye,Qe){return(0,b.Xf)(ye).pipe((0,_e.R)(Qe),(0,E.Q)(Qe))}(ye,Qe);if((0,xt.D)(ye))return we(ye,Qe);if((0,Yt.T)(ye))return function se(ye,Qe){return new ue.y(ct=>{let He;return(0,De.f)(ct,Qe,()=>{He=ye[ze.h](),(0,De.f)(ct,Qe,()=>{let Me,Ft;try{({value:Me,done:Ft}=He.next())}catch(nr){return void ct.error(nr)}Ft?ct.complete():ct.next(Me)},0,!0)}),()=>(0,Re.m)(He?.return)&&He.return()})}(ye,Qe);if((0,mn.L)(ye))return function Sn(ye,Qe){return we((0,mn.Q)(ye),Qe)}(ye,Qe)}throw(0,Qt.z)(ye)}(ye,Qe):(0,b.Xf)(ye)}},4829:(lt,Ie,V)=>{V.d(Ie,{Xf:()=>Je});var b=V(7582),E=V(4266),_e=V(4026),fe=V(5592),ne=V(8382),ue=V(5726),be=V(9853),ze=V(3664),Re=V(541),De=V(4674),se=V(3894),we=V(4850);function Je(Te){if(Te instanceof fe.y)return Te;if(null!=Te){if((0,ne.c)(Te))return function Pe(Te){return new fe.y(Ce=>{const ye=Te[we.L]();if((0,De.m)(ye.subscribe))return ye.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,E.z)(Te))return function tt(Te){return new fe.y(Ce=>{for(let ye=0;ye<Te.length&&!Ce.closed;ye++)Ce.next(Te[ye]);Ce.complete()})}(Te);if((0,_e.t)(Te))return function Yt(Te){return new fe.y(Ce=>{Te.then(ye=>{Ce.closed||(Ce.next(ye),Ce.complete())},ye=>Ce.error(ye)).then(null,se.h)})}(Te);if((0,ue.D)(Te))return Qt(Te);if((0,ze.T)(Te))return function xt(Te){return new fe.y(Ce=>{for(const ye of Te)if(Ce.next(ye),Ce.closed)return;Ce.complete()})}(Te);if((0,Re.L)(Te))return function mn(Te){return Qt((0,Re.Q)(Te))}(Te)}throw(0,be.z)(Te)}function Qt(Te){return new fe.y(Ce=>{(function Sn(Te,Ce){var ye,Qe,ct,He;return(0,b.mG)(this,void 0,void 0,function*(){try{for(ye=(0,b.KL)(Te);!(Qe=yield ye.next()).done;)if(Ce.next(Qe.value),Ce.closed)return}catch(Me){ct={error:Me}}finally{try{Qe&&!Qe.done&&(He=ye.return)&&(yield He.call(ye))}finally{if(ct)throw ct.error}}Ce.complete()})})(Te,Ce).catch(ye=>Ce.error(ye))})}},2096:(lt,Ie,V)=>{V.d(Ie,{of:()=>_e});var b=V(4564),E=V(2459);function _e(...fe){const ne=(0,b.yG)(fe);return(0,E.D)(fe,ne)}},8251:(lt,Ie,V)=>{V.d(Ie,{x:()=>E});var b=V(305);function E(fe,ne,ue,be,ze){return new _e(fe,ne,ue,be,ze)}class _e extends b.Lv{constructor(ne,ue,be,ze,Re,De){super(ne),this.onFinalize=Re,this.shouldUnsubscribe=De,this._next=ue?function(se){try{ue(se)}catch(we){ne.error(we)}}:super._next,this._error=ze?function(se){try{ze(se)}catch(we){ne.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(se){ne.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},6328:(lt,Ie,V)=>{V.d(Ie,{b:()=>_e});var b=V(1631),E=V(4674);function _e(fe,ne){return(0,E.m)(ne)?(0,b.z)(fe,ne,1):(0,b.z)(fe,1)}},2181:(lt,Ie,V)=>{V.d(Ie,{h:()=>_e});var b=V(9360),E=V(8251);function _e(fe,ne){return(0,b.e)((ue,be)=>{let ze=0;ue.subscribe((0,E.x)(be,Re=>fe.call(ne,Re,ze++)&&be.next(Re)))})}},4716:(lt,Ie,V)=>{V.d(Ie,{x:()=>E});var b=V(9360);function E(_e){return(0,b.e)((fe,ne)=>{try{fe.subscribe(ne)}finally{ne.add(_e)}})}},7398:(lt,Ie,V)=>{V.d(Ie,{U:()=>_e});var b=V(9360),E=V(8251);function _e(fe,ne){return(0,b.e)((ue,be)=>{let ze=0;ue.subscribe((0,E.x)(be,Re=>{be.next(fe.call(ne,Re,ze++))}))})}},7537:(lt,Ie,V)=>{V.d(Ie,{J:()=>_e});var b=V(1631),E=V(2737);function _e(fe=1/0){return(0,b.z)(E.y,fe)}},1631:(lt,Ie,V)=>{V.d(Ie,{z:()=>ze});var b=V(7398),E=V(4829),_e=V(9360),fe=V(7103),ne=V(8251),be=V(4674);function ze(Re,De,se=1/0){return(0,be.m)(De)?ze((we,Je)=>(0,b.U)((Pe,tt)=>De(we,Pe,Je,tt))((0,E.Xf)(Re(we,Je))),se):("number"==typeof De&&(se=De),(0,_e.e)((we,Je)=>function ue(Re,De,se,we,Je,Pe,tt,Yt){const xt=[];let Qt=0,mn=0,Sn=!1;const Te=()=>{Sn&&!xt.length&&!Qt&&De.complete()},Ce=Qe=>Qt<we?ye(Qe):xt.push(Qe),ye=Qe=>{Pe&&De.next(Qe),Qt++;let ct=!1;(0,E.Xf)(se(Qe,mn++)).subscribe((0,ne.x)(De,He=>{Je?.(He),Pe?Ce(He):De.next(He)},()=>{ct=!0},void 0,()=>{if(ct)try{for(Qt--;xt.length&&Qt<we;){const He=xt.shift();tt?(0,fe.f)(De,tt,()=>ye(He)):ye(He)}Te()}catch(He){De.error(He)}}))};return Re.subscribe((0,ne.x)(De,Ce,()=>{Sn=!0,Te()})),()=>{Yt?.()}}(we,Je,Re,se)))}},3093:(lt,Ie,V)=>{V.d(Ie,{Q:()=>fe});var b=V(7103),E=V(9360),_e=V(8251);function fe(ne,ue=0){return(0,E.e)((be,ze)=>{be.subscribe((0,_e.x)(ze,Re=>(0,b.f)(ze,ne,()=>ze.next(Re),ue),()=>(0,b.f)(ze,ne,()=>ze.complete(),ue),Re=>(0,b.f)(ze,ne,()=>ze.error(Re),ue)))})}},5137:(lt,Ie,V)=>{V.d(Ie,{R:()=>E});var b=V(9360);function E(_e,fe=0){return(0,b.e)((ne,ue)=>{ue.add(_e.schedule(()=>ne.subscribe(ue),fe))})}},4664:(lt,Ie,V)=>{V.d(Ie,{w:()=>fe});var b=V(4829),E=V(9360),_e=V(8251);function fe(ne,ue){return(0,E.e)((be,ze)=>{let Re=null,De=0,se=!1;const we=()=>se&&!Re&&ze.complete();be.subscribe((0,_e.x)(ze,Je=>{Re?.unsubscribe();let Pe=0;const tt=De++;(0,b.Xf)(ne(Je,tt)).subscribe(Re=(0,_e.x)(ze,Yt=>ze.next(ue?ue(Je,Yt,tt,Pe++):Yt),()=>{Re=null,we()}))},()=>{se=!0,we()}))})}},9397:(lt,Ie,V)=>{V.d(Ie,{b:()=>ne});var b=V(4674),E=V(9360),_e=V(8251),fe=V(2737);function ne(ue,be,ze){const Re=(0,b.m)(ue)||be||ze?{next:ue,error:be,complete:ze}:ue;return Re?(0,E.e)((De,se)=>{var we;null===(we=Re.subscribe)||void 0===we||we.call(Re);let Je=!0;De.subscribe((0,_e.x)(se,Pe=>{var tt;null===(tt=Re.next)||void 0===tt||tt.call(Re,Pe),se.next(Pe)},()=>{var Pe;Je=!1,null===(Pe=Re.complete)||void 0===Pe||Pe.call(Re),se.complete()},Pe=>{var tt;Je=!1,null===(tt=Re.error)||void 0===tt||tt.call(Re,Pe),se.error(Pe)},()=>{var Pe,tt;Je&&(null===(Pe=Re.unsubscribe)||void 0===Pe||Pe.call(Re)),null===(tt=Re.finalize)||void 0===tt||tt.call(Re)}))}):fe.y}},7599:(lt,Ie,V)=>{V.d(Ie,{z:()=>b});const b={setTimeout(E,_e,...fe){const{delegate:ne}=b;return ne?.setTimeout?ne.setTimeout(E,_e,...fe):setTimeout(E,_e,...fe)},clearTimeout(E){const{delegate:_e}=b;return(_e?.clearTimeout||clearTimeout)(E)},delegate:void 0}},4971:(lt,Ie,V)=>{V.d(Ie,{h:()=>E});const E=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(lt,Ie,V)=>{V.d(Ie,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(lt,Ie,V)=>{V.d(Ie,{_6:()=>ue,jO:()=>fe,yG:()=>ne});var b=V(4674);function _e(be){return be[be.length-1]}function fe(be){return(0,b.m)(_e(be))?be.pop():void 0}function ne(be){return function E(be){return be&&(0,b.m)(be.schedule)}(_e(be))?be.pop():void 0}function ue(be,ze){return"number"==typeof _e(be)?be.pop():ze}},7453:(lt,Ie,V)=>{V.d(Ie,{D:()=>ne});const{isArray:b}=Array,{getPrototypeOf:E,prototype:_e,keys:fe}=Object;function ne(be){if(1===be.length){const ze=be[0];if(b(ze))return{args:ze,keys:null};if(function ue(be){return be&&"object"==typeof be&&E(be)===_e}(ze)){const Re=fe(ze);return{args:Re.map(De=>ze[De]),keys:Re}}}return{args:be,keys:null}}},9039:(lt,Ie,V)=>{function b(E,_e){if(E){const fe=E.indexOf(_e);0<=fe&&E.splice(fe,1)}}V.d(Ie,{P:()=>b})},2306:(lt,Ie,V)=>{function b(E){const fe=E(ne=>{Error.call(ne),ne.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}V.d(Ie,{d:()=>b})},2714:(lt,Ie,V)=>{function b(E,_e){return E.reduce((fe,ne,ue)=>(fe[ne]=_e[ue],fe),{})}V.d(Ie,{n:()=>b})},1441:(lt,Ie,V)=>{V.d(Ie,{O:()=>fe,x:()=>_e});var b=V(2653);let E=null;function _e(ne){if(b.config.useDeprecatedSynchronousErrorHandling){const ue=!E;if(ue&&(E={errorThrown:!1,error:null}),ne(),ue){const{errorThrown:be,error:ze}=E;if(E=null,be)throw ze}}else ne()}function fe(ne){b.config.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=ne)}},7103:(lt,Ie,V)=>{function b(E,_e,fe,ne=0,ue=!1){const be=_e.schedule(function(){fe(),ue?E.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(E.add(be),!ue)return be}V.d(Ie,{f:()=>b})},2737:(lt,Ie,V)=>{function b(E){return E}V.d(Ie,{y:()=>b})},4266:(lt,Ie,V)=>{V.d(Ie,{z:()=>b});const b=E=>E&&"number"==typeof E.length&&"function"!=typeof E},5726:(lt,Ie,V)=>{V.d(Ie,{D:()=>E});var b=V(4674);function E(_e){return Symbol.asyncIterator&&(0,b.m)(_e?.[Symbol.asyncIterator])}},4674:(lt,Ie,V)=>{function b(E){return"function"==typeof E}V.d(Ie,{m:()=>b})},8382:(lt,Ie,V)=>{V.d(Ie,{c:()=>_e});var b=V(4850),E=V(4674);function _e(fe){return(0,E.m)(fe[b.L])}},3664:(lt,Ie,V)=>{V.d(Ie,{T:()=>_e});var b=V(4971),E=V(4674);function _e(fe){return(0,E.m)(fe?.[b.h])}},4026:(lt,Ie,V)=>{V.d(Ie,{t:()=>E});var b=V(4674);function E(_e){return(0,b.m)(_e?.then)}},541:(lt,Ie,V)=>{V.d(Ie,{L:()=>fe,Q:()=>_e});var b=V(7582),E=V(4674);function _e(ne){return(0,b.FC)(this,arguments,function*(){const be=ne.getReader();try{for(;;){const{value:ze,done:Re}=yield(0,b.qq)(be.read());if(Re)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(ze)}}finally{be.releaseLock()}})}function fe(ne){return(0,E.m)(ne?.getReader)}},9360:(lt,Ie,V)=>{V.d(Ie,{A:()=>E,e:()=>_e});var b=V(4674);function E(fe){return(0,b.m)(fe?.lift)}function _e(fe){return ne=>{if(E(ne))return ne.lift(function(ue){try{return fe(ue,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(lt,Ie,V)=>{V.d(Ie,{Z:()=>fe});var b=V(7398);const{isArray:E}=Array;function fe(ne){return(0,b.U)(ue=>function _e(ne,ue){return E(ue)?ne(...ue):ne(ue)}(ne,ue))}},2420:(lt,Ie,V)=>{function b(){}V.d(Ie,{Z:()=>b})},8407:(lt,Ie,V)=>{V.d(Ie,{U:()=>_e,z:()=>E});var b=V(2737);function E(...fe){return _e(fe)}function _e(fe){return 0===fe.length?b.y:1===fe.length?fe[0]:function(ue){return fe.reduce((be,ze)=>ze(be),ue)}}},3894:(lt,Ie,V)=>{V.d(Ie,{h:()=>_e});var b=V(2653),E=V(7599);function _e(fe){E.z.setTimeout(()=>{const{onUnhandledError:ne}=b.config;if(!ne)throw fe;ne(fe)})}},9853:(lt,Ie,V)=>{function b(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ie,{z:()=>b})},6814:(lt,Ie,V)=>{V.d(Ie,{Do:()=>Yt,EM:()=>Un,HT:()=>fe,JF:()=>ui,K0:()=>ue,Mx:()=>ql,O5:()=>Da,PM:()=>ft,S$:()=>Je,V_:()=>ze,Ye:()=>xt,b0:()=>tt,bD:()=>Bo,ez:()=>ao,q:()=>_e,sg:()=>si,w_:()=>ne});var b=V(4946);let E=null;function _e(){return E}function fe(I){E||(E=I)}class ne{}const ue=new b.OlP("DocumentToken");let be=(()=>{class I{historyGo(A){throw new Error("Not implemented")}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=b.Yz7({token:I,factory:function(){return(0,b.f3M)(Re)},providedIn:"platform"})}return I})();const ze=new b.OlP("Location Initialized");let Re=(()=>{class I extends be{constructor(){super(),this._doc=(0,b.f3M)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _e().getBaseHref(this._doc)}onPopState(A){const M=_e().getGlobalEventTarget(this._doc,"window");return M.addEventListener("popstate",A,!1),()=>M.removeEventListener("popstate",A)}onHashChange(A){const M=_e().getGlobalEventTarget(this._doc,"window");return M.addEventListener("hashchange",A,!1),()=>M.removeEventListener("hashchange",A)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(A){this._location.pathname=A}pushState(A,M,B){this._history.pushState(A,M,B)}replaceState(A,M,B){this._history.replaceState(A,M,B)}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=b.Yz7({token:I,factory:function(){return new I},providedIn:"platform"})}return I})();function De(I,x){if(0==I.length)return x;if(0==x.length)return I;let A=0;return I.endsWith("/")&&A++,x.startsWith("/")&&A++,2==A?I+x.substring(1):1==A?I+x:I+"/"+x}function se(I){const x=I.match(/#|\?|$/),A=x&&x.index||I.length;return I.slice(0,A-("/"===I[A-1]?1:0))+I.slice(A)}function we(I){return I&&"?"!==I[0]?"?"+I:I}let Je=(()=>{class I{historyGo(A){throw new Error("Not implemented")}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=b.Yz7({token:I,factory:function(){return(0,b.f3M)(tt)},providedIn:"root"})}return I})();const Pe=new b.OlP("appBaseHref");let tt=(()=>{class I extends Je{constructor(A,M){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=M??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return De(this._baseHref,A)}path(A=!1){const M=this._platformLocation.pathname+we(this._platformLocation.search),B=this._platformLocation.hash;return B&&A?`${M}${B}`:M}pushState(A,M,B,Z){const de=this.prepareExternalUrl(B+we(Z));this._platformLocation.pushState(A,M,de)}replaceState(A,M,B,Z){const de=this.prepareExternalUrl(B+we(Z));this._platformLocation.replaceState(A,M,de)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static#e=this.\u0275fac=function(M){return new(M||I)(b.LFG(be),b.LFG(Pe,8))};static#t=this.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),Yt=(()=>{class I extends Je{constructor(A,M){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=M&&(this._baseHref=M)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let M=this._platformLocation.hash;return null==M&&(M="#"),M.length>0?M.substring(1):M}prepareExternalUrl(A){const M=De(this._baseHref,A);return M.length>0?"#"+M:M}pushState(A,M,B,Z){let de=this.prepareExternalUrl(B+we(Z));0==de.length&&(de=this._platformLocation.pathname),this._platformLocation.pushState(A,M,de)}replaceState(A,M,B,Z){let de=this.prepareExternalUrl(B+we(Z));0==de.length&&(de=this._platformLocation.pathname),this._platformLocation.replaceState(A,M,de)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static#e=this.\u0275fac=function(M){return new(M||I)(b.LFG(be),b.LFG(Pe,8))};static#t=this.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac})}return I})(),xt=(()=>{class I{constructor(A){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const M=this._locationStrategy.getBaseHref();this._basePath=function Te(I){if(new RegExp("^(https?:)?//").test(I)){const[,A]=I.split(/\/\/[^\/]+/);return A}return I}(se(Sn(M))),this._locationStrategy.onPopState(B=>{this._subject.emit({url:this.path(!0),pop:!0,state:B.state,type:B.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,M=""){return this.path()==this.normalize(A+we(M))}normalize(A){return I.stripTrailingSlash(function mn(I,x){if(!I||!x.startsWith(I))return x;const A=x.substring(I.length);return""===A||["/",";","?","#"].includes(A[0])?A:x}(this._basePath,Sn(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,M="",B=null){this._locationStrategy.pushState(B,"",A,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+we(M)),B)}replaceState(A,M="",B=null){this._locationStrategy.replaceState(B,"",A,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+we(M)),B)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(M=>{this._notifyUrlChangeListeners(M.url,M.state)})),()=>{const M=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(M,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",M){this._urlChangeListeners.forEach(B=>B(A,M))}subscribe(A,M,B){return this._subject.subscribe({next:A,error:M,complete:B})}static#e=this.normalizeQueryParams=we;static#t=this.joinWithSlash=De;static#n=this.stripTrailingSlash=se;static#r=this.\u0275fac=function(M){return new(M||I)(b.LFG(Je))};static#i=this.\u0275prov=b.Yz7({token:I,factory:function(){return function Qt(){return new xt((0,b.LFG)(Je))}()},providedIn:"root"})}return I})();function Sn(I){return I.replace(/\/index.html$/,"")}function ql(I,x){x=encodeURIComponent(x);for(const A of I.split(";")){const M=A.indexOf("="),[B,Z]=-1==M?[A,""]:[A.slice(0,M),A.slice(M+1)];if(B.trim()===x)return decodeURIComponent(Z)}return null}class ut{constructor(x,A,M,B){this.$implicit=x,this.ngForOf=A,this.index=M,this.count=B}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let si=(()=>{class I{set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}constructor(A,M,B){this._viewContainer=A,this._template=M,this._differs=B,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const M=this._viewContainer;A.forEachOperation((B,Z,de)=>{if(null==B.previousIndex)M.createEmbeddedView(this._template,new ut(B.item,this._ngForOf,-1,-1),null===de?void 0:de);else if(null==de)M.remove(null===Z?void 0:Z);else if(null!==Z){const qe=M.get(Z);M.move(qe,de),Us(qe,B)}});for(let B=0,Z=M.length;B<Z;B++){const qe=M.get(B).context;qe.index=B,qe.count=Z,qe.ngForOf=this._ngForOf}A.forEachIdentityChange(B=>{Us(M.get(B.currentIndex),B)})}static ngTemplateContextGuard(A,M){return!0}static#e=this.\u0275fac=function(M){return new(M||I)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:I,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return I})();function Us(I,x){I.context.$implicit=x.item}let Da=(()=>{class I{constructor(A,M){this._viewContainer=A,this._context=new Oi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=M}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){Ts("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){Ts("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,M){return!0}static#e=this.\u0275fac=function(M){return new(M||I)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return I})();class Oi{constructor(){this.$implicit=null,this.ngIf=null}}function Ts(I,x){if(x&&!x.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,b.AaK)(x)}'.`)}let ao=(()=>{class I{static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275mod=b.oAB({type:I});static#n=this.\u0275inj=b.cJS({})}return I})();const Bo="browser",Ep="server";function ft(I){return I===Ep}let Un=(()=>{class I{static#e=this.\u0275prov=(0,b.Yz7)({token:I,providedIn:"root",factory:()=>new ai((0,b.LFG)(ue),window)})}return I})();class ai{constructor(x,A){this.document=x,this.window=A,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const A=function rn(I,x){const A=I.getElementById(x)||I.getElementsByName(x)[0];if(A)return A;if("function"==typeof I.createTreeWalker&&I.body&&"function"==typeof I.body.attachShadow){const M=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let B=M.currentNode;for(;B;){const Z=B.shadowRoot;if(Z){const de=Z.getElementById(x)||Z.querySelector(`[name="${x}"]`);if(de)return de}B=M.nextNode()}}return null}(this.document,x);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(x){this.supportsScrolling()&&(this.window.history.scrollRestoration=x)}scrollToElement(x){const A=x.getBoundingClientRect(),M=A.left+this.window.pageXOffset,B=A.top+this.window.pageYOffset,Z=this.offset();this.window.scrollTo(M-Z[0],B-Z[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ui{}},4946:(lt,Ie,V)=>{V.d(Ie,{tb:()=>a_,AFp:()=>av,ip1:()=>vA,hGG:()=>WA,z2F:()=>fd,Ojb:()=>cv,sBO:()=>FA,Sil:()=>TA,EJc:()=>EA,Xts:()=>Ac,SBq:()=>eu,lqb:()=>wo,qLn:()=>ia,vpe:()=>Co,XFs:()=>Ke,OlP:()=>vt,zs3:()=>Hi,ZZ4:()=>g_,aQg:()=>GI,soG:()=>Ff,YKP:()=>Cf,h0i:()=>bl,PXZ:()=>bA,R0b:()=>Qr,FiY:()=>Zp,Lbi:()=>lv,g9A:()=>uv,Qsj:()=>ik,FYo:()=>kS,JOm:()=>og,tp0:()=>Xp,Rgc:()=>Po,dDg:()=>DA,eoX:()=>Bf,q4F:()=>xg,GfV:()=>dC,s_b:()=>_I,ifc:()=>ir,VuI:()=>hM,MMx:()=>HD,Lck:()=>Df,eFA:()=>un,Gpc:()=>He,f3M:()=>Wt,$WT:()=>rs,MR2:()=>Zy,_c5:()=>Fl,qFp:()=>Qf,rg0:()=>Ui,c2e:()=>PI,zSh:()=>nv,HDt:()=>MI,wAp:()=>Zn,vHH:()=>Oe,lri:()=>hd,rWj:()=>NI,cg1:()=>VE,kL8:()=>bm,dqk:()=>et,Z0I:()=>Br,eJc:()=>rt,QGY:()=>vE,F4k:()=>JC,RDi:()=>fS,AaK:()=>ye,qOj:()=>jC,Xq5:()=>im,TTD:()=>ac,_Bn:()=>$D,jDz:()=>ZE,xp6:()=>IC,uIk:()=>eE,ekj:()=>oD,Suo:()=>EI,Xpm:()=>Hu,lG2:()=>ws,Yz7:()=>Jt,cJS:()=>Nt,oAB:()=>zd,Yjl:()=>oo,Y36:()=>Lc,_UZ:()=>mE,qZA:()=>mm,TgZ:()=>gm,EpF:()=>XC,n5z:()=>tn,LFG:()=>cr,$8M:()=>Ty,$Z:()=>qS,NdJ:()=>EE,CRH:()=>aA,oxw:()=>BR,ALo:()=>dI,xi3:()=>fI,Q6J:()=>$c,VKq:()=>Rf,iGM:()=>ve,MAs:()=>gE,KtG:()=>Fp,CHM:()=>kp,P3R:()=>Cg,YNc:()=>KC,_uU:()=>lD,hij:()=>Em});var b=V(8645),E=V(7394),_e=V(5592),fe=V(7537),ne=V(4829),ue=V(6232),be=V(4564),ze=V(2459),De=V(5619),se=V(2096),we=V(305),Je=V(9360);function Pe(i={}){const{connector:o=(()=>new b.x),resetOnError:a=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=i;return f=>{let g,v,w,P=0,N=!1,F=!1;const $=()=>{v?.unsubscribe(),v=void 0},G=()=>{$(),g=w=void 0,N=F=!1},ae=()=>{const le=g;G(),le?.unsubscribe()};return(0,Je.e)((le,Ne)=>{P++,!F&&!N&&$();const Xe=w=w??o();Ne.add(()=>{P--,0===P&&!F&&!N&&(v=tt(ae,d))}),Xe.subscribe(Ne),!g&&P>0&&(g=new we.Hp({next:he=>Xe.next(he),error:he=>{F=!0,$(),v=tt(G,a,he),Xe.error(he)},complete:()=>{N=!0,$(),v=tt(G,c),Xe.complete()}}),(0,ne.Xf)(le).subscribe(g))})(f)}}function tt(i,o,...a){if(!0===o)return void i();if(!1===o)return;const c=new we.Hp({next:()=>{c.unsubscribe(),i()}});return(0,ne.Xf)(o(...a)).subscribe(c)}var Yt=V(4664),xt=V(2737),Qt=V(8251);function Sn(i,o){return i===o}function Te(i){for(let o in i)if(i[o]===Te)return o;throw Error("Could not find renamed property on target object.")}function Ce(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ye(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ye).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Qe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const ct=Te({__forward_ref__:Te});function He(i){return i.__forward_ref__=He,i.toString=function(){return ye(this())},i}function Me(i){return Ft(i)?i():i}function Ft(i){return"function"==typeof i&&i.hasOwnProperty(ct)&&i.__forward_ref__===He}function nr(i){return i&&!!i.\u0275providers}const ri="https://g.co/ng/security#xss";class Oe extends Error{constructor(o,a){super(function Wn(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function ke(i){return"string"==typeof i?i:null==i?"":String(i)}function re(i,o){throw new Oe(-201,!1)}function qn(i,o){null==i&&function at(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Nt(i){return{providers:i.providers||[],imports:i.imports||[]}}function wt(i){return to(i,rr)||to(i,Cn)}function Br(i){return null!==wt(i)}function to(i,o){return i.hasOwnProperty(o)?i[o]:null}function _r(i){return i&&(i.hasOwnProperty(Vs)||i.hasOwnProperty(Lu))?i[Vs]:null}const rr=Te({\u0275prov:Te}),Vs=Te({\u0275inj:Te}),Cn=Te({ngInjectableDef:Te}),Lu=Te({ngInjectorDef:Te});var Ke=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Ke||{});let Lo;function lr(i){const o=Lo;return Lo=i,o}function Xi(i,o,a){const c=wt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ke.Optional?null:void 0!==o?o:void re(ye(i))}const et=globalThis;class vt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Jt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bt={},zt="__NG_DI_FLAG__",On="ngTempTokenPath",es=/\n/gm,zl="__source";let ro;function Ni(i){const o=ro;return ro=i,o}function $d(i,o=Ke.Default){if(void 0===ro)throw new Oe(-203,!1);return null===ro?Xi(i,void 0,o):ro.get(i,o&Ke.Optional?null:void 0,o)}function cr(i,o=Ke.Default){return(function Is(){return Lo}()||$d)(Me(i),o)}function Wt(i,o=Ke.Default){return cr(i,$r(o))}function $r(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Hr(i){const o=[];for(let a=0;a<i.length;a++){const c=Me(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Oe(900,!1);let d,f=Ke.Default;for(let g=0;g<c.length;g++){const v=c[g],w=Hd(v);"number"==typeof w?-1===w?d=v.token:f|=w:d=v}o.push(cr(d,f))}else o.push(cr(c))}return o}function Ti(i,o){return i[zt]=o,i.prototype[zt]=o,i}function Hd(i){return i[zt]}function Gr(i){return{toString:i}.toString()}var Mr=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Mr||{}),ir=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(ir||{});const zr={},ut=[],si=Te({\u0275cmp:Te}),Us=Te({\u0275dir:Te}),Gd=Te({\u0275pipe:Te}),Da=Te({\u0275mod:Te}),Oi=Te({\u0275fac:Te}),Ts=Te({__NG_ELEMENT_ID__:Te}),ts=Te({__NG_ENV_ID__:Te});function Uo(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function io(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],g=a[c++],v=a[c++];i.setAttribute(o,g,v,f)}else{const f=d,g=a[++c];Bu(f)?i.setProperty(o,f,g):i.setAttribute(o,f,g),c++}}return c}function Uu(i){return 3===i||4===i||6===i}function Bu(i){return 64===i.charCodeAt(0)}function ki(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||so(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function so(i,o,a,c,d){let f=0,g=i.length;if(-1===o)g=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===o){g=-1;break}if(v>o){g=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(i.splice(g,0,o),f=g+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const wi="ng-template";function Aa(i,o,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const g=i[c++];if(a&&"class"===f&&-1!==Uo(g.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function ns(i){return 4===i.type&&i.value!==wi}function yr(i,o,a){return o===(4!==i.type||a?i.value:wi)}function Bs(i,o,a){let c=4;const d=i.attrs||[],f=function Kl(i){for(let o=0;o<i.length;o++)if(Uu(i[o]))return o;return i.length}(d);let g=!1;for(let v=0;v<o.length;v++){const w=o[v];if("number"!=typeof w){if(!g)if(4&c){if(c=2|1&c,""!==w&&!yr(i,w,a)||""===w&&1===o.length){if(vr(c))return!1;g=!0}}else{const P=8&c?w:o[++v];if(8&c&&null!==i.attrs){if(!Aa(i.attrs,P,a)){if(vr(c))return!1;g=!0}continue}const F=ba(8&c?"class":w,d,ns(i),a);if(-1===F){if(vr(c))return!1;g=!0;continue}if(""!==P){let $;$=F>f?"":d[F+1].toLowerCase();const G=8&c?$:null;if(G&&-1!==Uo(G,P,0)||2&c&&P!==$){if(vr(c))return!1;g=!0}}}}else{if(!g&&!vr(c)&&!vr(w))return!1;if(g&&vr(w))continue;g=!1,c=w|1&c}}return vr(c)||g}function vr(i){return 0==(1&i)}function ba(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let f=!1;for(;d<o.length;){const g=o[d];if(g===i)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let v=o[++d];for(;"string"==typeof v;)v=o[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function Yl(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function ju(i,o,a=!1){for(let c=0;c<o.length;c++)if(Bs(i,o[c],a))return!0;return!1}function Sa(i,o){return i?":not("+o.trim()+")":o}function Ra(i){let o=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let g=i[a];if("string"==typeof g)if(2&c){const v=i[++a];d+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!vr(g)&&(o+=Sa(f,d),d=""),c=g,f=f||!vr(c);a++}return""!==d&&(o+=Sa(f,d)),o}function Hu(i){return Gr(()=>{const o=vp(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Mr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||ir.Emulated,styles:i.styles||ut,_:null,schemas:i.schemas||null,tView:null,id:""};ao(a);const c=i.dependencies;return a.directiveDefs=Bo(c,!1),a.pipeDefs=Bo(c,!0),a.id=function Gu(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function Fi(i){return Ct(i)||dn(i)}function Pa(i){return null!==i}function zd(i){return Gr(()=>({type:i.type,bootstrap:i.bootstrap||ut,declarations:i.declarations||ut,imports:i.imports||ut,exports:i.exports||ut,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Li(i,o){if(null==i)return zr;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,o&&(o[d]=f)}return a}function ws(i){return Gr(()=>{const o=vp(i);return ao(o),o})}function oo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ct(i){return i[si]||null}function dn(i){return i[Us]||null}function yn(i){return i[Gd]||null}function rs(i){const o=Ct(i)||dn(i)||yn(i);return null!==o&&o.standalone}function oi(i,o){const a=i[Da]||null;if(!a&&!0===o)throw new Error(`Type ${ye(i)} does not have '\u0275mod' property.`);return a}function vp(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||zr,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||ut,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Li(i.inputs,o),outputs:Li(i.outputs)}}function ao(i){i.features?.forEach(o=>o(i))}function Bo(i,o){if(!i)return null;const a=o?yn:Fi;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Pa)}const Pn=0,Be=1,ft=2,vn=3,Ci=4,jo=5,Un=6,ai=7,rn=8,Di=9,ui=10,gt=11,is=12,zu=13,Vi=14,Dn=15,uo=16,Wr=17,Er=18,Wu=19,Ip=20,Cs=21,lo=22,ss=23,os=24,Dt=25,$o=1,co=2,Bn=7,qr=9,hr=11;function Ir(i){return Array.isArray(i)&&"object"==typeof i[$o]}function Kn(i){return Array.isArray(i)&&!0===i[$o]}function Jl(i){return 0!=(4&i.flags)}function Ho(i){return i.componentOffset>-1}function qt(i){return 1==(1&i.flags)}function fr(i){return!!i.template}function qd(i){return 0!=(512&i[ft])}function po(i,o){return i.hasOwnProperty(Oi)?i[Oi]:null}let sr=null,ls=!1;function li(i){const o=sr;return sr=i,o}const bp={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qd(i){if(!_o(i)||i.dirty){if(!i.producerMustRecompute(i)&&!oc(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Na(i){i.dirty=!0,function Go(i){if(void 0===i.liveConsumerNode)return;const o=ls;ls=!0;try{for(const a of i.liveConsumerNode)a.dirty||Na(a)}finally{ls=o}}(i),i.consumerMarkedDirty?.(i)}function zo(i){return i&&(i.nextProducerIndex=0),li(i)}function sc(i,o){if(li(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(_o(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)mo(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function oc(i){qo(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],c=i.producerLastReadVersion[o];if(c!==a.version||(Qd(a),c!==a.version))return!0}return!1}function Zd(i){if(qo(i),_o(i))for(let o=0;o<i.producerNode.length;o++)mo(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function mo(i,o){if(function Xu(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),qo(i),1===i.liveConsumerNode.length)for(let c=0;c<i.producerNode.length;c++)mo(i.producerNode[c],i.producerIndexOfThis[c]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const c=i.liveConsumerIndexOfThis[o],d=i.liveConsumerNode[o];qo(d),d.producerIndexOfThis[c]=o}}function _o(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function qo(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let B=null;function Ui(i){const o=li(null);try{return i()}finally{li(o)}}const pr=()=>{},bs=(()=>({...bp,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:pr}))();class cs{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ac(){return Sp}function Sp(i){return i.type.prototype.ngOnChanges&&(i.setInput=uc),Rp}function Rp(){const i=Pp(this),o=i?.current;if(o){const a=i.previous;if(a===zr)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function uc(i,o,a,c){const d=this.declaredInputs[a],f=Pp(i)||function ka(i,o){return i[lc]=o}(i,{previous:zr,current:null}),g=f.current||(f.current={}),v=f.previous,w=v[d];g[d]=new cs(w&&w.currentValue,o,v===zr),i[c]=o}ac.ngInherit=!0;const lc="__ngSimpleChanges__";function Pp(i){return i[lc]||null}const Hs=function(i,o,a){};function Pt(i){for(;Array.isArray(i);)i=i[Pn];return i}function hc(i,o){return Pt(o[i])}function xr(i,o){return Pt(o[i.index])}function Xd(i,o){return i.data[o]}function Fa(i,o){return i[o]}function ds(i,o){const a=o[i];return Ir(a)?a:a[Pn]}function Kr(i,o){return null==o?null:i[o]}function cy(i){i[Wr]=0}function Np(i){1024&i[ft]||(i[ft]|=1024,Op(i,1))}function hs(i){1024&i[ft]&&(i[ft]&=-1025,Op(i,-1))}function Op(i,o){let a=i[vn];if(null===a)return;a[jo]+=o;let c=a;for(a=a[vn];null!==a&&(1===o&&1===c[jo]||-1===o&&0===c[jo]);)a[jo]+=o,c=a,a=a[vn]}const pt={lFrame:Ot(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function py(){return pt.bindingsEnabled}function ge(){return pt.lFrame.lView}function Lt(){return pt.lFrame.tView}function kp(i){return pt.lFrame.contextLView=i,i[rn]}function Fp(i){return pt.lFrame.contextLView=null,i}function Tr(){let i=Lp();for(;null!==i&&64===i.type;)i=i.parent;return i}function Lp(){return pt.lFrame.currentTNode}function ie(i,o){const a=pt.lFrame;a.currentTNode=i,a.isParent=o}function Ju(){return pt.lFrame.isParent}function Nr(){const i=pt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function vo(){return pt.lFrame.bindingIndex++}function m(i,o){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=i,S(o)}function S(i){pt.lFrame.currentDirectiveIndex=i}function L(){return pt.lFrame.currentQueryIndex}function Y(i){pt.lFrame.currentQueryIndex=i}function K(i){const o=i[Be];return 2===o.type?o.declTNode:1===o.type?i[Un]:null}function xe(i,o,a){if(a&Ke.SkipSelf){let d=o,f=i;for(;!(d=d.parent,null!==d||a&Ke.Host||(d=K(f),null===d||(f=f[Vi],10&d.type))););if(null===d)return!1;o=d,i=f}const c=pt.lFrame=en();return c.currentTNode=o,c.lView=i,!0}function dt(i){const o=en(),a=i[Be];pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function en(){const i=pt.lFrame,o=null===i?null:i.child;return null===o?Ot(i):o}function Ot(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Bi(){const i=pt.lFrame;return pt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const kn=Bi;function Gs(){const i=Bi();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Yr(){return pt.lFrame.selectedIndex}function Ua(i){pt.lFrame.selectedIndex=i}function Qn(){const i=pt.lFrame;return Xd(i.tView,i.selectedIndex)}let XT=!0;function yy(){return XT}function Ba(i){XT=i}function ja(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:P,ngOnDestroy:N}=f;g&&(i.contentHooks??=[]).push(-a,g),v&&((i.contentHooks??=[]).push(a,v),(i.contentCheckHooks??=[]).push(a,v)),w&&(i.viewHooks??=[]).push(-a,w),P&&((i.viewHooks??=[]).push(a,P),(i.viewCheckHooks??=[]).push(a,P)),null!=N&&(i.destroyHooks??=[]).push(a,N)}}function Up(i,o,a){Or(i,o,3,a)}function Bp(i,o,a,c){(3&i[ft])===a&&Or(i,o,a,c)}function tl(i,o){let a=i[ft];(3&a)===o&&(a&=8191,a+=1,i[ft]=a)}function Or(i,o,a,c){const f=c??-1,g=o.length-1;let v=0;for(let w=void 0!==c?65535&i[Wr]:0;w<g;w++)if("number"==typeof o[w+1]){if(v=o[w],null!=c&&v>=c)break}else o[w]<0&&(i[Wr]+=65536),(v<f||-1==f)&&(MO(i,a,o,w),i[Wr]=(4294901760&i[Wr])+w+2),w++}function ih(i,o){Hs(4,i,o);const a=li(null);try{o.call(i)}finally{li(a),Hs(5,i,o)}}function MO(i,o,a,c){const d=a[c]<0,f=a[c+1],v=i[d?-a[c]:a[c]];d?i[ft]>>13<i[Wr]>>16&&(3&i[ft])===o&&(i[ft]+=8192,ih(v,f)):ih(v,f)}const sh=-1;class oh{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function nl(i){return i!==sh}function Hp(i){return 32767&i}function ah(i,o){let a=function xO(i){return i>>16}(i),c=o;for(;a>0;)c=c[Vi],a--;return c}let vy=!0;function Gp(i){const o=vy;return vy=i,o}const ew=255,zp=5;let NO=0;const ps={};function Ey(i,o){const a=nw(i,o);if(-1!==a)return a;const c=o[Be];c.firstCreatePass&&(i.injectorIndex=o.length,tw(c.data,i),tw(o,null),tw(c.blueprint,null));const d=rl(i,o),f=i.injectorIndex;if(nl(d)){const g=Hp(d),v=ah(d,o),w=v[Be].data;for(let P=0;P<8;P++)o[f+P]=v[g+P]|w[g+P]}return o[f+8]=d,f}function tw(i,o){i.push(0,0,0,0,0,0,0,0,o)}function nw(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function rl(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=uw(d),null===c)return sh;if(a++,d=d[Vi],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return sh}function rw(i,o,a){!function OO(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Ts)&&(c=a[Ts]),null==c&&(c=a[Ts]=NO++);const d=c&ew;o.data[i+(d>>zp)]|=1<<d}(i,o,a)}function iw(i,o,a){if(a&Ke.Optional||void 0!==i)return i;re()}function sw(i,o,a,c){if(a&Ke.Optional&&void 0===c&&(c=null),!(a&(Ke.Self|Ke.Host))){const d=i[Di],f=lr(void 0);try{return d?d.get(o,c,a&Ke.Optional):Xi(o,c,a&Ke.Optional)}finally{lr(f)}}return iw(c,0,a)}function ow(i,o,a,c=Ke.Default,d){if(null!==i){if(2048&o[ft]&&!(c&Ke.Self)){const g=function S0(i,o,a,c,d){let f=i,g=o;for(;null!==f&&null!==g&&2048&g[ft]&&!(512&g[ft]);){const v=A0(f,g,a,c|Ke.Self,ps);if(v!==ps)return v;let w=f.parent;if(!w){const P=g[Ip];if(P){const N=P.get(a,ps,c);if(N!==ps)return N}w=uw(g),g=g[Vi]}f=w}return d}(i,o,a,c,ps);if(g!==ps)return g}const f=A0(i,o,a,c,ps);if(f!==ps)return f}return sw(o,a,c,d)}function A0(i,o,a,c,d){const f=function Qo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Ts)?i[Ts]:void 0;return"number"==typeof o?o>=0?o&ew:Iy:o}(a);if("function"==typeof f){if(!xe(o,i,c))return c&Ke.Host?iw(d,0,c):sw(o,a,c,d);try{let g;if(g=f(c),null!=g||c&Ke.Optional)return g;re()}finally{kn()}}else if("number"==typeof f){let g=null,v=nw(i,o),w=sh,P=c&Ke.Host?o[Dn][Un]:null;for((-1===v||c&Ke.SkipSelf)&&(w=-1===v?rl(i,o):o[v+8],w!==sh&&aw(c,!1)?(g=o[Be],v=Hp(w),o=ah(w,o)):v=-1);-1!==v;){const N=o[Be];if(Ga(f,v,N.data)){const F=kO(v,o,a,g,c,P);if(F!==ps)return F}w=o[v+8],w!==sh&&aw(c,o[Be].data[v+8]===P)&&Ga(f,v,o)?(g=N,v=Hp(w),o=ah(w,o)):v=-1}}return d}function kO(i,o,a,c,d,f){const g=o[Be],v=g.data[i+8],N=Wp(v,g,a,null==c?Ho(v)&&vy:c!=g&&0!=(3&v.type),d&Ke.Host&&f===v);return null!==N?Ai(o,g,N,v):ps}function Wp(i,o,a,c,d){const f=i.providerIndexes,g=o.data,v=1048575&f,w=i.directiveStart,N=f>>20,$=d?v+N:i.directiveEnd;for(let G=c?v:v+N;G<$;G++){const ae=g[G];if(G<w&&a===ae||G>=w&&ae.type===a)return G}if(d){const G=g[w];if(G&&fr(G)&&G.type===a)return w}return null}function Ai(i,o,a,c){let d=i[a];const f=o.data;if(function w0(i){return i instanceof oh}(d)){const g=d;g.resolving&&function X(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function _t(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ke(i)}(f[a]));const v=Gp(g.canSeeViewProviders);g.resolving=!0;const P=g.injectImpl?lr(g.injectImpl):null;xe(i,c,Ke.Default);try{d=i[a]=g.factory(void 0,f,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Eo(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const g=Sp(o);(a.preOrderHooks??=[]).push(i,g),(a.preOrderCheckHooks??=[]).push(i,g)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],o)}finally{null!==P&&lr(P),Gp(v),g.resolving=!1,kn()}}return d}function Ga(i,o,a){return!!(a[o+(i>>zp)]&1<<i)}function aw(i,o){return!(i&Ke.Self||i&Ke.Host&&o)}class bi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return ow(this._tNode,this._lView,o,$r(c),a)}}function Iy(){return new bi(Tr(),ge())}function tn(i){return Gr(()=>{const o=i.prototype.constructor,a=o[Oi]||qp(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Oi]||qp(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function qp(i){return Ft(i)?()=>{const o=qp(Me(i));return o&&o()}:po(i)}function uw(i){const o=i[Be],a=o.type;return 2===a?o.declTNode:1===a?i[Un]:null}function Ty(i){return function D0(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(Uu(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===o)return a[d+1];d+=2}}}return null}(Tr(),i)}const lh="__parameters__";function il(i,o,a){return Gr(()=>{const c=function Kp(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return v.annotation=g,v;function v(w,P,N){const F=w.hasOwnProperty(lh)?w[lh]:Object.defineProperty(w,lh,{value:[]})[lh];for(;F.length<=N;)F.push(null);return(F[N]=F[N]||[]).push(g),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function dh(i,o){i.forEach(a=>Array.isArray(a)?dh(a,o):o(a))}function fw(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function Yp(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function ji(i,o,a){let c=pc(i,o);return c>=0?i[1|c]=a:(c=~c,function O0(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function Xo(i,o){const a=pc(i,o);if(a>=0)return i[1|a]}function pc(i,o){return function mw(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),g=i[f<<a];if(o===g)return f<<a;g>o?d=f:c=f+1}return~(d<<a)}(i,o,1)}const Zp=Ti(il("Optional"),8),Xp=Ti(il("SkipSelf"),4);function sg(i){return 128==(128&i.flags)}var og=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(og||{});const My=new Map;let Z0=0;const Ny="__ngContext__";function ci(i,o){Ir(o)?(i[Ny]=o[Wu],function ag(i){My.set(i[Wu],i)}(o)):i[Ny]=o}let ky;function qa(i,o){return ky(i,o)}function yh(i){const o=i[vn];return Kn(o)?o[vn]:o}function Nw(i){return nS(i[is])}function Ka(i){return nS(i[Ci])}function nS(i){for(;null!==i&&!Kn(i);)i=i[Ci];return i}function Eh(i,o,a,c,d){if(null!=c){let f,g=!1;Kn(c)?f=c:Ir(c)&&(g=!0,c=c[Pn]);const v=Pt(c);0===i&&null!==a?null==d?sS(o,a,v):_c(o,a,v,d||null,!0):1===i&&null!==a?_c(o,a,v,d||null,!0):2===i?function pg(i,o,a){const c=By(i,o);c&&function Vw(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,v,g):3===i&&o.destroyNode(v),null!=f&&function jy(i,o,a,c,d){const f=a[Bn];f!==Pt(a)&&Eh(o,i,c,f,d);for(let v=hr;v<a.length;v++){const w=a[v];$i(w[Be],w,i,o,c,f)}}(o,i,f,a,d)}}function Ya(i,o,a){return i.createElement(o,a)}function kw(i,o){const a=i[qr],c=a.indexOf(o);hs(o),a.splice(c,1)}function dg(i,o){if(i.length<=hr)return;const a=hr+o,c=i[a];if(c){const d=c[uo];null!==d&&d!==i&&kw(d,c),o>0&&(i[a-1][Ci]=c[Ci]);const f=Yp(i,hr+o);!function dl(i,o){$i(i,o,o[gt],2,null,null),o[Pn]=null,o[Un]=null}(c[Be],c);const g=f[Er];null!==g&&g.detachView(f[Be]),c[vn]=null,c[Ci]=null,c[ft]&=-129}return c}function Vy(i,o){if(!(256&o[ft])){const a=o[gt];o[ss]&&Zd(o[ss]),o[os]&&Zd(o[os]),a.destroyNode&&$i(i,o,a,3,null,null),function rS(i){let o=i[is];if(!o)return Uy(i[Be],i);for(;o;){let a=null;if(Ir(o))a=o[is];else{const c=o[hr];c&&(a=c)}if(!a){for(;o&&!o[Ci]&&o!==i;)Ir(o)&&Uy(o[Be],o),o=o[vn];null===o&&(o=i),Ir(o)&&Uy(o[Be],o),a=o&&o[Ci]}o=a}}(o)}}function Uy(i,o){if(!(256&o[ft])){o[ft]&=-129,o[ft]|=256,function qO(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof oh)){const f=a[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const v=d[f[g]],w=f[g+1];Hs(4,v,w);try{w.call(v)}finally{Hs(5,v,w)}}else{Hs(4,d,f);try{f.call(d)}finally{Hs(5,d,f)}}}}}(i,o),function WO(i,o){const a=i.cleanup,c=o[ai];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const g=a[f+3];g>=0?c[g]():c[-g].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(o[ai]=null);const d=o[Cs];if(null!==d){o[Cs]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,o),1===o[Be].type&&o[gt].destroy();const a=o[uo];if(null!==a&&Kn(o[vn])){a!==o[vn]&&kw(a,o);const c=o[Er];null!==c&&c.detachView(i)}!function Rw(i){My.delete(i[Wu])}(o)}}function Fw(i,o,a){return function Lw(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[Pn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===ir.None||f===ir.Emulated)return null}return xr(c,a)}}(i,o.parent,a)}function _c(i,o,a,c,d){i.insertBefore(o,a,c,d)}function sS(i,o,a){i.appendChild(o,a)}function oS(i,o,a,c,d){null!==c?_c(i,o,a,c,d):sS(i,o,a)}function By(i,o){return i.parentNode(o)}let hg,$y,En,lS=function uS(i,o,a){return 40&i.type?xr(i,a):null};function fg(i,o,a,c){const d=Fw(i,c,o),f=o[gt],v=function aS(i,o,a){return lS(i,o,a)}(c.parent||o[Un],c,o);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)oS(f,d,a[w],v,!1);else oS(f,d,a,v,!1);void 0!==hg&&hg(f,c,o,a,d)}function yc(i,o){if(null!==o){const a=o.type;if(3&a)return xr(o,i);if(4&a)return vc(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return yc(i,c);{const d=i[o.index];return Kn(d)?vc(-1,d):Pt(d)}}if(32&a)return qa(o,i)()||Pt(i[o.index]);{const c=dS(i,o);return null!==c?Array.isArray(c)?c[0]:yc(yh(i[Dn]),c):yc(i,o.next)}}return null}function dS(i,o){return null!==o?i[Dn][Un].projection[o.projection]:null}function vc(i,o){const a=hr+i+1;if(a<o.length){const c=o[a],d=c[Be].firstChild;if(null!==d)return yc(c,d)}return o[Bn]}function di(i,o,a,c,d,f,g){for(;null!=a;){const v=c[a.index],w=a.type;if(g&&0===o&&(v&&ci(Pt(v),c),a.flags|=2),32!=(32&a.flags))if(8&w)di(i,o,a.child,c,d,f,!1),Eh(o,i,d,v,f);else if(32&w){const P=qa(a,c);let N;for(;N=P();)Eh(o,i,d,N,f);Eh(o,i,d,v,f)}else 16&w?hl(i,o,c,a,d,f):Eh(o,i,d,v,f);a=g?a.projectionNext:a.next}}function $i(i,o,a,c,d,f){di(a,c,i.firstChild,o,d,f,!1)}function hl(i,o,a,c,d,f){const g=a[Dn],w=g[Un].projection[c.projection];if(Array.isArray(w))for(let P=0;P<w.length;P++)Eh(o,i,d,w[P],f);else{let P=w;const N=g[vn];sg(c)&&(P.flags|=128),di(i,o,P,N,d,f,!0)}}function ea(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function Ec(i,o,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&io(i,o,c),null!==d&&ea(i,o,d),null!==f&&function Io(i,o,a){i.setAttribute(o,"style",a)}(i,o,f)}function fS(i){$y=i}function To(i){return function Ch(){if(void 0===En&&(En=null,et.trustedTypes))try{En=et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return En}()?.createScriptURL(i)||i}class _g{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ri})`}}function ta(i){return i instanceof _g?i.changingThisBreaksApplicationSecurity:i}function wc(i,o){const a=function mS(i){return i instanceof _g&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${ri})`)}return a===o}const Ah=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ps=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Ps||{});function TS(i){const o=Dc();return o?o.sanitize(Ps.URL,i)||"":wc(i,"URL")?ta(i):function Kw(i){return(i=String(i)).match(Ah)?i:"unsafe:"+i}(ke(i))}function Yy(i){const o=Dc();if(o)return To(o.sanitize(Ps.RESOURCE_URL,i)||"");if(wc(i,"ResourceURL"))return To(ta(i));throw new Oe(904,!1)}function Cg(i,o,a){return function tC(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Yy:TS}(o,a)(i)}function Dc(){const i=ge();return i&&i[ui].sanitizer}const Ac=new vt("ENVIRONMENT_INITIALIZER"),Qy=new vt("INJECTOR",-1),Sh=new vt("INJECTOR_DEF_TYPES");class nC{get(o,a=Bt){if(a===Bt){const c=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw c.name="NullInjectorError",c}return a}}function Zy(i){return{\u0275providers:i}}function DS(...i){return{\u0275providers:Xy(0,i),\u0275fromNgModule:!0}}function Xy(i,...o){const a=[],c=new Set;let d;const f=g=>{a.push(g)};return dh(o,g=>{const v=g;Rh(v,f,[],c)&&(d||=[],d.push(v))}),void 0!==d&&rC(d,f),a}function rC(i,o){for(let a=0;a<i.length;a++){const{ngModule:c,providers:d}=i[a];Jy(d,f=>{o(f,c)})}}function Rh(i,o,a,c){if(!(i=Me(i)))return!1;let d=null,f=_r(i);const g=!f&&Ct(i);if(f||g){if(g&&!g.standalone)return!1;d=i}else{const w=i.ngModule;if(f=_r(w),!f)return!1;d=w}const v=c.has(d);if(g){if(v)return!1;if(c.add(d),g.dependencies){const w="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const P of w)Rh(P,o,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let P;c.add(d);try{dh(f.imports,N=>{Rh(N,o,a,c)&&(P||=[],P.push(N))})}finally{}void 0!==P&&rC(P,o)}if(!v){const P=po(d)||(()=>new d);o({provide:d,useFactory:P,deps:ut},d),o({provide:Sh,useValue:d,multi:!0},d),o({provide:Ac,useValue:()=>cr(d),multi:!0},d)}const w=f.providers;if(null!=w&&!v){const P=i;Jy(w,N=>{o(N,P)})}}}return d!==i&&void 0!==i.providers}function Jy(i,o){for(let a of i)nr(a)&&(a=a.\u0275providers),Array.isArray(a)?Jy(a,o):o(a)}const ev=Te({provide:String,useValue:Te});function tv(i){return null!==i&&"object"==typeof i&&ev in i}function An(i){return"function"==typeof i}const nv=new vt("Set Injector scope."),bc={},aC={};let rv;function Dg(){return void 0===rv&&(rv=new nC),rv}class wo{}class gl extends wo{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ov(o,g=>this.processProvider(g)),this.records.set(Qy,Sc(void 0,this)),d.has("environment")&&this.records.set(wo,Sc(void 0,this));const f=this.records.get(nv);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Sh.multi,ut,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=Ni(this),c=lr(void 0);try{return o()}finally{Ni(a),lr(c)}}get(o,a=Bt,c=Ke.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ts))return o[ts](this);c=$r(c);const f=Ni(this),g=lr(void 0);try{if(!(c&Ke.SkipSelf)){let w=this.records.get(o);if(void 0===w){const P=function bS(i){return"function"==typeof i||"object"==typeof i&&i instanceof vt}(o)&&wt(o);w=P&&this.injectableDefInScope(P)?Sc(Ag(o),bc):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&Ke.Self?Dg():this.parent).get(o,a=c&Ke.Optional&&a===Bt?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[On]=v[On]||[]).unshift(ye(o)),f)throw v;return function ql(i,o,a,c){const d=i[On];throw o[zl]&&d.unshift(o[zl]),i.message=function Ca(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ye(o);if(Array.isArray(o))d=o.map(ye).join(" -> ");else if("object"==typeof o){let f=[];for(let g in o)if(o.hasOwnProperty(g)){let v=o[g];f.push(g+":"+("string"==typeof v?JSON.stringify(v):ye(v)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(es,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[On]=null,i}(v,o,"R3InjectorError",this.source)}throw v}finally{lr(g),Ni(f)}}resolveInjectorInitializers(){const o=Ni(this),a=lr(void 0);try{const d=this.get(Ac.multi,ut,Ke.Self);for(const f of d)f()}finally{Ni(o),lr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ye(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(o){let a=An(o=Me(o))?o:Me(o&&o.provide);const c=function Ph(i){return tv(i)?Sc(void 0,i.useValue):Sc(bg(i),bc)}(o);if(An(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Sc(void 0,bc,!0),d.factory=()=>Hr(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===bc&&(a.value=aC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function AS(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Me(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ag(i){const o=wt(i),a=null!==o?o.factory:po(i);if(null!==a)return a;if(i instanceof vt)throw new Oe(204,!1);if(i instanceof Function)return function iv(i){const o=i.length;if(o>0)throw function sl(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new Oe(204,!1);const a=function Ii(i){return i&&(i[rr]||i[Cn])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Oe(204,!1)}function bg(i,o,a){let c;if(An(i)){const d=Me(i);return po(d)||Ag(d)}if(tv(i))c=()=>Me(i.useValue);else if(function sC(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Hr(i.deps||[]));else if(function iC(i){return!(!i||!i.useExisting)}(i))c=()=>cr(Me(i.useExisting));else{const d=Me(i&&(i.useClass||i.provide));if(!function sv(i){return!!i.deps}(i))return po(d)||Ag(d);c=()=>new d(...Hr(i.deps))}return c}function Sc(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function ov(i,o){for(const a of i)Array.isArray(a)?ov(a,o):a&&nr(a)?ov(a.\u0275providers,o):o(a)}const av=new vt("AppId",{providedIn:"root",factory:()=>SS}),SS="ng",uv=new vt("Platform Initializer"),lv=new vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cv=new vt("CSP nonce",{providedIn:"root",factory:()=>function an(){if(void 0!==$y)return $y;if(typeof document<"u")return document;throw new Oe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lC=(i,o,a)=>null;function zs(i,o,a=!1){return lC(i,o,a)}class yv{}class Oc{}class nk{resolveComponentFactory(o){throw function OS(i){const o=Error(`No component factory found for ${ye(i)}.`);return o.ngComponent=i,o}(o)}}let Uh=(()=>{class i{static#e=this.NULL=new nk}return i})();function Ja(){return kc(Tr(),ge())}function kc(i,o){return new eu(xr(i,o))}let eu=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Ja}return i})();function rk(i){return i instanceof eu?i.nativeElement:i}class kS{}let ik=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function FS(){const i=ge(),a=ds(Tr().index,i);return(Ir(a)?a:i)[gt]}()}return i})(),Bh=(()=>{class i{static#e=this.\u0275prov=Jt({token:i,providedIn:"root",factory:()=>null})}return i})();class dC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const xg=new dC("16.2.12"),hC={};function kg(i,o=null,a=null,c){const d=Fg(i,o,a,c);return d.resolveInjectorInitializers(),d}function Fg(i,o=null,a=null,c,d=new Set){const f=[a||ut,DS(i)];return c=c||("object"==typeof i?void 0:ye(i)),new gl(f,o||Dg(),c||null,d)}let Hi=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=Bt;static#t=this.NULL=new nC;static create(a,c){if(Array.isArray(a))return kg({name:""},c,a,"");{const d=a.name??"";return kg({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=Jt({token:i,providedIn:"any",factory:()=>cr(Qy)});static#r=this.__NG_ELEMENT_ID__=-1}return i})();function $h(i){return i.ngOriginalError}class ia{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&$h(o);for(;a&&$h(a);)a=$h(a);return a||null}}function Gh(i){return o=>{setTimeout(i,void 0,o)}}const Co=class US extends b.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,f=a||(()=>null),g=c;if(o&&"object"==typeof o){const w=o;d=w.next?.bind(w),f=w.error?.bind(w),g=w.complete?.bind(w)}this.__isAsync&&(f=Gh(f),d&&(d=Gh(d)),g&&(g=Gh(g)));const v=super.subscribe({next:d,error:f,complete:g});return o instanceof E.w0&&o.add(v),v}};function Vg(...i){}class Qr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Co(!1),this.onMicrotaskEmpty=new Co(!1),this.onStable=new Co(!1),this.onError=new Co(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function BS(){const i="function"==typeof et.requestAnimationFrame;let o=et[i?"requestAnimationFrame":"setTimeout"],a=et[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Cv(i){const o=()=>{!function wv(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(et,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Fc(i),i.isCheckStableRunning=!0,zh(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Fc(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,g,v)=>{if(function Dv(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(v))return a.invokeTask(d,f,g,v);try{return Ug(i),a.invokeTask(d,f,g,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),Bg(i)}},onInvoke:(a,c,d,f,g,v,w)=>{try{return Ug(i),a.invoke(d,f,g,v,w)}finally{i.shouldCoalesceRunChangeDetection&&o(),Bg(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Fc(i),zh(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qr.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(Qr.isInAngularZone())throw new Oe(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,o,Tv,Vg,Vg);try{return f.runTask(g,a,c)}finally{f.cancelTask(g)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Tv={};function zh(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Fc(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ug(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Bg(i){i._nesting--,zh(i)}class ak{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Co,this.onMicrotaskEmpty=new Co,this.onStable=new Co,this.onError=new Co}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const jg=new vt("",{providedIn:"root",factory:jS});function jS(){const i=Wt(Qr);let o=!0;return function Re(...i){const o=(0,be.yG)(i),a=(0,be._6)(i,1/0),c=i;return c.length?1===c.length?(0,ne.Xf)(c[0]):(0,fe.J)(a)((0,ze.D)(c,o)):ue.E}(new _e.y(d=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(o),d.complete()})}),new _e.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{Qr.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const g=i.onUnstable.subscribe(()=>{Qr.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}}).pipe(Pe()))}function nu(i){return i instanceof Function?i():i}let Wh=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Jt({token:i,providedIn:"root",factory:()=>new i})}return i})();function $g(i){for(;i;){i[ft]|=64;const o=yh(i);if(qd(i)&&!o)return i;i=o}return null}const vC=new vt("",{providedIn:"root",factory:()=>!1});let xv=null;function Nv(i,o){return i[o]??WS()}function Wg(i,o){const a=WS();a.producerNode?.length&&(i[o]=xv,a.lView=i,xv=qg())}const zS={...bp,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{$g(i.lView)},lView:null};function qg(){return Object.create(zS)}function WS(){return xv??=qg(),xv}const Tt={};function IC(i){TC(Lt(),ge(),Yr()+i,!1)}function TC(i,o,a,c){if(!c)if(3==(3&o[ft])){const f=i.preOrderCheckHooks;null!==f&&Up(o,f,a)}else{const f=i.preOrderHooks;null!==f&&Bp(o,f,0,a)}Ua(a)}function Lc(i,o=Ke.Default){const a=ge();return null===a?cr(i,o):ow(Tr(),a,Me(i),o)}function qS(){throw new Error("invalid")}function Ov(i,o,a,c,d,f,g,v,w,P,N){const F=o.blueprint.slice();return F[Pn]=d,F[ft]=140|c,(null!==P||i&&2048&i[ft])&&(F[ft]|=2048),cy(F),F[vn]=F[Vi]=i,F[rn]=a,F[ui]=g||i&&i[ui],F[gt]=v||i&&i[gt],F[Di]=w||i&&i[Di]||null,F[Un]=f,F[Wu]=function X0(){return Z0++}(),F[lo]=N,F[Ip]=P,F[Dn]=2==o.type?i[Dn]:F,F}function qh(i,o,a,c,d){let f=i.data[o];if(null===f)f=function Kh(i,o,a,c,d){const f=Lp(),g=Ju(),w=i.data[o]=function mk(i,o,a,c,d,f){let g=o?o.injectorIndex:-1,v=0;return function La(){return null!==pt.skipHydrationRootTNode}()&&(v|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(g?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w,w.prev=f)),w}(i,o,a,c,d),function y(){return pt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const g=function Va(){const i=pt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return ie(f,!0),f}function Yh(i,o,a,c){if(0===a)return-1;const d=o.length;for(let f=0;f<a;f++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function wC(i,o,a,c,d){const f=Nv(o,ss),g=Yr(),v=2&c;try{Ua(-1),v&&o.length>Dt&&TC(i,o,Dt,!1),Hs(v?2:0,d);const P=v?f:null,N=zo(P);try{null!==P&&(P.dirty=!1),a(c,d)}finally{sc(P,N)}}finally{v&&null===o[ss]&&Wg(o,ss),Ua(g),Hs(v?3:1,d)}}function CC(i,o,a){if(Jl(o)){const c=li(null);try{const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const v=i.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}finally{li(c)}}}function DC(i,o,a){py()&&(function vk(i,o,a,c){const d=a.directiveStart,f=a.directiveEnd;Ho(a)&&function nR(i,o,a){const c=xr(o,i),d=KS(a);let g=16;a.signals?g=4096:a.onPush&&(g=64);const v=iu(i,Ov(i,d,null,g,c,o,null,i[ui].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=v}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||Ey(a,o),ci(c,o);const g=a.initialInputs;for(let v=d;v<f;v++){const w=i.data[v],P=Ai(o,i,v,a);ci(P,o),null!==g&&rR(0,v-d,P,w,0,g),fr(w)&&(ds(a.index,o)[rn]=Ai(o,i,v,a))}}(i,o,a,xr(a,o)),64==(64&a.flags)&&Uv(i,o,a))}function AC(i,o,a=xr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],v=-1===g?a(o,i):i[g];i[d++]=v}}}function KS(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=bC(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function bC(i,o,a,c,d,f,g,v,w,P,N){const F=Dt+c,$=F+d,G=function pk(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Tt);return a}(F,$),ae="function"==typeof P?P():P;return G[Be]={type:i,blueprint:G,template:a,queries:null,viewQuery:v,declTNode:o,data:G.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:ae,incompleteFirstPass:!1,ssrId:N}}let Kg=i=>null;function SC(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?RC(a,o,d,f):c.hasOwnProperty(d)&&RC(a,o,c[d],f)}return a}function RC(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Vv(i,o,a,c){if(py()){const d=null===c?null:{"":-1},f=function JS(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const g=a[f];if(ju(o,g.selectors,!1))if(c||(c=[]),fr(g))if(null!==g.findHostDirectiveDefs){const v=[];d=d||new Map,g.findHostDirectiveDefs(g,v,d),c.unshift(...v,g),Qh(i,o,v.length)}else c.unshift(g),Qh(i,o,0);else d=d||new Map,g.findHostDirectiveDefs?.(g,c,d),c.push(g)}return null===c?null:[c,d]}(i,a);let g,v;null===f?g=v=null:[g,v]=f,null!==g&&MC(i,o,a,g,d,v),d&&function eR(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const f=a[o[d+1]];if(null==f)throw new Oe(-301,!1);c.push(o[d],f)}}}(a,c,d)}a.mergedAttrs=ki(a.mergedAttrs,a.attrs)}function MC(i,o,a,c,d,f){for(let P=0;P<c.length;P++)rw(Ey(a,o),i,c[P].type);!function tR(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let P=0;P<c.length;P++){const N=c[P];N.providersResolver&&N.providersResolver(N)}let g=!1,v=!1,w=Yh(i,o,c.length,null);for(let P=0;P<c.length;P++){const N=c[P];a.mergedAttrs=ki(a.mergedAttrs,N.hostAttrs),Bv(i,a,o,w,N),gr(w,N,d),null!==N.contentQueries&&(a.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=64);const F=N.type.prototype;!g&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),g=!0),!v&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),v=!0),w++}!function Fv(i,o,a){const d=o.directiveEnd,f=i.data,g=o.attrs,v=[];let w=null,P=null;for(let N=o.directiveStart;N<d;N++){const F=f[N],$=a?a.get(F):null,ae=$?$.outputs:null;w=SC(F.inputs,N,w,$?$.inputs:null),P=SC(F.outputs,N,P,ae);const le=null===w||null===g||ns(o)?null:iR(w,N,g);v.push(le)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=8),w.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=v,o.inputs=w,o.outputs=P}(i,a,f)}function Uv(i,o,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,g=function C(){return pt.lFrame.currentDirectiveIndex}();try{Ua(f);for(let v=c;v<d;v++){const w=i.data[v],P=o[v];S(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&XS(w,P)}}finally{Ua(-1),S(g)}}function XS(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Qh(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function gr(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;fr(o)&&(a[""]=i)}}function Bv(i,o,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=po(d.type)),g=new oh(f,fr(d),Lc);i.blueprint[c]=g,a[c]=g,function yk(i,o,a,c,d){const f=d.hostBindings;if(f){let g=i.hostBindingOpCodes;null===g&&(g=i.hostBindingOpCodes=[]);const v=~o.index;(function ZS(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(g)!=v&&g.push(v),g.push(a,c,f)}}(i,o,c,Yh(i,a,d.hostVars,Tt),d)}function xs(i,o,a,c,d,f){const g=xr(i,o);!function jv(i,o,a,c,d,f,g){if(null==f)i.removeAttribute(o,d,a);else{const v=null==g?ke(f):g(f,c||"",d);i.setAttribute(o,d,v,a)}}(o[gt],g,f,i.value,a,c,d)}function rR(i,o,a,c,d,f){const g=f[o];if(null!==g)for(let v=0;v<g.length;)$v(c,a,g[v++],g[v++],g[v++])}function $v(i,o,a,c,d){const f=li(null);try{const g=i.inputTransforms;null!==g&&g.hasOwnProperty(c)&&(d=g[c].call(o,d)),null!==i.setInput?i.setInput(o,d,a,c):o[c]=d}finally{li(f)}}function iR(i,o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const g=i[f];for(let v=0;v<g.length;v+=2)if(g[v]===o){c.push(f,g[v+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Zh(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function Hv(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const g=i.data[f];Y(a[c]),g.contentQueries(2,o[f],f)}}}function iu(i,o){return i[is]?i[zu][Ci]=o:i[is]=o,i[zu]=o,o}function Vc(i,o,a){Y(0);const c=li(null);try{o(i,a)}finally{li(c)}}function Qg(i){return i[ai]||(i[ai]=[])}function Gv(i){return i.cleanup||(i.cleanup=[])}function xC(i,o){const a=i[Di],c=a?a.get(ia,null):null;c&&c.handleError(o)}function Xh(i,o,a,c,d){for(let f=0;f<a.length;){const g=a[f++],v=a[f++];$v(i.data[g],o[g],c,v,d)}}function sR(i,o){const a=ds(o,i),c=a[Be];!function oR(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const d=a[Pn];null!==d&&null===a[lo]&&(a[lo]=zs(d,a[Di])),NC(c,a,a[rn])}function NC(i,o,a){dt(o);try{const c=i.viewQuery;null!==c&&Vc(1,c,a);const d=i.template;null!==d&&wC(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Hv(i,o),i.staticViewQueries&&Vc(2,i.viewQuery,a);const f=i.components;null!==f&&function aR(i,o){for(let a=0;a<o.length;a++)sR(i,o[a])}(o,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[ft]&=-5,Gs()}}let OC=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,g=function js(i,o,a){const c=Object.create(bs);a&&(c.consumerAllowSignalWrites=!0),c.fn=i,c.schedule=o;const d=g=>{c.cleanupFn=g};return c.ref={notify:()=>Na(c),run:()=>{if(c.dirty=!1,c.hasRun&&!oc(c))return;c.hasRun=!0;const g=zo(c);try{c.cleanupFn(),c.cleanupFn=pr,c.fn(d)}finally{sc(c,g)}},cleanup:()=>c.cleanupFn()},c.ref}(a,P=>{this.all.has(P)&&this.queue.set(P,f)},d);let v;this.all.add(g),g.notify();const w=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=c?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Jt({token:i,providedIn:"root",factory:()=>new i})}return i})();function Xg(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?f=v:1==f?d=Qe(d,v):2==f&&(c=Qe(c,v+": "+o[++g]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Jh(i,o,a,c,d=!1){for(;null!==a;){const f=o[a.index];null!==f&&c.push(Pt(f)),Kn(f)&&kC(f,c);const g=a.type;if(8&g)Jh(i,o,a.child,c);else if(32&g){const v=qa(a,o);let w;for(;w=v();)c.push(w)}else if(16&g){const v=dS(o,a);if(Array.isArray(v))c.push(...v);else{const w=yh(o[Dn]);Jh(w[Be],w,v,c,!0)}}a=d?a.projectionNext:a.next}return c}function kC(i,o){for(let a=hr;a<i.length;a++){const c=i[a],d=c[Be].firstChild;null!==d&&Jh(c[Be],c,d,o)}i[Bn]!==i[Pn]&&o.push(i[Bn])}function _l(i,o,a,c=!0){const d=o[ui],f=d.rendererFactory,g=d.afterRenderEventManager;f.begin?.(),g?.begin();try{FC(i,o,i.template,a)}catch(w){throw c&&xC(o,w),w}finally{f.end?.(),d.effectManager?.flush(),g?.end()}}function FC(i,o,a,c){const d=o[ft];if(256!=(256&d)){o[ui].effectManager?.flush(),dt(o);try{cy(o),function Vp(i){return pt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&wC(i,o,a,2,c);const g=3==(3&d);if(g){const P=i.preOrderCheckHooks;null!==P&&Up(o,P,null)}else{const P=i.preOrderHooks;null!==P&&Bp(o,P,0,null),tl(o,0)}if(function cR(i){for(let o=Nw(i);null!==o;o=Ka(o)){if(!o[co])continue;const a=o[qr];for(let c=0;c<a.length;c++){Np(a[c])}}}(o),Jg(o,2),null!==i.contentQueries&&Hv(i,o),g){const P=i.contentCheckHooks;null!==P&&Up(o,P)}else{const P=i.contentHooks;null!==P&&Bp(o,P,1),tl(o,1)}!function fk(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=Nv(o,os);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)Ua(~f);else{const g=f,v=a[++d],w=a[++d];m(v,g),c.dirty=!1;const P=zo(c);try{w(2,o[g])}finally{sc(c,P)}}}}finally{null===o[os]&&Wg(o,os),Ua(-1)}}(i,o);const v=i.components;null!==v&&VC(o,v,0);const w=i.viewQuery;if(null!==w&&Vc(2,w,c),g){const P=i.viewCheckHooks;null!==P&&Up(o,P)}else{const P=i.viewHooks;null!==P&&Bp(o,P,2),tl(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[ft]&=-73,hs(o)}finally{Gs()}}}function Jg(i,o){for(let a=Nw(i);null!==a;a=Ka(a))for(let c=hr;c<a.length;c++)LC(a[c],o)}function dR(i,o,a){LC(ds(o,i),a)}function LC(i,o){if(!function ly(i){return 128==(128&i[ft])}(i))return;const a=i[Be],c=i[ft];if(80&c&&0===o||1024&c||2===o)FC(a,i,a.template,i[rn]);else if(i[jo]>0){Jg(i,1);const d=a.components;null!==d&&VC(i,d,1)}}function VC(i,o,a){for(let c=0;c<o.length;c++)dR(i,o[c],a)}class ef{get rootNodes(){const o=this._lView,a=o[Be];return Jh(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(o){this._lView[rn]=o}get destroyed(){return 256==(256&this._lView[ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[vn];if(Kn(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(dg(o,c),Yp(a,c))}this._attachedToViewContainer=!1}Vy(this._lView[Be],this._lView)}onDestroy(o){!function dy(i,o){if(256==(256&i[ft]))throw new Oe(911,!1);null===i[Cs]&&(i[Cs]=[]),i[Cs].push(o)}(this._lView,o)}markForCheck(){$g(this._cdRefInjectingView||this._lView)}detach(){this._lView[ft]&=-129}reattach(){this._lView[ft]|=128}detectChanges(){_l(this._lView[Be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zO(i,o){$i(i,o,o[gt],2,null,null)}(this._lView[Be],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=o}}class UC extends ef{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;_l(o[Be],o,o[rn],!1)}checkNoChanges(){}get context(){return null}}class BC extends Uh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ct(o);return new em(a,this.ngModule)}}function hR(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class zv{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=$r(c);const d=this.injector.get(o,hC,c);return d!==hC||a===hC?d:this.parentInjector.get(o,a,c)}}class em extends Oc{get inputs(){const o=this.componentDef,a=o.inputTransforms,c=hR(o.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return hR(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Zl(i){return i.map(Ra).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let f=(d=d||this.ngModule)instanceof wo?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const g=f?new zv(o,f):o,v=g.get(kS,null);if(null===v)throw new Oe(407,!1);const F={rendererFactory:v,sanitizer:g.get(Bh,null),effectManager:g.get(OC,null),afterRenderEventManager:g.get(Wh,null)},$=v.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",ae=c?function kv(i,o,a,c){const f=c.get(vC,!1)||a===ir.ShadowDom,g=i.selectRootElement(o,f);return function ml(i){Kg(i)}(g),g}($,c,this.componentDef.encapsulation,g):Ya($,G,function fR(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(G)),Xe=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let he=null;null!==ae&&(he=zs(ae,g,!0));const ot=bC(0,null,null,1,0,null,null,null,null,null,null),St=Ov(null,ot,null,Xe,null,null,F,$,g,null,he);let ln,Ur;dt(St);try{const ko=this.componentDef;let Ll,v_=null;ko.findHostDirectiveDefs?(Ll=[],v_=new Map,ko.findHostDirectiveDefs(ko,Ll,v_),Ll.push(ko)):Ll=[ko];const _M=function Tk(i,o){const a=i[Be],c=Dt;return i[c]=o,qh(a,c,2,"#host",null)}(St,ae),yM=function qv(i,o,a,c,d,f,g){const v=d[Be];!function wk(i,o,a,c){for(const d of i)o.mergedAttrs=ki(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Xg(o,o.mergedAttrs,!0),null!==a&&Ec(c,a,o))}(c,i,o,g);let w=null;null!==o&&(w=zs(o,d[Di]));const P=f.rendererFactory.createRenderer(o,a);let N=16;a.signals?N=4096:a.onPush&&(N=64);const F=Ov(d,KS(a),null,N,d[i.index],i,f,P,null,null,w);return v.firstCreatePass&&Qh(v,i,c.length-1),iu(d,F),d[i.index]=F}(_M,ae,ko,Ll,St,F,$);Ur=Xd(ot,Dt),ae&&function Yv(i,o,a,c){if(c)io(i,a,["ng-version",xg.full]);else{const{attrs:d,classes:f}=function Xl(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&o.push(f,i[++c]):8===d&&a.push(f);else{if(!vr(d))break;d=f}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&io(i,a,d),f&&f.length>0&&ea(i,a,f.join(" "))}}($,ko,ae,c),void 0!==a&&function Qv(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(Ur,this.ngContentSelectors,a),ln=function Kv(i,o,a,c,d,f){const g=Tr(),v=d[Be],w=xr(g,d);MC(v,d,g,a,null,c);for(let N=0;N<a.length;N++)ci(Ai(d,v,g.directiveStart+N,g),d);Uv(v,d,g),w&&ci(w,d);const P=Ai(d,v,g.directiveStart+g.componentOffset,g);if(i[rn]=d[rn]=P,null!==f)for(const N of f)N(P,o);return CC(v,g,i),P}(yM,ko,Ll,v_,St,[Ck]),NC(ot,St,null)}finally{Gs()}return new Wv(this.componentType,ln,kc(Ur,St),St,Ur)}}class Wv extends yv{constructor(o,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new UC(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const f=this._rootLView;Xh(f[Be],f,d,o,a),this.previousInputValues.set(o,a),$g(ds(this._tNode.index,f))}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Ck(){const i=Tr();ja(ge()[Be],i)}function jC(i){let o=function tm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(fr(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const g=i;g.inputs=Uc(i.inputs),g.inputTransforms=Uc(i.inputTransforms),g.declaredInputs=Uc(i.declaredInputs),g.outputs=Uc(i.outputs);const v=d.hostBindings;v&&mR(i,v);const w=d.viewQuery,P=d.contentQueries;if(w&&pR(i,w),P&&gR(i,P),Ce(i.inputs,d.inputs),Ce(i.declaredInputs,d.declaredInputs),Ce(i.outputs,d.outputs),null!==d.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Ce(g.inputTransforms,d.inputTransforms)),fr(d)&&d.data.animation){const N=i.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const v=f[g];v&&v.ngInherit&&v(i),v===jC&&(a=!1)}}o=Object.getPrototypeOf(o)}!function yl(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=ki(d.hostAttrs,a=ki(a,d.hostAttrs))}}(c)}function Uc(i){return i===zr?{}:i===ut?[]:i}function pR(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function gR(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{o(c,d,f),a(c,d,f)}:o}function mR(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function im(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const d=o[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function su(i){return!!tf(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function tf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ns(i,o,a){return i[o]=a}function hi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function eE(i,o,a,c){const d=ge();return hi(d,vo(),o)&&(Lt(),xs(Qn(),d,i,o,a,c)),eE}function KC(i,o,a,c,d,f,g,v){const w=ge(),P=Lt(),N=i+Dt,F=P.firstCreatePass?function xR(i,o,a,c,d,f,g,v,w){const P=o.consts,N=qh(o,i,4,g||null,Kr(P,v));Vv(o,a,N,Kr(P,w)),ja(o,N);const F=N.tView=bC(2,N,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,P,null);return null!==o.queries&&(o.queries.template(o,N),F.queries=o.queries.embeddedTView(N)),N}(N,P,w,o,a,c,d,f,g):P.data[N];ie(F,!1);const $=NR(P,w,F,i);yy()&&fg(P,w,$,F),ci($,w),iu(w,w[N]=Zh($,w,$,F)),qt(F)&&DC(P,w,F),null!=g&&AC(w,F,v)}let NR=function fE(i,o,a,c){return Ba(!0),o[gt].createComment("")};function gE(i){return Fa(function Ko(){return pt.lFrame.contextLView}(),Dt+i)}function $c(i,o,a){const c=ge();return hi(c,vo(),o)&&function Ms(i,o,a,c,d,f,g,v){const w=xr(o,a);let N,P=o.inputs;!v&&null!=P&&(N=P[c])?(Xh(i,a,N,c,d),Ho(o)&&function Yg(i,o){const a=ds(o,i);16&a[ft]||(a[ft]|=64)}(a,o.index)):3&o.type&&(c=function Lv(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=g?g(d,o.value||"",c):d,f.setProperty(w,c,d))}(Lt(),Qn(),c,i,o,c[gt],a,!1),$c}function pm(i,o,a,c,d){const g=d?"class":"style";Xh(i,a,o.inputs[g],g,c)}function gm(i,o,a,c){const d=ge(),f=Lt(),g=Dt+i,v=d[gt],w=f.firstCreatePass?function YC(i,o,a,c,d,f){const g=o.consts,w=qh(o,i,2,c,Kr(g,d));return Vv(o,a,w,Kr(g,f)),null!==w.attrs&&Xg(w,w.attrs,!1),null!==w.mergedAttrs&&Xg(w,w.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,w),w}(g,f,d,o,a,c):f.data[g],P=QC(f,d,w,v,o,i);d[g]=P;const N=qt(w);return ie(w,!0),Ec(v,P,w),32!=(32&w.flags)&&yy()&&fg(f,d,P,w),0===function nh(){return pt.lFrame.elementDepthCount}()&&ci(P,d),function hy(){pt.lFrame.elementDepthCount++}(),N&&(DC(f,d,w),CC(f,w,d)),null!==c&&AC(d,w),gm}function mm(){let i=Tr();Ju()?function Fe(){pt.lFrame.isParent=!1}():(i=i.parent,ie(i,!1));const o=i;(function KT(i){return pt.skipHydrationRootTNode===i})(o)&&function gy(){pt.skipHydrationRootTNode=null}(),function fy(){pt.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(ja(a,i),Jl(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function jp(i){return 0!=(8&i.flags)}(o)&&pm(a,o,ge(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function $p(i){return 0!=(16&i.flags)}(o)&&pm(a,o,ge(),o.stylesWithoutHost,!1),mm}function mE(i,o,a,c){return gm(i,o,a,c),mm(),mE}let QC=(i,o,a,c,d,f)=>(Ba(!0),Ya(c,d,function ZT(){return pt.lFrame.currentNamespace}()));function XC(){return ge()}function vE(i){return!!i&&"function"==typeof i.then}function JC(i){return!!i&&"function"==typeof i.subscribe}function EE(i,o,a,c){const d=ge(),f=Lt(),g=Tr();return function LR(i,o,a,c,d,f,g){const v=qt(c),P=i.firstCreatePass&&Gv(i),N=o[rn],F=Qg(o);let $=!0;if(3&c.type||g){const le=xr(c,o),Ne=g?g(le):le,Xe=F.length,he=g?St=>g(Pt(St[c.index])):c.index;let ot=null;if(!g&&v&&(ot=function FR(i,o,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===a&&d[f+1]===c){const v=o[ai],w=d[f+2];return v.length>w?v[w]:null}"string"==typeof g&&(f+=2)}return null}(i,o,d,c.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=f,ot.__ngLastListenerFn__=f,$=!1;else{f=UR(c,o,N,f,!1);const St=a.listen(Ne,d,f);F.push(f,St),P&&P.push(d,he,Xe,Xe+1)}}else f=UR(c,o,N,f,!1);const G=c.outputs;let ae;if($&&null!==G&&(ae=G[d])){const le=ae.length;if(le)for(let Ne=0;Ne<le;Ne+=2){const ln=o[ae[Ne]][ae[Ne+1]].subscribe(f),Ur=F.length;F.push(f,ln),P&&P.push(d,c.index,Ur,-(Ur+1))}}}(f,d,d[gt],g,i,o,c),EE}function VR(i,o,a,c){try{return Hs(6,o,a),!1!==a(c)}catch(d){return xC(i,d),!1}finally{Hs(7,o,a)}}function UR(i,o,a,c,d){return function f(g){if(g===Function)return c;$g(i.componentOffset>-1?ds(i.index,o):o);let w=VR(o,a,c,g),P=f.__ngNextListenerFn__;for(;P;)w=VR(o,a,P,g)&&w,P=P.__ngNextListenerFn__;return d&&!1===w&&g.preventDefault(),w}}function BR(i=1){return function rh(i){return(pt.lFrame.contextLView=function el(i,o){for(;i>0;)o=o[Vi],i--;return o}(i,pt.lFrame.contextLView))[rn]}(i)}function IE(i,o){return i<<17|o<<2}function vl(i){return i>>17&32767}function rD(i){return 2|i}function Hc(i){return(131068&i)>>2}function iD(i,o){return-131069&i|o<<2}function sD(i){return 1|i}function YR(i,o,a,c,d){const f=i[a+1],g=null===o;let v=c?vl(f):Hc(f),w=!1;for(;0!==v&&(!1===w||g);){const N=i[v+1];Hk(i[v],o)&&(w=!0,i[v+1]=c?sD(N):rD(N)),v=c?vl(N):Hc(N)}w&&(i[a+1]=c?rD(f):sD(f))}function Hk(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&pc(i,o)>=0}function oD(i,o){return function Ao(i,o,a,c){const d=ge(),f=Lt(),g=function fs(i){const o=pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);f.firstUpdatePass&&function aD(i,o,a,c){const d=i.data;if(null===d[a+1]){const f=d[Yr()],g=function rP(i,o){return o>=i.expandoStartIndex}(i,a);(function ua(i,o){return 0!=(i.flags&(o?8:16))})(f,c)&&null===o&&!g&&(o=!1),o=function qs(i,o,a,c){const d=function k(i){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=aa(a=Gc(null,i,o,a,c),o.attrs,c),f=null);else{const g=o.directiveStylingLast;if(-1===g||i[g]!==d)if(a=Gc(d,i,o,a,c),null===f){let w=function $e(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Hc(c))return i[vl(c)]}(i,o,c);void 0!==w&&Array.isArray(w)&&(w=Gc(null,i,o,w[1],c),w=aa(w,o.attrs,c),function TE(i,o,a,c){i[vl(a?o.classBindings:o.styleBindings)]=c}(i,o,c,w))}else f=function Et(i,o,a){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=aa(c,i[f].hostAttrs,a);return aa(c,o.attrs,a)}(i,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),a}(d,f,o,c),function jk(i,o,a,c,d,f){let g=f?o.classBindings:o.styleBindings,v=vl(g),w=Hc(g);i[c]=a;let N,P=!1;if(Array.isArray(a)?(N=a[1],(null===N||pc(a,N)>0)&&(P=!0)):N=a,d)if(0!==w){const $=vl(i[v+1]);i[c+1]=IE($,v),0!==$&&(i[$+1]=iD(i[$+1],c)),i[v+1]=function Uk(i,o){return 131071&i|o<<17}(i[v+1],c)}else i[c+1]=IE(v,0),0!==v&&(i[v+1]=iD(i[v+1],c)),v=c;else i[c+1]=IE(w,0),0===v?v=c:i[w+1]=iD(i[w+1],c),w=c;P&&(i[c+1]=rD(i[c+1])),YR(i,N,c,!0),YR(i,N,c,!1),function $k(i,o,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&pc(f,o)>=0&&(a[c+1]=sD(a[c+1]))}(o,N,i,c,f),g=IE(v,w),f?o.classBindings=g:o.styleBindings=g}(d,f,o,a,g,c)}}(f,i,g,c),o!==Tt&&hi(d,g,o)&&function uD(i,o,a,c,d,f,g,v){if(!(3&o.type))return;const w=i.data,P=w[v+1],N=function Bk(i){return 1==(1&i)}(P)?Zr(w,o,a,d,Hc(P),g):void 0;El(N)||(El(f)||function Vk(i){return 2==(2&i)}(P)&&(f=Zr(w,null,a,d,v,g)),function Le(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:og.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=og.Important),i.setStyle(a,c,d,f))}}(c,g,hc(Yr(),a),d,f))}(f,f.data[Yr()],d,d[gt],i,d[g+1]=function Fr(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ye(ta(i)))),i}(o,a),c,g)}(i,o,null,!0),oD}function Gc(i,o,a,c,d){let f=null;const g=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<g&&(f=o[v],c=aa(c,f.hostAttrs,d),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),c}function aa(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const g=o[f];"number"==typeof g?d=g:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ji(i,g,!!a||o[++f]))}return void 0===i?null:i}function Zr(i,o,a,c,d,f){const g=null===o;let v;for(;d>0;){const w=i[d],P=Array.isArray(w),N=P?w[1]:w,F=null===N;let $=a[d+1];$===Tt&&($=F?ut:void 0);let G=F?Xo($,c):N===c?$:void 0;if(P&&!El(G)&&(G=Xo(w,c)),El(G)&&(v=G,g))return v;const ae=i[d+1];d=g?vl(ae):Hc(ae)}if(null!==o){let w=f?o.residualClasses:o.residualStyles;null!=w&&(v=Xo(w,c))}return v}function El(i){return void 0!==i}function lD(i,o=""){const a=ge(),c=Lt(),d=i+Dt,f=c.firstCreatePass?qh(c,d,1,o,null):c.data[d],g=wE(c,a,f,o,i);a[d]=g,yy()&&fg(c,a,g,f),ie(f,!1)}let wE=(i,o,a,c,d)=>(Ba(!0),function cg(i,o){return i.createText(o)}(o[gt],c));function Em(i,o,a){const c=ge(),d=function rf(i,o,a,c){return hi(i,vo(),a)?o+ke(a)+c:Tt}(c,i,o,a);return d!==Tt&&function Do(i,o,a){const c=hc(o,i);!function Ow(i,o,a){i.setValue(o,a)}(i[gt],c,a)}(c,Yr(),d),Em}const Tl=void 0;var yD=["en",[["a","p"],["AM","PM"],Tl],[["AM","PM"],Tl,Tl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tl,"{1} 'at' {0}",Tl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _D(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let du={};function VE(i){const o=function Rm(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Sm(o);if(a)return a;const c=o.split("-")[0];if(a=Sm(c),a)return a;if("en"===c)return yD;throw new Oe(701,!1)}function bm(i){return VE(i)[Zn.PluralCase]}function Sm(i){return i in du||(du[i]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[i]),du[i]}var Zn=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Zn||{});const Wc="en-US";let qc=Wc;function Gm(i,o,a,c,d){if(i=Me(i),Array.isArray(i))for(let f=0;f<i.length;f++)Gm(i[f],o,a,c,d);else{const f=Lt(),g=ge(),v=Tr();let w=An(i)?i:Me(i.provide);const P=bg(i),N=1048575&v.providerIndexes,F=v.directiveStart,$=v.providerIndexes>>20;if(An(i)||!i.multi){const G=new oh(P,d,Lc),ae=wf(w,o,d?N:N+$,F);-1===ae?(rw(Ey(v,g),f,w),zm(f,i,o.length),o.push(w),v.directiveStart++,v.directiveEnd++,d&&(v.providerIndexes+=1048576),a.push(G),g.push(G)):(a[ae]=G,g[ae]=G)}else{const G=wf(w,o,N+$,F),ae=wf(w,o,N,N+$),Ne=ae>=0&&a[ae];if(d&&!Ne||!d&&!(G>=0&&a[G])){rw(Ey(v,g),f,w);const Xe=function xP(i,o,a,c,d){const f=new oh(i,a,Lc);return f.multi=[],f.index=o,f.componentProviders=0,Wm(f,d,c&&!a),f}(d?jD:BD,a.length,d,c,P);!d&&Ne&&(a[ae].providerFactory=Xe),zm(f,i,o.length,0),o.push(w),v.directiveStart++,v.directiveEnd++,d&&(v.providerIndexes+=1048576),a.push(Xe),g.push(Xe)}else zm(f,i,G>-1?G:ae,Wm(a[d?ae:G],P,!d&&c));!d&&c&&Ne&&a[ae].componentProviders++}}}function zm(i,o,a,c){const d=An(o),f=function oC(i){return!!i.useClass}(o);if(d||f){const w=(f?Me(o.useClass):o).prototype.ngOnDestroy;if(w){const P=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const N=P.indexOf(a);-1===N?P.push(a,[c,w]):P[N+1].push(c,w)}else P.push(a,w)}}}function Wm(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function wf(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function BD(i,o,a,c){return YE(this.multi,[])}function jD(i,o,a,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Ai(a,a[Be],this.providerFactory.index,c);f=v.slice(0,g),YE(d,f);for(let w=g;w<v.length;w++)f.push(v[w])}else f=[],YE(d,f);return f}function YE(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function $D(i,o=[]){return a=>{a.providersResolver=(c,d)=>function MP(i,o,a){const c=Lt();if(c.firstCreatePass){const d=fr(i);Gm(a,c.data,c.blueprint,d,!0),Gm(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class bl{}class Cf{}function Df(i,o){return new Af(i,o??null,[])}class Af extends bl{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new BC(this);const d=oi(o);this._bootstrapComponents=nu(d.bootstrap),this._r3Injector=Fg(o,a,[{provide:bl,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver},...c],ye(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class qm extends Cf{constructor(o){super(),this.moduleType=o}create(o){return new Af(this.moduleType,o,[])}}class rd extends bl{constructor(o){super(),this.componentFactoryResolver=new BC(this),this.instance=null;const a=new gl([...o.providers,{provide:bl,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver}],o.parent||Dg(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function HD(i,o,a=null){return new rd({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let Xn=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=Xy(0,a.type),d=c.length>0?HD([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Jt({token:i,providedIn:"environment",factory:()=>new i(cr(wo))})}return i})();function ZE(i){i.getStandaloneInjector=o=>o.get(Xn).getOrCreateStandaloneInjector(i)}function Rf(i,o,a,c){return function aI(i,o,a,c,d,f){const g=o+a;return hi(i,g,d)?Ns(i,g+1,f?c.call(f,d):c(d)):fu(i,g+1)}(ge(),Nr(),i,o,a,c)}function fu(i,o){const a=i[o];return a===Tt?void 0:a}function uI(i,o,a,c,d,f,g){const v=o+a;return function ou(i,o,a,c){const d=hi(i,o,a);return hi(i,o+1,c)||d}(i,v,d,f)?Ns(i,v+2,g?c.call(g,d,f):c(d,f)):fu(i,v+2)}function dI(i,o){const a=Lt();let c;const d=i+Dt;a.firstCreatePass?(c=function JD(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const f=c.factory||(c.factory=po(c.type)),v=lr(Lc);try{const w=Gp(!1),P=f();return Gp(w),function pE(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,ge(),d,P),P}finally{lr(v)}}function fI(i,o,a,c){const d=i+Dt,f=ge(),g=Fa(f,d);return function Sl(i,o){return i[Be].data[o].pure}(f,d)?uI(f,Nr(),o,g.transform,a,c,g):g.transform(a,c)}function pn(){return this._results[Symbol.iterator]()}class pI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Co)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=pI.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=pn)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Rs(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Cy(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=o[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tA(i,o,a,c=!0){const d=o[Be];if(function Ly(i,o,a,c){const d=hr+c,f=a.length;c>0&&(a[d-1][Ci]=o),c<f-hr?(o[Ci]=a[d],fw(a,hr+c,o)):(a.push(o),o[Ci]=null),o[vn]=a;const g=o[uo];null!==g&&a!==g&&function iS(i,o){const a=i[qr];o[Dn]!==o[vn][vn][Dn]&&(i[co]=!0),null===a?i[qr]=[o]:a.push(o)}(g,o);const v=o[Er];null!==v&&v.insertView(i),o[ft]|=128}(d,o,i,a),c){const f=vc(a,i),g=o[gt],v=By(g,i[Bn]);null!==v&&function Ih(i,o,a,c,d,f){c[Pn]=d,c[Un]=o,$i(i,c,a,1,d,f)}(d,i[Un],g,o,v,f)}}let Po=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=ha}return i})();const mI=Po,rA=class extends mI{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,c){const d=function gI(i,o,a,c){const d=o.tView,v=Ov(i,d,a,4096&i[ft]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);v[uo]=i[o.index];const P=i[Er];return null!==P&&(v[Er]=P.createEmbeddedView(d)),NC(d,v,a),v}(this._declarationLView,this._declarationTContainer,o,{injector:a,hydrationInfo:c});return new ef(d)}};function ha(){return Ri(Tr(),ge())}function Ri(i,o){return 4&i.type?new rA(o,i,kc(i,o)):null}let _I=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=n1}return i})();function n1(){return UP(Tr(),ge())}const r1=_I,LP=class extends r1{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return kc(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const o=rl(this._hostTNode,this._hostLView);if(nl(o)){const a=ah(o,this._hostLView),c=Hp(o);return new bi(a[Be].data[c+8],a)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=VP(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(o,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const v=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(v,d,false),v}createComponent(o,a,c,d,f){const g=o&&!function Ss(i){return"function"==typeof i}(o);let v;if(g)v=a;else{const le=a||{};v=le.index,c=le.injector,d=le.projectableNodes,f=le.environmentInjector||le.ngModuleRef}const w=g?o:new em(Ct(o)),P=c||this.parentInjector;if(!f&&null==w.ngModule){const Ne=(g?P:this.parentInjector).get(wo,null);Ne&&(f=Ne)}Ct(w.componentType??{});const G=w.create(P,d,null,f);return this.insertImpl(G.hostView,v,false),G}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const d=o._lView;if(function Jd(i){return Kn(i[vn])}(d)){const w=this.indexOf(o);if(-1!==w)this.detach(w);else{const P=d[vn],N=new LP(P,P[Un],P[vn]);N.detach(N.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;return tA(v,d,g,!c),o.attachToViewContainerRef(),fw(sA(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=VP(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=dg(this._lContainer,a);c&&(Yp(sA(this._lContainer),a),Vy(c[Be],c))}detach(o){const a=this._adjustIndex(o,-1),c=dg(this._lContainer,a);return c&&null!=Yp(sA(this._lContainer),a)?new ef(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function VP(i){return i[8]}function sA(i){return i[8]||(i[8]=[])}function UP(i,o){let a;const c=o[i.index];return Kn(c)?a=c:(a=Zh(c,o,null,i),o[i.index]=a,iu(o,a)),yI(a,o,i,c),new LP(a,i,o)}let yI=function Cr(i,o,a,c){if(i[Bn])return;let d;d=8&a.type?Pt(c):function BP(i,o){const a=i[gt],c=a.createComment(""),d=xr(o,i);return _c(a,By(a,d),c,function KO(i,o){return i.nextSibling(o)}(a,d),!1),c}(o,a),i[Bn]=d};class _u{constructor(o){this.queryList=o,this.matches=null}clone(){return new _u(this.queryList)}setDirty(){this.queryList.setDirty()}}class oA{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const g=a.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new oA(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==II(o,a).matches&&this.queries[a].setDirty()}}class Ee{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Yn{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Yn(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class zi{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new zi(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,a,vI(a,f)),this.matchTNodeWithReadOption(o,a,Wp(a,o,f,!1,!1))}else c===Po?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Wp(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===eu||d===_I||d===Po&&4&a.type)this.addMatch(a.index,-2);else{const f=Wp(a,o,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function vI(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function it(i,o,a,c){return-1===a?function Ye(i,o){return 11&i.type?kc(i,o):4&i.type?Ri(i,o):null}(o,i):-2===a?function i1(i,o,a){return a===eu?kc(o,i):a===Po?Ri(o,i):a===_I?UP(o,i):void 0}(i,o,c):Ai(i,i[Be],a,o)}function Ve(i,o,a,c){const d=o[Er].queries[c];if(null===d.matches){const f=i.data,g=a.matches,v=[];for(let w=0;w<g.length;w+=2){const P=g[w];v.push(P<0?null:it(o,f[P],g[w+1],a.metadata.read))}d.matches=v}return d.matches}function ee(i,o,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const g=Ve(i,o,d,a);for(let v=0;v<f.length;v+=2){const w=f[v];if(w>0)c.push(g[v/2]);else{const P=f[v+1],N=o[-w];for(let F=hr;F<N.length;F++){const $=N[F];$[uo]===$[vn]&&ee($[Be],$,P,c)}if(null!==N[qr]){const F=N[qr];for(let $=0;$<F.length;$++){const G=F[$];ee(G[Be],G,P,c)}}}}}return c}function ve(i){const o=ge(),a=Lt(),c=L();Y(c+1);const d=II(a,c);if(i.dirty&&function E0(i){return 4==(4&i[ft])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?ee(a,o,c,[]):Ve(a,o,d,c);i.reset(f,rk),i.notifyOnChanges()}return!0}return!1}function EI(i,o,a,c){const d=Lt();if(d.firstCreatePass){const f=Tr();(function lA(i,o,a){null===i.queries&&(i.queries=new Yn),i.queries.track(new zi(o,a))})(d,new Ee(o,a,c),f.index),function $P(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function uA(i,o,a){const c=new pI(4==(4&a));(function QS(i,o,a,c){const d=Qg(o);d.push(a),i.firstCreatePass&&Gv(i).push(c,d.length-1)})(i,o,c,c.destroy),null===o[Er]&&(o[Er]=new oA),o[Er].queries.push(new _u(c))}(d,ge(),a)}function aA(){return function jP(i,o){return i[Er].queries[o].queryList}(ge(),L())}function II(i,o){return i.queries.getByIndex(o)}function rt(i){return!!oi(i)}const vA=new vt("Application Initializer");let RI=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Wt(vA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(vE(f))a.push(f);else if(JC(f)){const g=new Promise((v,w)=>{f.subscribe({complete:v,error:w})});a.push(g)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),PI=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Ff=new vt("LocaleId",{providedIn:"root",factory:()=>Wt(Ff,Ke.Optional|Ke.SkipSelf)||function ZP(){return typeof $localize<"u"&&$localize.locale||Wc}()}),EA=new vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let MI=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new De.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class wu{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let TA=(()=>{class i{compileModuleSync(a){return new qm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=nu(oi(a).declarations).reduce((g,v)=>{const w=Ct(v);return w&&g.push(new em(w)),g},[]);return new wu(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const hd=new vt(""),NI=new vt("");let s_,DA=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,s_||(function jf(i){s_=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}static#e=this.\u0275fac=function(c){return new(c||i)(cr(Qr),cr(Bf),cr(NI))};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac})}return i})(),Bf=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return s_?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),Au=null;const AA=new vt("AllowMultipleToken"),o_=new vt("PlatformDestroyListeners"),a_=new vt("appBootstrapListener");class bA{constructor(o,a){this.name=o,this.token=a}}function un(i,o,a=[]){const c=`Platform: ${o}`,d=new vt(c);return(f=[])=>{let g=Hf();if(!g||g.injector.get(AA,!1)){const v=[...a,...f,{provide:d,useValue:!0}];i?i(v):function SA(i){if(Au&&!Au.get(AA,!1))throw new Oe(400,!1);(function xn(){!function de(i){B=i}(()=>{throw new Oe(600,!1)})})(),Au=i;const o=i.get(OI);(function RA(i){i.get(uv,null)?.forEach(a=>a())})(i)}(function Nl(i=[],o){return Hi.create({name:o,providers:[{provide:nv,useValue:"platform"},{provide:o_,useValue:new Set([()=>Au=null])},...i]})}(v,c))}return function gn(i){const o=Hf();if(!o)throw new Oe(401,!1);return o}()}}function Hf(){return Au?.get(OI)??null}let OI=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function MA(i="zone.js",o){return"noop"===i?new ak:"zone.js"===i?new Qr(o):i}(c?.ngZone,function u_(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function bf(i,o,a){return new Af(i,o,a)}(a.moduleType,this.injector,function OA(i){return[{provide:Qr,useFactory:i},{provide:Ac,multi:!0,useFactory:()=>{const o=Wt(NA,{optional:!0});return()=>o.initialize()}},{provide:LI,useFactory:tM},{provide:jg,useFactory:jS}]}(()=>d)),g=f.injector.get(ia,null);return d.runOutsideAngular(()=>{const v=d.onError.subscribe({next:w=>{g.handleError(w)}});f.onDestroy(()=>{l_(this._modules,f),v.unsubscribe()})}),function kI(i,o,a){try{const c=a();return vE(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(g,d,()=>{const v=f.injector.get(RI);return v.runInitializers(),v.donePromise.then(()=>(function Kc(i){qn(i,"Expected localeId to be defined"),"string"==typeof i&&(qc=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Ff,Wc)||Wc),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=FI({},c);return function ti(i,o,a){const c=new qm(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(fd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Oe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(o_,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||i)(cr(Hi))};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function FI(i,o){return Array.isArray(o)?o.reduce(FI,i):{...i,...o}}let fd=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wt(LI),this.zoneIsStable=Wt(jg),this.componentTypes=[],this.components=[],this.isStable=Wt(MI).hasPendingTasks.pipe((0,Yt.w)(a=>a?(0,se.of)(!1):this.zoneIsStable),function mn(i,o=xt.y){return i=i??Sn,(0,Je.e)((a,c)=>{let d,f=!0;a.subscribe((0,Qt.x)(c,g=>{const v=o(g);(f||!i(d,v))&&(f=!1,d=v,c.next(g))}))})}(),Pe()),this._injector=Wt(wo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof Oc;if(!this._injector.get(RI).done)throw!d&&rs(a),new Oe(405,!1);let g;g=d?a:this._injector.get(Uh).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const v=function bu(i){return i.isBoundToModule}(g)?void 0:this._injector.get(bl),P=g.create(Hi.NULL,[],c||g.selector,v),N=P.location.nativeElement,F=P.injector.get(hd,null);return F?.registerApplication(N),P.onDestroy(()=>{this.detachView(P.hostView),l_(this.components,P),F?.unregisterApplication(N)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;l_(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(a_,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>l_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Oe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function l_(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const LI=new vt("",{providedIn:"root",factory:()=>Wt(ia).handleError.bind(void 0)});function tM(){const i=Wt(Qr),o=Wt(ia);return a=>i.runOutsideAngular(()=>o.handleError(a))}let NA=(()=>{class i{constructor(){this.zone=Wt(Qr),this.applicationRef=Wt(fd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();let FA=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=LA}return i})();function LA(i){return function pa(i,o,a){if(Ho(i)&&!a){const c=ds(i.index,o);return new ef(c,c)}return 47&i.type?new ef(o[Dn],o):null}(Tr(),ge(),16==(16&i))}class jI{constructor(){}supports(o){return su(o)}create(o){return new BA(o)}}const Oo=(i,o)=>o;class BA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Oo}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const g=!c||a&&a.currentIndex<At(c,d,f)?a:c,v=At(g,d,f),w=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(a=a._next,null==g.previousIndex)d++;else{f||(f=[]);const P=v-d,N=w-d;if(P!=N){for(let $=0;$<P;$++){const G=$<f.length?f[$]:f[$]=0,ae=G+$;N<=ae&&ae<P&&(f[$]=G+1)}f[g.previousIndex]=N-P}}v!==w&&o(g,v,w)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!su(o))throw new Oe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,g,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let v=0;v<this.length;v++)f=o[v],g=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,f,g,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,g,v),c=!0),a=a._next}else d=0,function ER(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,v=>{g=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,v,g,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,g,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,d)):o=this._addAfter(new Kf(a,c),f,d),o}_verifyReinsertion(o,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new jA),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jA),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Kf{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oM{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class jA{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new oM,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function At(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class $A{constructor(){}supports(o){return o instanceof Map||tf(o)}create(){return new $I}}class $I{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||tf(o)))throw new Oe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new HA(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class HA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HI(){return new g_([new jI])}let g_=(()=>{class i{static#e=this.\u0275prov=Jt({token:i,providedIn:"root",factory:HI});constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||HI()),deps:[[i,new Xp,new Zp]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Oe(901,!1)}}return i})();function GA(){return new GI([new $A])}let GI=(()=>{class i{static#e=this.\u0275prov=Jt({token:i,providedIn:"root",factory:GA});constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||GA()),deps:[[i,new Xp,new Zp]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Oe(901,!1)}}return i})();const Fl=un(null,"core",[]);let WA=(()=>{class i{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||i)(cr(fd))};static#t=this.\u0275mod=zd({type:i});static#n=this.\u0275inj=Nt({})}return i})();function hM(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function Qf(i){const o=Ct(i);if(!o)return null;const a=new em(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},6593:(lt,Ie,V)=>{V.d(Ie,{Dx:()=>mt,b2:()=>wn,q6:()=>Vn});var b=V(4946),E=V(6814);class _e extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends _e{static makeCurrent(){(0,E.HT)(new fe)}onAndCancel(q,j,H){return q.addEventListener(j,H),()=>{q.removeEventListener(j,H)}}dispatchEvent(q,j){q.dispatchEvent(j)}remove(q){q.parentNode&&q.parentNode.removeChild(q)}createElement(q,j){return(j=j||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,j){return"window"===j?window:"document"===j?q:"body"===j?q.body:null}getBaseHref(q){const j=function ue(){return ne=ne||document.querySelector("base"),ne?ne.getAttribute("href"):null}();return null==j?null:function ze(ce){be=be||document.createElement("a"),be.setAttribute("href",ce);const q=be.pathname;return"/"===q.charAt(0)?q:`/${q}`}(j)}resetBaseElement(){ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,E.Mx)(document.cookie,q)}}let be,ne=null,De=(()=>{class ce{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(H){return new(H||ce)};static#t=this.\u0275prov=b.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const se=new b.OlP("EventManagerPlugins");let we=(()=>{class ce{constructor(j,H){this._zone=H,this._eventNameToPlugin=new Map,j.forEach(pe=>{pe.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,H,pe){return this._findPluginFor(H).addEventListener(j,H,pe)}getZone(){return this._zone}_findPluginFor(j){let H=this._eventNameToPlugin.get(j);if(H)return H;if(H=this._plugins.find(We=>We.supports(j)),!H)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(j,H),H}static#e=this.\u0275fac=function(H){return new(H||ce)(b.LFG(se),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();class Je{constructor(q){this._doc=q}}const Pe="ng-app-id";let tt=(()=>{class ce{constructor(j,H,pe,We={}){this.doc=j,this.appId=H,this.nonce=pe,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,E.PM)(We),this.resetHostNodes()}addStyles(j){for(const H of j)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles(j){for(const H of j)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(H=>H.remove()),j.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const H of this.getAllStyles())this.addStyleToHost(j,H)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const H of this.hostNodes)this.addStyleToHost(H,j)}onStyleRemoved(j){const H=this.styleRef;H.get(j)?.elements?.forEach(pe=>pe.remove()),H.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(j?.length){const H=new Map;return j.forEach(pe=>{null!=pe.textContent&&H.set(pe.textContent,pe)}),H}return null}changeUsageCount(j,H){const pe=this.styleRef;if(pe.has(j)){const We=pe.get(j);return We.usage+=H,We.usage}return pe.set(j,{usage:H,elements:[]}),H}getStyleElement(j,H){const pe=this.styleNodesInDOM,We=pe?.get(H);if(We?.parentNode===j)return pe.delete(H),We.removeAttribute(Pe),We;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=H,this.platformIsServer&&st.setAttribute(Pe,this.appId),st}}addStyleToHost(j,H){const pe=this.getStyleElement(j,H);j.appendChild(pe);const We=this.styleRef,st=We.get(H)?.elements;st?st.push(pe):We.set(H,{elements:[pe],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}static#e=this.\u0275fac=function(H){return new(H||ce)(b.LFG(E.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const Yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xt=/%COMP%/g,Ce=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ct(ce,q){return q.map(j=>j.replace(xt,ce))}let He=(()=>{class ce{constructor(j,H,pe,We,st,Bt,zt,On=null){this.eventManager=j,this.sharedStylesHost=H,this.appId=pe,this.removeStylesOnCompDestroy=We,this.doc=st,this.platformId=Bt,this.ngZone=zt,this.nonce=On,this.rendererByCompId=new Map,this.platformIsServer=(0,E.PM)(Bt),this.defaultRenderer=new Me(j,st,zt,this.platformIsServer)}createRenderer(j,H){if(!j||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===b.ifc.ShadowDom&&(H={...H,encapsulation:b.ifc.Emulated});const pe=this.getOrCreateRenderer(j,H);return pe instanceof Wn?pe.applyToHost(j):pe instanceof Oe&&pe.applyStyles(),pe}getOrCreateRenderer(j,H){const pe=this.rendererByCompId;let We=pe.get(H.id);if(!We){const st=this.doc,Bt=this.ngZone,zt=this.eventManager,On=this.sharedStylesHost,xi=this.removeStylesOnCompDestroy,es=this.platformIsServer;switch(H.encapsulation){case b.ifc.Emulated:We=new Wn(zt,On,H,this.appId,xi,st,Bt,es);break;case b.ifc.ShadowDom:return new ri(zt,On,j,H,st,Bt,this.nonce,es);default:We=new Oe(zt,On,H,xi,st,Bt,es)}pe.set(H.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(H){return new(H||ce)(b.LFG(we),b.LFG(tt),b.LFG(b.AFp),b.LFG(Ce),b.LFG(E.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();class Me{constructor(q,j,H,pe){this.eventManager=q,this.doc=j,this.ngZone=H,this.platformIsServer=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(q,j){return j?this.doc.createElementNS(Yt[j]||j,q):this.doc.createElement(q)}createComment(q){return this.doc.createComment(q)}createText(q){return this.doc.createTextNode(q)}appendChild(q,j){(Ei(q)?q.content:q).appendChild(j)}insertBefore(q,j,H){q&&(Ei(q)?q.content:q).insertBefore(j,H)}removeChild(q,j){q&&q.removeChild(j)}selectRootElement(q,j){let H="string"==typeof q?this.doc.querySelector(q):q;if(!H)throw new b.vHH(-5104,!1);return j||(H.textContent=""),H}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,j,H,pe){if(pe){j=pe+":"+j;const We=Yt[pe];We?q.setAttributeNS(We,j,H):q.setAttribute(j,H)}else q.setAttribute(j,H)}removeAttribute(q,j,H){if(H){const pe=Yt[H];pe?q.removeAttributeNS(pe,j):q.removeAttribute(`${H}:${j}`)}else q.removeAttribute(j)}addClass(q,j){q.classList.add(j)}removeClass(q,j){q.classList.remove(j)}setStyle(q,j,H,pe){pe&(b.JOm.DashCase|b.JOm.Important)?q.style.setProperty(j,H,pe&b.JOm.Important?"important":""):q.style[j]=H}removeStyle(q,j,H){H&b.JOm.DashCase?q.style.removeProperty(j):q.style[j]=""}setProperty(q,j,H){q[j]=H}setValue(q,j){q.nodeValue=j}listen(q,j,H){if("string"==typeof q&&!(q=(0,E.q)().getGlobalEventTarget(this.doc,q)))throw new Error(`Unsupported event target ${q} for event ${j}`);return this.eventManager.addEventListener(q,j,this.decoratePreventDefault(H))}decoratePreventDefault(q){return j=>{if("__ngUnwrap__"===j)return q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>q(j)):q(j))&&j.preventDefault()}}}function Ei(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class ri extends Me{constructor(q,j,H,pe,We,st,Bt,zt){super(q,We,st,zt),this.sharedStylesHost=j,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const On=ct(pe.id,pe.styles);for(const xi of On){const es=document.createElement("style");Bt&&es.setAttribute("nonce",Bt),es.textContent=xi,this.shadowRoot.appendChild(es)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}appendChild(q,j){return super.appendChild(this.nodeOrShadowRoot(q),j)}insertBefore(q,j,H){return super.insertBefore(this.nodeOrShadowRoot(q),j,H)}removeChild(q,j){return super.removeChild(this.nodeOrShadowRoot(q),j)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oe extends Me{constructor(q,j,H,pe,We,st,Bt,zt){super(q,We,st,Bt),this.sharedStylesHost=j,this.removeStylesOnCompDestroy=pe,this.styles=zt?ct(zt,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wn extends Oe{constructor(q,j,H,pe,We,st,Bt,zt){const On=pe+"-"+H.id;super(q,j,H,We,st,Bt,zt,On),this.contentAttr=function ye(ce){return"_ngcontent-%COMP%".replace(xt,ce)}(On),this.hostAttr=function Qe(ce){return"_nghost-%COMP%".replace(xt,ce)}(On)}applyToHost(q){this.applyStyles(),this.setAttribute(q,this.hostAttr,"")}createElement(q,j){const H=super.createElement(q,j);return super.setAttribute(H,this.contentAttr,""),H}}let ke=(()=>{class ce extends Je{constructor(j){super(j)}supports(j){return!0}addEventListener(j,H,pe){return j.addEventListener(H,pe,!1),()=>this.removeEventListener(j,H,pe)}removeEventListener(j,H,pe){return j.removeEventListener(H,pe)}static#e=this.\u0275fac=function(H){return new(H||ce)(b.LFG(E.K0))};static#t=this.\u0275prov=b.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const _t=["alt","control","meta","shift"],X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},te={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let oe=(()=>{class ce extends Je{constructor(j){super(j)}supports(j){return null!=ce.parseEventName(j)}addEventListener(j,H,pe){const We=ce.parseEventName(H),st=ce.eventCallback(We.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(j,We.domEventName,st))}static parseEventName(j){const H=j.toLowerCase().split("."),pe=H.shift();if(0===H.length||"keydown"!==pe&&"keyup"!==pe)return null;const We=ce._normalizeKey(H.pop());let st="",Bt=H.indexOf("code");if(Bt>-1&&(H.splice(Bt,1),st="code."),_t.forEach(On=>{const xi=H.indexOf(On);xi>-1&&(H.splice(xi,1),st+=On+".")}),st+=We,0!=H.length||0===We.length)return null;const zt={};return zt.domEventName=pe,zt.fullKey=st,zt}static matchEventFullKeyCode(j,H){let pe=X[j.key]||j.key,We="";return H.indexOf("code.")>-1&&(pe=j.code,We="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),_t.forEach(st=>{st!==pe&&(0,te[st])(j)&&(We+=st+".")}),We+=pe,We===H)}static eventCallback(j,H,pe){return We=>{ce.matchEventFullKeyCode(We,j)&&pe.runGuarded(()=>H(We))}}static _normalizeKey(j){return"esc"===j?"escape":j}static#e=this.\u0275fac=function(H){return new(H||ce)(b.LFG(E.K0))};static#t=this.\u0275prov=b.Yz7({token:ce,factory:ce.\u0275fac})}return ce})();const Vn=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:E.bD},{provide:b.g9A,useValue:function Rt(){fe.makeCurrent()},multi:!0},{provide:E.K0,useFactory:function Ze(){return(0,b.RDi)(document),document},deps:[]}]),Rn=new b.OlP(""),Nn=[{provide:b.rWj,useClass:class Re{addToWindow(q){b.dqk.getAngularTestability=(H,pe=!0)=>{const We=q.findTestabilityInTree(H,pe);if(null==We)throw new b.vHH(5103,!1);return We},b.dqk.getAllAngularTestabilities=()=>q.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>q.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(H=>{const pe=b.dqk.getAllAngularTestabilities();let We=pe.length,st=!1;const Bt=function(zt){st=st||zt,We--,0==We&&H(st)};pe.forEach(zt=>{zt.whenStable(Bt)})})}findTestabilityInTree(q,j,H){return null==j?null:q.getTestability(j)??(H?(0,E.q)().isShadowRoot(j)?this.findTestabilityInTree(q,j.host,!0):this.findTestabilityInTree(q,j.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],ii=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function _n(){return new b.qLn},deps:[]},{provide:se,useClass:ke,multi:!0,deps:[E.K0,b.R0b,b.Lbi]},{provide:se,useClass:oe,multi:!0,deps:[E.K0]},He,tt,we,{provide:b.FYo,useExisting:He},{provide:E.JF,useClass:De,deps:[]},[]];let wn=(()=>{class ce{constructor(j){}static withServerTransition(j){return{ngModule:ce,providers:[{provide:b.AFp,useValue:j.appId}]}}static#e=this.\u0275fac=function(H){return new(H||ce)(b.LFG(Rn,12))};static#t=this.\u0275mod=b.oAB({type:ce});static#n=this.\u0275inj=b.cJS({providers:[...ii,...Nn],imports:[E.ez,b.hGG]})}return ce})(),mt=(()=>{class ce{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}static#e=this.\u0275fac=function(H){return new(H||ce)(b.LFG(E.K0))};static#t=this.\u0275prov=b.Yz7({token:ce,factory:function(H){let pe=null;return pe=H?new H:function Bd(){return new mt((0,b.LFG)(E.K0))}(),pe},providedIn:"root"})}return ce})();typeof window<"u"&&window},8589:(lt,Ie,V)=>{V.d(Ie,{F0:()=>Pt,rH:()=>xr,Bz:()=>Tr,lC:()=>jo});var b=V(4946),E=V(5592),_e=V(4674),ne=V(2459),ue=V(2096),be=V(5619),ze=V(7453),Re=V(2737),De=V(7400),se=V(4564),we=V(2714),Je=V(8251),Pe=V(7103);function tt(...y){const T=(0,se.yG)(y),m=(0,se.jO)(y),{args:C,keys:S}=(0,ze.D)(y);if(0===C.length)return(0,ne.D)([],T);const k=new E.y(function Yt(y,T,m=Re.y){return C=>{xt(T,()=>{const{length:S}=y,k=new Array(S);let L=S,Y=S;for(let K=0;K<S;K++)xt(T,()=>{const xe=(0,ne.D)(y[K],T);let dt=!1;xe.subscribe((0,Je.x)(C,en=>{k[K]=en,dt||(dt=!0,Y--),Y||C.next(m(k.slice()))},()=>{--L||C.complete()}))},C)},C)}}(C,T,S?L=>(0,we.n)(S,L):Re.y));return m?k.pipe((0,De.Z)(m)):k}function xt(y,T,m){y?(0,Pe.f)(m,y,T):T()}const mn=(0,V(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Sn=V(7537);function Ce(...y){return function Te(){return(0,Sn.J)(1)}()((0,ne.D)(y,(0,se.yG)(y)))}var ye=V(4829);function Qe(y){return new E.y(T=>{(0,ye.Xf)(y()).subscribe(T)})}var ct=V(8407);function He(y,T){const m=(0,_e.m)(y)?y:()=>y,C=S=>S.error(m());return new E.y(T?S=>T.schedule(C,0,S):C)}var Me=V(6232),Ft=V(7394),nr=V(9360);function Ei(){return(0,nr.e)((y,T)=>{let m=null;y._refCount++;const C=(0,Je.x)(T,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const S=y._connection,k=m;m=null,S&&(!k||S===k)&&S.unsubscribe(),T.unsubscribe()});y.subscribe(C),C.closed||(m=y.connect())})}class ri extends E.y{constructor(T,m){super(),this.source=T,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,nr.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Ft.w0;const m=this.getSubject();T.add(this.source.subscribe((0,Je.x)(m,void 0,()=>{this._teardown(),m.complete()},C=>{this._teardown(),m.error(C)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Ft.w0.EMPTY)}return T}refCount(){return Ei()(this)}}var Oe=V(8645),Wn=V(6814),ke=V(7398),_t=V(4664);function X(y){return y<=0?()=>Me.E:(0,nr.e)((T,m)=>{let C=0;T.subscribe((0,Je.x)(m,S=>{++C<=y&&(m.next(S),y<=C&&m.complete())}))})}var oe=V(2181),re=V(1631);function me(y){return(0,nr.e)((T,m)=>{let C=!1;T.subscribe((0,Je.x)(m,S=>{C=!0,m.next(S)},()=>{C||m.next(y),m.complete()}))})}function Ae(y=ht){return(0,nr.e)((T,m)=>{let C=!1;T.subscribe((0,Je.x)(m,S=>{C=!0,m.next(S)},()=>C?m.complete():m.error(y())))})}function ht(){return new mn}function Rt(y,T){const m=arguments.length>=2;return C=>C.pipe(y?(0,oe.h)((S,k)=>y(S,k,C)):Re.y,X(1),m?me(T):Ae(()=>new mn))}var _n=V(6328),Ze=V(9397);function Gt(y){return(0,nr.e)((T,m)=>{let k,C=null,S=!1;C=T.subscribe((0,Je.x)(m,void 0,void 0,L=>{k=(0,ye.Xf)(y(L,Gt(y)(T))),C?(C.unsubscribe(),C=null,k.subscribe(m)):S=!0})),S&&(C.unsubscribe(),C=null,k.subscribe(m))})}function Nn(y){return y<=0?()=>Me.E:(0,nr.e)((T,m)=>{let C=[];T.subscribe((0,Je.x)(m,S=>{C.push(S),y<C.length&&C.shift()},()=>{for(const S of C)m.next(S);m.complete()},void 0,()=>{C=null}))})}var Pr=V(4716),qn=V(2420),Bd=V(6593);const mt="primary",Mi=Symbol("RouteTitle");class Jt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const m=this.params[T];return Array.isArray(m)?m[0]:m}return null}getAll(T){if(this.has(T)){const m=this.params[T];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function mr(y){return new Jt(y)}function Nt(y,T,m){const C=m.path.split("/");if(C.length>y.length||"full"===m.pathMatch&&(T.hasChildren()||C.length<y.length))return null;const S={};for(let k=0;k<C.length;k++){const L=C[k],Y=y[k];if(L.startsWith(":"))S[L.substring(1)]=Y;else if(L!==Y.path)return null}return{consumed:y.slice(0,C.length),posParams:S}}function Br(y,T){const m=y?Object.keys(y):void 0,C=T?Object.keys(T):void 0;if(!m||!C||m.length!=C.length)return!1;let S;for(let k=0;k<m.length;k++)if(S=m[k],!to(y[S],T[S]))return!1;return!0}function to(y,T){if(Array.isArray(y)&&Array.isArray(T)){if(y.length!==T.length)return!1;const m=[...y].sort(),C=[...T].sort();return m.every((S,k)=>C[k]===S)}return y===T}function Ii(y){return y.length>0?y[y.length-1]:null}function _r(y){return function fe(y){return!!y&&(y instanceof E.y||(0,_e.m)(y.lift)&&(0,_e.m)(y.subscribe))}(y)?y:(0,b.QGY)(y)?(0,ne.D)(Promise.resolve(y)):(0,ue.of)(y)}const rr={exact:function Ke(y,T,m){if(!vt(y.segments,T.segments)||!Xi(y.segments,T.segments,m)||y.numberOfChildren!==T.numberOfChildren)return!1;for(const C in T.children)if(!y.children[C]||!Ke(y.children[C],T.children[C],m))return!1;return!0},subset:Is},Vs={exact:function Lu(y,T){return Br(y,T)},subset:function Lo(y,T){return Object.keys(T).length<=Object.keys(y).length&&Object.keys(T).every(m=>to(y[m],T[m]))},ignored:()=>!0};function Cn(y,T,m){return rr[m.paths](y.root,T.root,m.matrixParams)&&Vs[m.queryParams](y.queryParams,T.queryParams)&&!("exact"===m.fragment&&y.fragment!==T.fragment)}function Is(y,T,m){return lr(y,T,T.segments,m)}function lr(y,T,m,C){if(y.segments.length>m.length){const S=y.segments.slice(0,m.length);return!(!vt(S,m)||T.hasChildren()||!Xi(S,m,C))}if(y.segments.length===m.length){if(!vt(y.segments,m)||!Xi(y.segments,m,C))return!1;for(const S in T.children)if(!y.children[S]||!Is(y.children[S],T.children[S],C))return!1;return!0}{const S=m.slice(0,y.segments.length),k=m.slice(y.segments.length);return!!(vt(y.segments,S)&&Xi(y.segments,S,C)&&y.children[mt])&&lr(y.children[mt],T,k,C)}}function Xi(y,T,m){return T.every((C,S)=>Vs[m](y[S].parameters,C.parameters))}class no{constructor(T=new et([],{}),m={},C=null){this.root=T,this.queryParams=m,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return Vu.serialize(this)}}class et{constructor(T,m){this.segments=T,this.children=m,this.parent=null,Object.values(m).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ce(this)}}class jr{constructor(T,m){this.path=T,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=mr(this.parameters)),this._parameterMap}toString(){return zt(this)}}function vt(y,T){return y.length===T.length&&y.every((m,C)=>m.path===T[C].path)}let Ji=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:function(){return new Ta},providedIn:"root"})}return y})();class Ta{parse(T){const m=new Wl(T);return new no(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(T){const m=`/${q(T.root,!0)}`,C=function xi(y){const T=Object.keys(y).map(m=>{const C=y[m];return Array.isArray(C)?C.map(S=>`${H(m)}=${H(S)}`).join("&"):`${H(m)}=${H(C)}`}).filter(m=>!!m);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${m}${C}${"string"==typeof T.fragment?`#${function pe(y){return encodeURI(y)}(T.fragment)}`:""}`}}const Vu=new Ta;function ce(y){return y.segments.map(T=>zt(T)).join("/")}function q(y,T){if(!y.hasChildren())return ce(y);if(T){const m=y.children[mt]?q(y.children[mt],!1):"",C=[];return Object.entries(y.children).forEach(([S,k])=>{S!==mt&&C.push(`${S}:${q(k,!1)}`)}),C.length>0?`${m}(${C.join("//")})`:m}{const m=function Vo(y,T){let m=[];return Object.entries(y.children).forEach(([C,S])=>{C===mt&&(m=m.concat(T(S,C)))}),Object.entries(y.children).forEach(([C,S])=>{C!==mt&&(m=m.concat(T(S,C)))}),m}(y,(C,S)=>S===mt?[q(y.children[mt],!1)]:[`${S}:${q(C,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[mt]?`${ce(y)}/${m[0]}`:`${ce(y)}/(${m.join("//")})`}}function j(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function H(y){return j(y).replace(/%3B/gi,";")}function We(y){return j(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function st(y){return decodeURIComponent(y)}function Bt(y){return st(y.replace(/\+/g,"%20"))}function zt(y){return`${We(y.path)}${function On(y){return Object.keys(y).map(T=>`;${We(T)}=${We(y[T])}`).join("")}(y.parameters)}`}const es=/^[^\/()?;#]+/;function wa(y){const T=y.match(es);return T?T[0]:""}const zl=/^[^\/()?;=#]+/,jd=/^[^=?&#]+/,$d=/^[^&#]+/;class Wl{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new et([],{}):new et([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(T.length>0||Object.keys(m).length>0)&&(C[mt]=new et(T,m)),C}parseSegment(){const T=wa(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(T),new jr(st(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const m=function ro(y){const T=y.match(zl);return T?T[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const S=wa(this.remaining);S&&(C=S,this.capture(C))}T[st(m)]=st(C)}parseQueryParam(T){const m=function Ni(y){const T=y.match(jd);return T?T[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const L=function cr(y){const T=y.match($d);return T?T[0]:""}(this.remaining);L&&(C=L,this.capture(C))}const S=Bt(m),k=Bt(C);if(T.hasOwnProperty(S)){let L=T[S];Array.isArray(L)||(L=[L],T[S]=L),L.push(k)}else T[S]=k}parseParens(T){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=wa(this.remaining),S=this.remaining[C.length];if("/"!==S&&")"!==S&&";"!==S)throw new b.vHH(4010,!1);let k;C.indexOf(":")>-1?(k=C.slice(0,C.indexOf(":")),this.capture(k),this.capture(":")):T&&(k=mt);const L=this.parseChildren();m[k]=1===Object.keys(L).length?L[mt]:new et([],L),this.consumeOptional("//")}return m}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new b.vHH(4011,!1)}}function Wt(y){return y.segments.length>0?new et([],{[mt]:y}):y}function $r(y){const T={};for(const C of Object.keys(y.children)){const k=$r(y.children[C]);if(C===mt&&0===k.segments.length&&k.hasChildren())for(const[L,Y]of Object.entries(k.children))T[L]=Y;else(k.segments.length>0||k.hasChildren())&&(T[C]=k)}return function Hr(y){if(1===y.numberOfChildren&&y.children[mt]){const T=y.children[mt];return new et(y.segments.concat(T.segments),T.children)}return y}(new et(y.segments,T))}function Ti(y){return y instanceof no}function ql(y){let T;const S=Wt(function m(k){const L={};for(const K of k.children){const xe=m(K);L[K.outlet]=xe}const Y=new et(k.url,L);return k===y&&(T=Y),Y}(y.root));return T??S}function Ca(y,T,m,C){let S=y;for(;S.parent;)S=S.parent;if(0===T.length)return ir(S,S,S,m,C);const k=function si(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new ut(!0,0,y);let T=0,m=!1;const C=y.reduce((S,k,L)=>{if("object"==typeof k&&null!=k){if(k.outlets){const Y={};return Object.entries(k.outlets).forEach(([K,xe])=>{Y[K]="string"==typeof xe?xe.split("/"):xe}),[...S,{outlets:Y}]}if(k.segmentPath)return[...S,k.segmentPath]}return"string"!=typeof k?[...S,k]:0===L?(k.split("/").forEach((Y,K)=>{0==K&&"."===Y||(0==K&&""===Y?m=!0:".."===Y?T++:""!=Y&&S.push(Y))}),S):[...S,k]},[]);return new ut(m,T,C)}(T);if(k.toRoot())return ir(S,S,new et([],{}),m,C);const L=function Gd(y,T,m){if(y.isAbsolute)return new Us(T,!0,0);if(!m)return new Us(T,!1,NaN);if(null===m.parent)return new Us(m,!0,0);const C=Gr(y.commands[0])?0:1;return function Da(y,T,m){let C=y,S=T,k=m;for(;k>S;){if(k-=S,C=C.parent,!C)throw new b.vHH(4005,!1);S=C.segments.length}return new Us(C,!1,S-k)}(m,m.segments.length-1+C,y.numberOfDoubleDots)}(k,S,y),Y=L.processChildren?ts(L.segmentGroup,L.index,k.commands):Ts(L.segmentGroup,L.index,k.commands);return ir(S,L.segmentGroup,Y,m,C)}function Gr(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Mr(y){return"object"==typeof y&&null!=y&&y.outlets}function ir(y,T,m,C,S){let L,k={};C&&Object.entries(C).forEach(([K,xe])=>{k[K]=Array.isArray(xe)?xe.map(dt=>`${dt}`):`${xe}`}),L=y===T?m:zr(y,T,m);const Y=Wt($r(L));return new no(Y,k,S)}function zr(y,T,m){const C={};return Object.entries(y.children).forEach(([S,k])=>{C[S]=k===T?m:zr(k,T,m)}),new et(y.segments,C)}class ut{constructor(T,m,C){if(this.isAbsolute=T,this.numberOfDoubleDots=m,this.commands=C,T&&C.length>0&&Gr(C[0]))throw new b.vHH(4003,!1);const S=C.find(Mr);if(S&&S!==Ii(C))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Us{constructor(T,m,C){this.segmentGroup=T,this.processChildren=m,this.index=C}}function Ts(y,T,m){if(y||(y=new et([],{})),0===y.segments.length&&y.hasChildren())return ts(y,T,m);const C=function Uo(y,T,m){let C=0,S=T;const k={match:!1,pathIndex:0,commandIndex:0};for(;S<y.segments.length;){if(C>=m.length)return k;const L=y.segments[S],Y=m[C];if(Mr(Y))break;const K=`${Y}`,xe=C<m.length-1?m[C+1]:null;if(S>0&&void 0===K)break;if(K&&xe&&"object"==typeof xe&&void 0===xe.outlets){if(!ki(K,xe,L))return k;C+=2}else{if(!ki(K,{},L))return k;C++}S++}return{match:!0,pathIndex:S,commandIndex:C}}(y,T,m),S=m.slice(C.commandIndex);if(C.match&&C.pathIndex<y.segments.length){const k=new et(y.segments.slice(0,C.pathIndex),{});return k.children[mt]=new et(y.segments.slice(C.pathIndex),y.children),ts(k,0,S)}return C.match&&0===S.length?new et(y.segments,{}):C.match&&!y.hasChildren()?io(y,T,m):C.match?ts(y,0,S):io(y,T,m)}function ts(y,T,m){if(0===m.length)return new et(y.segments,{});{const C=function Oi(y){return Mr(y[0])?y[0].outlets:{[mt]:y}}(m),S={};if(Object.keys(C).some(k=>k!==mt)&&y.children[mt]&&1===y.numberOfChildren&&0===y.children[mt].segments.length){const k=ts(y.children[mt],T,m);return new et(y.segments,k.children)}return Object.entries(C).forEach(([k,L])=>{"string"==typeof L&&(L=[L]),null!==L&&(S[k]=Ts(y.children[k],T,L))}),Object.entries(y.children).forEach(([k,L])=>{void 0===C[k]&&(S[k]=L)}),new et(y.segments,S)}}function io(y,T,m){const C=y.segments.slice(0,T);let S=0;for(;S<m.length;){const k=m[S];if(Mr(k)){const K=Uu(k.outlets);return new et(C,K)}if(0===S&&Gr(m[0])){C.push(new jr(y.segments[T].path,Bu(m[0]))),S++;continue}const L=Mr(k)?k.outlets[mt]:`${k}`,Y=S<m.length-1?m[S+1]:null;L&&Y&&Gr(Y)?(C.push(new jr(L,Bu(Y))),S+=2):(C.push(new jr(L,{})),S++)}return new et(C,{})}function Uu(y){const T={};return Object.entries(y).forEach(([m,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(T[m]=io(new et([],{}),0,C))}),T}function Bu(y){const T={};return Object.entries(y).forEach(([m,C])=>T[m]=`${C}`),T}function ki(y,T,m){return y==m.path&&Br(T,m.parameters)}const so="imperative";class wi{constructor(T,m){this.id=T,this.url=m}}class Aa extends wi{constructor(T,m,C="imperative",S=null){super(T,m),this.type=0,this.navigationTrigger=C,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ns extends wi{constructor(T,m,C){super(T,m),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yr extends wi{constructor(T,m,C,S){super(T,m),this.reason=C,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bs extends wi{constructor(T,m,C,S){super(T,m),this.reason=C,this.code=S,this.type=16}}class vr extends wi{constructor(T,m,C,S){super(T,m),this.error=C,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ba extends wi{constructor(T,m,C,S){super(T,m),this.urlAfterRedirects=C,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ju extends wi{constructor(T,m,C,S){super(T,m),this.urlAfterRedirects=C,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $u extends wi{constructor(T,m,C,S,k){super(T,m),this.urlAfterRedirects=C,this.state=S,this.shouldActivate=k,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kl extends wi{constructor(T,m,C,S){super(T,m),this.urlAfterRedirects=C,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yl extends wi{constructor(T,m,C,S){super(T,m),this.urlAfterRedirects=C,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ql{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sa{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ra{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zl{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xl{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hu{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(T,m,C){this.routerEvent=T,this.position=m,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fi{}class Pa{constructor(T){this.url=T}}class yp{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Li,this.attachRef=null}}let Li=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,C){const S=this.getOrCreateContext(m);S.outlet=C,this.contexts.set(m,S)}onChildOutletDestroyed(m){const C=this.getContext(m);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let C=this.getContext(m);return C||(C=new yp,this.contexts.set(m,C)),C}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class ws{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const m=this.pathFromRoot(T);return m.length>1?m[m.length-2]:null}children(T){const m=oo(T,this._root);return m?m.children.map(C=>C.value):[]}firstChild(T){const m=oo(T,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(T){const m=Ct(T,this._root);return m.length<2?[]:m[m.length-2].children.map(S=>S.value).filter(S=>S!==T)}pathFromRoot(T){return Ct(T,this._root).map(m=>m.value)}}function oo(y,T){if(y===T.value)return T;for(const m of T.children){const C=oo(y,m);if(C)return C}return null}function Ct(y,T){if(y===T.value)return[T];for(const m of T.children){const C=Ct(y,m);if(C.length)return C.unshift(T),C}return[]}class dn{constructor(T,m){this.value=T,this.children=m}toString(){return`TreeNode(${this.value})`}}function yn(y){const T={};return y&&y.children.forEach(m=>T[m.value.outlet]=m),T}class rs extends ws{constructor(T,m){super(T),this.snapshot=m,Be(this,T)}toString(){return this.snapshot.toString()}}function oi(y,T){const m=function vp(y,T){const L=new Gu([],{},{},"",{},mt,T,null,{});return new Pn("",new dn(L,[]))}(0,T),C=new be.X([new jr("",{})]),S=new be.X({}),k=new be.X({}),L=new be.X({}),Y=new be.X(""),K=new ao(C,S,L,Y,k,mt,T,m.root);return K.snapshot=m.root,new rs(new dn(K,[]),m)}class ao{constructor(T,m,C,S,k,L,Y,K){this.urlSubject=T,this.paramsSubject=m,this.queryParamsSubject=C,this.fragmentSubject=S,this.dataSubject=k,this.outlet=L,this.component=Y,this._futureSnapshot=K,this.title=this.dataSubject?.pipe((0,ke.U)(xe=>xe[Mi]))??(0,ue.of)(void 0),this.url=T,this.params=m,this.queryParams=C,this.fragment=S,this.data=k}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ke.U)(T=>mr(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ke.U)(T=>mr(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bo(y,T="emptyOnly"){const m=y.pathFromRoot;let C=0;if("always"!==T)for(C=m.length-1;C>=1;){const S=m[C],k=m[C-1];if(S.routeConfig&&""===S.routeConfig.path)C--;else{if(k.component)break;C--}}return function Ep(y){return y.reduce((T,m)=>({params:{...T.params,...m.params},data:{...T.data,...m.data},resolve:{...m.data,...T.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(C))}class Gu{get title(){return this.data?.[Mi]}constructor(T,m,C,S,k,L,Y,K,xe){this.url=T,this.params=m,this.queryParams=C,this.fragment=S,this.data=k,this.outlet=L,this.component=Y,this.routeConfig=K,this._resolve=xe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pn extends ws{constructor(T,m){super(m),this.url=T,Be(this,m)}toString(){return ft(this._root)}}function Be(y,T){T.value._routerState=y,T.children.forEach(m=>Be(y,m))}function ft(y){const T=y.children.length>0?` { ${y.children.map(ft).join(", ")} } `:"";return`${y.value}${T}`}function vn(y){if(y.snapshot){const T=y.snapshot,m=y._futureSnapshot;y.snapshot=m,Br(T.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),T.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),Br(T.params,m.params)||y.paramsSubject.next(m.params),function wt(y,T){if(y.length!==T.length)return!1;for(let m=0;m<y.length;++m)if(!Br(y[m],T[m]))return!1;return!0}(T.url,m.url)||y.urlSubject.next(m.url),Br(T.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Ci(y,T){const m=Br(y.params,T.params)&&function Ia(y,T){return vt(y,T)&&y.every((m,C)=>Br(m.parameters,T[C].parameters))}(y.url,T.url);return m&&!(!y.parent!=!T.parent)&&(!y.parent||Ci(y.parent,T.parent))}let jo=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=mt,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Li),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(ai,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:C,previousValue:S}=m.name;if(C)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,C){this.activated=m,this._activatedRoute=C,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,C){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=m;const S=this.location,L=m.snapshot.component,Y=this.parentContexts.getOrCreateContext(this.name).children,K=new Un(m,Y,S.injector);this.activated=S.createComponent(L,{index:S.length,injector:K,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275dir=b.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return y})();class Un{constructor(T,m,C){this.route=T,this.childContexts=m,this.parent=C}get(T,m){return T===ao?this.route:T===Li?this.childContexts:this.parent.get(T,m)}}const ai=new b.OlP("");let rn=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:C}=m,S=tt([C.queryParams,C.params,C.data]).pipe((0,_t.w)(([k,L,Y],K)=>(Y={...k,...L,...Y},0===K?(0,ue.of)(Y):Promise.resolve(Y)))).subscribe(k=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(m);const L=(0,b.qFp)(C.component);if(L)for(const{templateName:Y}of L.inputs)m.activatedComponentRef.setInput(Y,k[Y]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,S)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac})}return y})();function ui(y,T,m){if(m&&y.shouldReuseRoute(T.value,m.value.snapshot)){const C=m.value;C._futureSnapshot=T.value;const S=function gt(y,T,m){return T.children.map(C=>{for(const S of m.children)if(y.shouldReuseRoute(C.value,S.value.snapshot))return ui(y,C,S);return ui(y,C)})}(y,T,m);return new dn(C,S)}{if(y.shouldAttach(T.value)){const k=y.retrieve(T.value);if(null!==k){const L=k.route;return L.value._futureSnapshot=T.value,L.children=T.children.map(Y=>ui(y,Y)),L}}const C=function is(y){return new ao(new be.X(y.url),new be.X(y.params),new be.X(y.queryParams),new be.X(y.fragment),new be.X(y.data),y.outlet,y.component,y)}(T.value),S=T.children.map(k=>ui(y,k));return new dn(C,S)}}const zu="ngNavigationCancelingError";function Vi(y,T){const{redirectTo:m,navigationBehaviorOptions:C}=Ti(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,S=Dn(!1,0,T);return S.url=m,S.navigationBehaviorOptions=C,S}function Dn(y,T,m){const C=new Error("NavigationCancelingError: "+(y||""));return C[zu]=!0,C.cancellationCode=T,m&&(C.url=m),C}function Wr(y){return y&&y[zu]}let Er=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275cmp=b.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(C,S){1&C&&b._UZ(0,"router-outlet")},dependencies:[jo],encapsulation:2})}return y})();function co(y){const T=y.children&&y.children.map(co),m=T?{...y,children:T}:{...y};return!m.component&&!m.loadComponent&&(T||m.loadChildren)&&m.outlet&&m.outlet!==mt&&(m.component=Er),m}function Bn(y){return y.outlet||mt}function qr(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let T=y.parent;T;T=T.parent){const m=T.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Wd{constructor(T,m,C,S,k){this.routeReuseStrategy=T,this.futureState=m,this.currState=C,this.forwardEvent=S,this.inputBindingEnabled=k}activate(T){const m=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,C,T),vn(this.futureState.root),this.activateChildRoutes(m,C,T)}deactivateChildRoutes(T,m,C){const S=yn(m);T.children.forEach(k=>{const L=k.value.outlet;this.deactivateRoutes(k,S[L],C),delete S[L]}),Object.values(S).forEach(k=>{this.deactivateRouteAndItsChildren(k,C)})}deactivateRoutes(T,m,C){const S=T.value,k=m?m.value:null;if(S===k)if(S.component){const L=C.getContext(S.outlet);L&&this.deactivateChildRoutes(T,m,L.children)}else this.deactivateChildRoutes(T,m,C);else k&&this.deactivateRouteAndItsChildren(m,C)}deactivateRouteAndItsChildren(T,m){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,m):this.deactivateRouteAndOutlet(T,m)}detachAndStoreRouteSubtree(T,m){const C=m.getContext(T.value.outlet),S=C&&T.value.component?C.children:m,k=yn(T);for(const L of Object.keys(k))this.deactivateRouteAndItsChildren(k[L],S);if(C&&C.outlet){const L=C.outlet.detach(),Y=C.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:L,route:T,contexts:Y})}}deactivateRouteAndOutlet(T,m){const C=m.getContext(T.value.outlet),S=C&&T.value.component?C.children:m,k=yn(T);for(const L of Object.keys(k))this.deactivateRouteAndItsChildren(k[L],S);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(T,m,C){const S=yn(m);T.children.forEach(k=>{this.activateRoutes(k,S[k.value.outlet],C),this.forwardEvent(new Hu(k.value.snapshot))}),T.children.length&&this.forwardEvent(new Zl(T.value.snapshot))}activateRoutes(T,m,C){const S=T.value,k=m?m.value:null;if(vn(S),S===k)if(S.component){const L=C.getOrCreateContext(S.outlet);this.activateChildRoutes(T,m,L.children)}else this.activateChildRoutes(T,m,C);else if(S.component){const L=C.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const Y=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),L.children.onOutletReAttached(Y.contexts),L.attachRef=Y.componentRef,L.route=Y.route.value,L.outlet&&L.outlet.attach(Y.componentRef,Y.route.value),vn(Y.route.value),this.activateChildRoutes(T,null,L.children)}else{const Y=qr(S.snapshot);L.attachRef=null,L.route=S,L.injector=Y,L.outlet&&L.outlet.activateWith(S,L.injector),this.activateChildRoutes(T,null,L.children)}}else this.activateChildRoutes(T,null,C)}}class Ir{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Kn{constructor(T,m){this.component=T,this.route=m}}function Jl(y,T,m){const C=y._root;return fr(C,T?T._root:null,m,[C.value])}function qt(y,T){const m=Symbol(),C=T.get(y,m);return C===m?"function"!=typeof y||(0,b.Z0I)(y)?T.get(y):y:C}function fr(y,T,m,C,S={canDeactivateChecks:[],canActivateChecks:[]}){const k=yn(T);return y.children.forEach(L=>{(function qd(y,T,m,C,S={canDeactivateChecks:[],canActivateChecks:[]}){const k=y.value,L=T?T.value:null,Y=m?m.getContext(y.value.outlet):null;if(L&&k.routeConfig===L.routeConfig){const K=function ry(y,T,m){if("function"==typeof m)return m(y,T);switch(m){case"pathParamsChange":return!vt(y.url,T.url);case"pathParamsOrQueryParamsChange":return!vt(y.url,T.url)||!Br(y.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ci(y,T)||!Br(y.queryParams,T.queryParams);default:return!Ci(y,T)}}(L,k,k.routeConfig.runGuardsAndResolvers);K?S.canActivateChecks.push(new Ir(C)):(k.data=L.data,k._resolvedData=L._resolvedData),fr(y,T,k.component?Y?Y.children:null:m,C,S),K&&Y&&Y.outlet&&Y.outlet.isActivated&&S.canDeactivateChecks.push(new Kn(Y.outlet.component,L))}else L&&fo(T,Y,S),S.canActivateChecks.push(new Ir(C)),fr(y,null,k.component?Y?Y.children:null:m,C,S)})(L,k[L.value.outlet],m,C.concat([L.value]),S),delete k[L.value.outlet]}),Object.entries(k).forEach(([L,Y])=>fo(Y,m.getContext(L),S)),S}function fo(y,T,m){const C=yn(y),S=y.value;Object.entries(C).forEach(([k,L])=>{fo(L,S.component?T?T.children.getContext(k):null:T,m)}),m.canDeactivateChecks.push(new Kn(S.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,S))}function Ku(y){return"function"==typeof y}function tc(y){return y instanceof mn||"EmptyError"===y?.name}const as=Symbol("INITIAL_VALUE");function Ds(){return(0,_t.w)(y=>tt(y.map(T=>T.pipe(X(1),function te(...y){const T=(0,se.yG)(y);return(0,nr.e)((m,C)=>{(T?Ce(y,m,T):Ce(y,m)).subscribe(C)})}(as)))).pipe((0,ke.U)(T=>{for(const m of T)if(!0!==m){if(m===as)return as;if(!1===m||m instanceof no)return m}return!0}),(0,oe.h)(T=>T!==as),X(1)))}function us(y){return(0,ct.z)((0,Ze.b)(T=>{if(Ti(T))throw Vi(0,T)}),(0,ke.U)(T=>!0===T))}class go{constructor(T){this.segmentGroup=T||null}}class sr{constructor(T){this.urlTree=T}}function ls(y){return He(new go(y))}function li(y){return He(new sr(y))}class Qd{constructor(T,m){this.urlSerializer=T,this.urlTree=m}noMatchError(T){return new b.vHH(4002,!1)}lineralizeSegments(T,m){let C=[],S=m.root;for(;;){if(C=C.concat(S.segments),0===S.numberOfChildren)return(0,ue.of)(C);if(S.numberOfChildren>1||!S.children[mt])return He(new b.vHH(4e3,!1));S=S.children[mt]}}applyRedirectCommands(T,m,C){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),T,C)}applyRedirectCreateUrlTree(T,m,C,S){const k=this.createSegmentGroup(T,m.root,C,S);return new no(k,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(T,m){const C={};return Object.entries(T).forEach(([S,k])=>{if("string"==typeof k&&k.startsWith(":")){const Y=k.substring(1);C[S]=m[Y]}else C[S]=k}),C}createSegmentGroup(T,m,C,S){const k=this.createSegments(T,m.segments,C,S);let L={};return Object.entries(m.children).forEach(([Y,K])=>{L[Y]=this.createSegmentGroup(T,K,C,S)}),new et(k,L)}createSegments(T,m,C,S){return m.map(k=>k.path.startsWith(":")?this.findPosParam(T,k,S):this.findOrReturn(k,C))}findPosParam(T,m,C){const S=C[m.path.substring(1)];if(!S)throw new b.vHH(4001,!1);return S}findOrReturn(T,m){let C=0;for(const S of m){if(S.path===T.path)return m.splice(C),S;C++}return T}}const Go={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zu(y,T,m,C,S){const k=Na(y,T,m);return k.matched?(C=function Wu(y,T){return y.providers&&!y._injector&&(y._injector=(0,b.MMx)(y.providers,T,`Route: ${y.path}`)),y._injector??T}(T,C),function ic(y,T,m,C){const S=T.canMatch;if(!S||0===S.length)return(0,ue.of)(!0);const k=S.map(L=>{const Y=qt(L,y);return _r(function Yu(y){return y&&Ku(y.canMatch)}(Y)?Y.canMatch(T,m):y.runInContext(()=>Y(T,m)))});return(0,ue.of)(k).pipe(Ds(),us())}(C,T,m).pipe((0,ke.U)(L=>!0===L?k:{...Go}))):(0,ue.of)(k)}function Na(y,T,m){if(""===T.path)return"full"===T.pathMatch&&(y.hasChildren()||m.length>0)?{...Go}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const S=(T.matcher||Nt)(m,y,T);if(!S)return{...Go};const k={};Object.entries(S.posParams??{}).forEach(([Y,K])=>{k[Y]=K.path});const L=S.consumed.length>0?{...k,...S.consumed[S.consumed.length-1].parameters}:k;return{matched:!0,consumedSegments:S.consumed,remainingSegments:m.slice(S.consumed.length),parameters:L,positionalParamSegments:S.posParams??{}}}function zo(y,T,m,C){return m.length>0&&function Zd(y,T,m){return m.some(C=>mo(y,T,C)&&Bn(C)!==mt)}(y,m,C)?{segmentGroup:new et(T,oc(C,new et(m,y.children))),slicedSegments:[]}:0===m.length&&function Wo(y,T,m){return m.some(C=>mo(y,T,C))}(y,m,C)?{segmentGroup:new et(y.segments,sc(y,0,m,C,y.children)),slicedSegments:m}:{segmentGroup:new et(y.segments,y.children),slicedSegments:m}}function sc(y,T,m,C,S){const k={};for(const L of C)if(mo(y,m,L)&&!S[Bn(L)]){const Y=new et([],{});k[Bn(L)]=Y}return{...S,...k}}function oc(y,T){const m={};m[mt]=T;for(const C of y)if(""===C.path&&Bn(C)!==mt){const S=new et([],{});m[Bn(C)]=S}return m}function mo(y,T,m){return(!(y.hasChildren()||T.length>0)||"full"!==m.pathMatch)&&""===m.path}class Oa{constructor(T,m,C,S,k,L,Y){this.injector=T,this.configLoader=m,this.rootComponentType=C,this.config=S,this.urlTree=k,this.paramsInheritanceStrategy=L,this.urlSerializer=Y,this.allowRedirects=!0,this.applyRedirects=new Qd(this.urlSerializer,this.urlTree)}noMatchError(T){return new b.vHH(4002,!1)}recognize(){const T=zo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,mt).pipe(Gt(m=>{if(m instanceof sr)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof go?this.noMatchError(m):m}),(0,ke.U)(m=>{const C=new Gu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,{}),S=new dn(C,m),k=new Pn("",S),L=function Hd(y,T,m=null,C=null){return Ca(ql(y),T,m,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return L.queryParams=this.urlTree.queryParams,k.url=this.urlSerializer.serialize(L),this.inheritParamsAndData(k._root),{state:k,tree:L}}))}match(T){return this.processSegmentGroup(this.injector,this.config,T.root,mt).pipe(Gt(C=>{throw C instanceof go?this.noMatchError(C):C}))}inheritParamsAndData(T){const m=T.value,C=Bo(m,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data),T.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(T,m,C,S){return 0===C.segments.length&&C.hasChildren()?this.processChildren(T,m,C):this.processSegment(T,m,C,C.segments,S,!0)}processChildren(T,m,C){const S=[];for(const k of Object.keys(C.children))"primary"===k?S.unshift(k):S.push(k);return(0,ne.D)(S).pipe((0,_n.b)(k=>{const L=C.children[k],Y=function ho(y,T){const m=y.filter(C=>Bn(C)===T);return m.push(...y.filter(C=>Bn(C)!==T)),m}(m,k);return this.processSegmentGroup(T,Y,L,k)}),function Rn(y,T){return(0,nr.e)(function Vn(y,T,m,C,S){return(k,L)=>{let Y=m,K=T,xe=0;k.subscribe((0,Je.x)(L,dt=>{const en=xe++;K=Y?y(K,dt,en):(Y=!0,dt),C&&L.next(K)},S&&(()=>{Y&&L.next(K),L.complete()})))}}(y,T,arguments.length>=2,!0))}((k,L)=>(k.push(...L),k)),me(null),function ii(y,T){const m=arguments.length>=2;return C=>C.pipe(y?(0,oe.h)((S,k)=>y(S,k,C)):Re.y,Nn(1),m?me(T):Ae(()=>new mn))}(),(0,re.z)(k=>{if(null===k)return ls(C);const L=x(k);return function oy(y){y.sort((T,m)=>T.value.outlet===mt?-1:m.value.outlet===mt?1:T.value.outlet.localeCompare(m.value.outlet))}(L),(0,ue.of)(L)}))}processSegment(T,m,C,S,k,L){return(0,ne.D)(m).pipe((0,_n.b)(Y=>this.processSegmentAgainstRoute(Y._injector??T,m,Y,C,S,k,L).pipe(Gt(K=>{if(K instanceof go)return(0,ue.of)(null);throw K}))),Rt(Y=>!!Y),Gt(Y=>{if(tc(Y))return function qo(y,T,m){return 0===T.length&&!y.children[m]}(C,S,k)?(0,ue.of)([]):ls(C);throw Y}))}processSegmentAgainstRoute(T,m,C,S,k,L,Y){return function _o(y,T,m,C){return!!(Bn(y)===C||C!==mt&&mo(T,m,y))&&("**"===y.path||Na(T,y,m).matched)}(C,S,k,L)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(T,S,C,k,L,Y):Y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,S,m,C,k,L):ls(S):ls(S)}expandSegmentAgainstRouteUsingRedirect(T,m,C,S,k,L){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,C,S,L):this.expandRegularSegmentAgainstRouteUsingRedirect(T,m,C,S,k,L)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,m,C,S){const k=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?li(k):this.applyRedirects.lineralizeSegments(C,k).pipe((0,re.z)(L=>{const Y=new et(L,{});return this.processSegment(T,m,Y,L,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,m,C,S,k,L){const{matched:Y,consumedSegments:K,remainingSegments:xe,positionalParamSegments:dt}=Na(m,S,k);if(!Y)return ls(m);const en=this.applyRedirects.applyRedirectCommands(K,S.redirectTo,dt);return S.redirectTo.startsWith("/")?li(en):this.applyRedirects.lineralizeSegments(S,en).pipe((0,re.z)(Ot=>this.processSegment(T,C,m,Ot.concat(xe),L,!1)))}matchSegmentAgainstRoute(T,m,C,S,k,L){let Y;if("**"===C.path){const K=S.length>0?Ii(S).parameters:{},xe=new Gu(S,K,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(C),Bn(C),C.component??C._loadedComponent??null,C,B(C));Y=(0,ue.of)({snapshot:xe,consumedSegments:[],remainingSegments:[]}),m.children={}}else Y=Zu(m,C,S,T).pipe((0,ke.U)(({matched:K,consumedSegments:xe,remainingSegments:dt,parameters:en})=>K?{snapshot:new Gu(xe,en,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(C),Bn(C),C.component??C._loadedComponent??null,C,B(C)),consumedSegments:xe,remainingSegments:dt}:null));return Y.pipe((0,_t.w)(K=>null===K?ls(m):this.getChildConfig(T=C._injector??T,C,S).pipe((0,_t.w)(({routes:xe})=>{const dt=C._loadedInjector??T,{snapshot:en,consumedSegments:Ot,remainingSegments:Bi}=K,{segmentGroup:kn,slicedSegments:Gs}=zo(m,Ot,Bi,xe);if(0===Gs.length&&kn.hasChildren())return this.processChildren(dt,xe,kn).pipe((0,ke.U)(el=>null===el?null:[new dn(en,el)]));if(0===xe.length&&0===Gs.length)return(0,ue.of)([new dn(en,[])]);const rh=Bn(C)===k;return this.processSegment(dt,xe,kn,Gs,rh?mt:k,!0).pipe((0,ke.U)(el=>[new dn(en,el)]))}))))}getChildConfig(T,m,C){return m.children?(0,ue.of)({routes:m.children,injector:T}):m.loadChildren?void 0!==m._loadedRoutes?(0,ue.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function po(y,T,m,C){const S=T.canLoad;if(void 0===S||0===S.length)return(0,ue.of)(!0);const k=S.map(L=>{const Y=qt(L,y);return _r(function ec(y){return y&&Ku(y.canLoad)}(Y)?Y.canLoad(T,m):y.runInContext(()=>Y(T,m)))});return(0,ue.of)(k).pipe(Ds(),us())}(T,m,C).pipe((0,re.z)(S=>S?this.configLoader.loadChildren(T,m).pipe((0,Ze.b)(k=>{m._loadedRoutes=k.routes,m._loadedInjector=k.injector})):function Qu(y){return He(Dn(!1,3))}())):(0,ue.of)({routes:[],injector:T})}}function I(y){const T=y.value.routeConfig;return T&&""===T.path}function x(y){const T=[],m=new Set;for(const C of y){if(!I(C)){T.push(C);continue}const S=T.find(k=>C.value.routeConfig===k.value.routeConfig);void 0!==S?(S.children.push(...C.children),m.add(S)):T.push(C)}for(const C of m){const S=x(C.children);T.push(new dn(C.value,S))}return T.filter(C=>!m.has(C))}function M(y){return y.data||{}}function B(y){return y.resolve||{}}function It(y){return"string"==typeof y.title||null===y.title}function fn(y){return(0,_t.w)(T=>{const m=y(T);return m?(0,ne.D)(m).pipe((0,ke.U)(()=>T)):(0,ue.of)(T)})}const $t=new b.OlP("ROUTES");let on=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ue.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const C=_r(m.loadComponent()).pipe((0,ke.U)(js),(0,Ze.b)(k=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=k}),(0,Pr.x)(()=>{this.componentLoaders.delete(m)})),S=new ri(C,()=>new Oe.x).pipe(Ei());return this.componentLoaders.set(m,S),S}loadChildren(m,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,ue.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const k=function As(y,T,m,C){return _r(y.loadChildren()).pipe((0,ke.U)(js),(0,re.z)(S=>S instanceof b.YKP||Array.isArray(S)?(0,ue.of)(S):(0,ne.D)(T.compileModuleAsync(S))),(0,ke.U)(S=>{C&&C(y);let k,L,Y=!1;return Array.isArray(S)?(L=S,!0):(k=S.create(m).injector,L=k.get($t,[],{optional:!0,self:!0}).flat()),{routes:L.map(co),injector:k}}))}(C,this.compiler,m,this.onLoadEndListener).pipe((0,Pr.x)(()=>{this.childrenLoaders.delete(C)})),L=new ri(k,()=>new Oe.x).pipe(Ei());return this.childrenLoaders.set(C,L),L}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function js(y){return function Ui(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let pr=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Oe.x,this.transitionAbortSubject=new Oe.x,this.configLoader=(0,b.f3M)(on),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Ji),this.rootContexts=(0,b.f3M)(Li),this.inputBindingEnabled=null!==(0,b.f3M)(ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ue.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new Sa(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new Ql(S))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:C})}setupNavigations(m,C,S){return this.transitions=new be.X({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:m.urlHandlingStrategy.extract(C),urlAfterRedirects:m.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:so,restoredState:null,currentSnapshot:S.snapshot,targetSnapshot:null,currentRouterState:S,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,oe.h)(k=>0!==k.id),(0,ke.U)(k=>({...k,extractedUrl:m.urlHandlingStrategy.extract(k.rawUrl)})),(0,_t.w)(k=>{this.currentTransition=k;let L=!1,Y=!1;return(0,ue.of)(k).pipe((0,Ze.b)(K=>{this.currentNavigation={id:K.id,initialUrl:K.rawUrl,extractedUrl:K.extractedUrl,trigger:K.source,extras:K.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_t.w)(K=>{const xe=K.currentBrowserUrl.toString(),dt=!m.navigated||K.extractedUrl.toString()!==xe||xe!==K.currentUrlTree.toString();if(!dt&&"reload"!==(K.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Ot="";return this.events.next(new Bs(K.id,this.urlSerializer.serialize(K.rawUrl),Ot,0)),K.resolve(null),Me.E}if(m.urlHandlingStrategy.shouldProcessUrl(K.rawUrl))return(0,ue.of)(K).pipe((0,_t.w)(Ot=>{const Bi=this.transitions?.getValue();return this.events.next(new Aa(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),Ot.source,Ot.restoredState)),Bi!==this.transitions?.getValue()?Me.E:Promise.resolve(Ot)}),function Z(y,T,m,C,S,k){return(0,re.z)(L=>function Xu(y,T,m,C,S,k,L="emptyOnly"){return new Oa(y,T,m,C,S,L,k).recognize()}(y,T,m,C,L.extractedUrl,S,k).pipe((0,ke.U)(({state:Y,tree:K})=>({...L,targetSnapshot:Y,urlAfterRedirects:K}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Ze.b)(Ot=>{k.targetSnapshot=Ot.targetSnapshot,k.urlAfterRedirects=Ot.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ot.urlAfterRedirects};const Bi=new ba(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(Bi)}));if(dt&&m.urlHandlingStrategy.shouldProcessUrl(K.currentRawUrl)){const{id:Ot,extractedUrl:Bi,source:kn,restoredState:Gs,extras:rh}=K,el=new Aa(Ot,this.urlSerializer.serialize(Bi),kn,Gs);this.events.next(el);const Yr=oi(0,this.rootComponentType).snapshot;return this.currentTransition=k={...K,targetSnapshot:Yr,urlAfterRedirects:Bi,extras:{...rh,skipLocationChange:!1,replaceUrl:!1}},(0,ue.of)(k)}{const Ot="";return this.events.next(new Bs(K.id,this.urlSerializer.serialize(K.extractedUrl),Ot,1)),K.resolve(null),Me.E}}),(0,Ze.b)(K=>{const xe=new ju(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(xe)}),(0,ke.U)(K=>(this.currentTransition=k={...K,guards:Jl(K.targetSnapshot,K.currentSnapshot,this.rootContexts)},k)),function sy(y,T){return(0,re.z)(m=>{const{targetSnapshot:C,currentSnapshot:S,guards:{canActivateChecks:k,canDeactivateChecks:L}}=m;return 0===L.length&&0===k.length?(0,ue.of)({...m,guardsResult:!0}):function wp(y,T,m,C){return(0,ne.D)(y).pipe((0,re.z)(S=>function rc(y,T,m,C,S){const k=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!k||0===k.length)return(0,ue.of)(!0);const L=k.map(Y=>{const K=qr(T)??S,xe=qt(Y,K);return _r(function iy(y){return y&&Ku(y.canDeactivate)}(xe)?xe.canDeactivate(y,T,m,C):K.runInContext(()=>xe(y,T,m,C))).pipe(Rt())});return(0,ue.of)(L).pipe(Ds())}(S.component,S.route,m,T,C)),Rt(S=>!0!==S,!0))}(L,C,S,y).pipe((0,re.z)(Y=>Y&&function Kd(y){return"boolean"==typeof y}(Y)?function Cp(y,T,m,C){return(0,ne.D)(T).pipe((0,_n.b)(S=>Ce(function Dp(y,T){return null!==y&&T&&T(new Ra(y)),(0,ue.of)(!0)}(S.route.parent,C),function nc(y,T){return null!==y&&T&&T(new Xl(y)),(0,ue.of)(!0)}(S.route,C),function Ap(y,T,m){const C=T[T.length-1],k=T.slice(0,T.length-1).reverse().map(L=>function Ho(y){const T=y.routeConfig?y.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:y,guards:T}:null}(L)).filter(L=>null!==L).map(L=>Qe(()=>{const Y=L.guards.map(K=>{const xe=qr(L.node)??m,dt=qt(K,xe);return _r(function zT(y){return y&&Ku(y.canActivateChild)}(dt)?dt.canActivateChild(C,y):xe.runInContext(()=>dt(C,y))).pipe(Rt())});return(0,ue.of)(Y).pipe(Ds())}));return(0,ue.of)(k).pipe(Ds())}(y,S.path,m),function WT(y,T,m){const C=T.routeConfig?T.routeConfig.canActivate:null;if(!C||0===C.length)return(0,ue.of)(!0);const S=C.map(k=>Qe(()=>{const L=qr(T)??m,Y=qt(k,L);return _r(function Tp(y){return y&&Ku(y.canActivate)}(Y)?Y.canActivate(T,y):L.runInContext(()=>Y(T,y))).pipe(Rt())}));return(0,ue.of)(S).pipe(Ds())}(y,S.route,m))),Rt(S=>!0!==S,!0))}(C,k,y,T):(0,ue.of)(Y)),(0,ke.U)(Y=>({...m,guardsResult:Y})))})}(this.environmentInjector,K=>this.events.next(K)),(0,Ze.b)(K=>{if(k.guardsResult=K.guardsResult,Ti(K.guardsResult))throw Vi(0,K.guardsResult);const xe=new $u(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot,!!K.guardsResult);this.events.next(xe)}),(0,oe.h)(K=>!!K.guardsResult||(this.cancelNavigationTransition(K,"",3),!1)),fn(K=>{if(K.guards.canActivateChecks.length)return(0,ue.of)(K).pipe((0,Ze.b)(xe=>{const dt=new Kl(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(dt)}),(0,_t.w)(xe=>{let dt=!1;return(0,ue.of)(xe).pipe(function de(y,T){return(0,re.z)(m=>{const{targetSnapshot:C,guards:{canActivateChecks:S}}=m;if(!S.length)return(0,ue.of)(m);let k=0;return(0,ne.D)(S).pipe((0,_n.b)(L=>function qe(y,T,m,C){const S=y.routeConfig,k=y._resolve;return void 0!==S?.title&&!It(S)&&(k[Mi]=S.title),function sn(y,T,m,C){const S=function hn(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===S.length)return(0,ue.of)({});const k={};return(0,ne.D)(S).pipe((0,re.z)(L=>function jt(y,T,m,C){const S=qr(T)??C,k=qt(y,S);return _r(k.resolve?k.resolve(T,m):S.runInContext(()=>k(T,m)))}(y[L],T,m,C).pipe(Rt(),(0,Ze.b)(Y=>{k[L]=Y}))),Nn(1),function wn(y){return(0,ke.U)(()=>y)}(k),Gt(L=>tc(L)?Me.E:He(L)))}(k,y,T,C).pipe((0,ke.U)(L=>(y._resolvedData=L,y.data=Bo(y,m).resolve,S&&It(S)&&(y.data[Mi]=S.title),null)))}(L.route,C,y,T)),(0,Ze.b)(()=>k++),Nn(1),(0,re.z)(L=>k===S.length?(0,ue.of)(m):Me.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Ze.b)({next:()=>dt=!0,complete:()=>{dt||this.cancelNavigationTransition(xe,"",2)}}))}),(0,Ze.b)(xe=>{const dt=new Yl(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(dt)}))}),fn(K=>{const xe=dt=>{const en=[];dt.routeConfig?.loadComponent&&!dt.routeConfig._loadedComponent&&en.push(this.configLoader.loadComponent(dt.routeConfig).pipe((0,Ze.b)(Ot=>{dt.component=Ot}),(0,ke.U)(()=>{})));for(const Ot of dt.children)en.push(...xe(Ot));return en};return tt(xe(K.targetSnapshot.root)).pipe(me(),X(1))}),fn(()=>this.afterPreactivation()),(0,ke.U)(K=>{const xe=function Di(y,T,m){const C=ui(y,T._root,m?m._root:void 0);return new rs(C,T)}(m.routeReuseStrategy,K.targetSnapshot,K.currentRouterState);return this.currentTransition=k={...K,targetRouterState:xe},k}),(0,Ze.b)(()=>{this.events.next(new Fi)}),((y,T,m,C)=>(0,ke.U)(S=>(new Wd(T,S.targetRouterState,S.currentRouterState,m,C).activate(y),S)))(this.rootContexts,m.routeReuseStrategy,K=>this.events.next(K),this.inputBindingEnabled),X(1),(0,Ze.b)({next:K=>{L=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ns(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects))),m.titleStrategy?.updateTitle(K.targetRouterState.snapshot),K.resolve(!0)},complete:()=>{L=!0}}),function at(y){return(0,nr.e)((T,m)=>{(0,ye.Xf)(y).subscribe((0,Je.x)(m,()=>m.complete(),qn.Z)),!m.closed&&T.subscribe(m)})}(this.transitionAbortSubject.pipe((0,Ze.b)(K=>{throw K}))),(0,Pr.x)(()=>{L||Y||this.cancelNavigationTransition(k,"",1),this.currentNavigation?.id===k.id&&(this.currentNavigation=null)}),Gt(K=>{if(Y=!0,Wr(K))this.events.next(new yr(k.id,this.urlSerializer.serialize(k.extractedUrl),K.message,K.cancellationCode)),function uo(y){return Wr(y)&&Ti(y.url)}(K)?this.events.next(new Pa(K.url)):k.resolve(!1);else{this.events.next(new vr(k.id,this.urlSerializer.serialize(k.extractedUrl),K,k.targetSnapshot??void 0));try{k.resolve(m.errorHandler(K))}catch(xe){k.reject(xe)}}return Me.E}))}))}cancelNavigationTransition(m,C,S){const k=new yr(m.id,this.urlSerializer.serialize(m.extractedUrl),C,S);this.events.next(k),m.resolve(!1)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function bs(y){return y!==so}let $s=(()=>{class y{buildTitle(m){let C,S=m.root;for(;void 0!==S;)C=this.getResolvedTitleForRoute(S)??C,S=S.children.find(k=>k.outlet===mt);return C}getResolvedTitleForRoute(m){return m.data[Mi]}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:function(){return(0,b.f3M)(cs)},providedIn:"root"})}return y})(),cs=(()=>{class y extends $s{constructor(m){super(),this.title=m}updateTitle(m){const C=this.buildTitle(m);void 0!==C&&this.title.setTitle(C)}static#e=this.\u0275fac=function(C){return new(C||y)(b.LFG(Bd.Dx))};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),ac=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:function(){return(0,b.f3M)(Rp)},providedIn:"root"})}return y})();class Sp{shouldDetach(T){return!1}store(T,m){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,m){return T.routeConfig===m.routeConfig}}let Rp=(()=>{class y extends Sp{static#e=this.\u0275fac=function(){let m;return function(S){return(m||(m=b.n5z(y)))(S||y)}}();static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const uc=new b.OlP("",{providedIn:"root",factory:()=>({})});let lc=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:function(){return(0,b.f3M)(Pp)},providedIn:"root"})}return y})(),Pp=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,C){return m}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var ka=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(ka||{});function cc(y,T){y.events.pipe((0,oe.h)(m=>m instanceof ns||m instanceof yr||m instanceof vr||m instanceof Bs),(0,ke.U)(m=>m instanceof ns||m instanceof Bs?ka.COMPLETE:m instanceof yr&&(0===m.code||1===m.code)?ka.REDIRECTING:ka.FAILED),(0,oe.h)(m=>m!==ka.REDIRECTING),X(1)).subscribe(()=>{T()})}function Mp(y){throw y}function Hs(y,T,m){return T.parse("/")}const ay={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pt=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new Oe.x,this.options=(0,b.f3M)(uc,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||Mp,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Hs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(lc),this.routeReuseStrategy=(0,b.f3M)(ac),this.titleStrategy=(0,b.f3M)($s),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)($t,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(pr),this.urlSerializer=(0,b.f3M)(Ji),this.location=(0,b.f3M)(Wn.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(ai,{optional:!0}),this.eventsSubscription=new Ft.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new no,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:S}=this.navigationTransitions;if(null===S)return void(hc(C)&&this._events.next(C));if(C instanceof Aa)bs(S.source)&&(this.browserUrlTree=S.extractedUrl);else if(C instanceof Bs)this.rawUrlTree=S.rawUrl;else if(C instanceof ba){if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(k,S)}this.browserUrlTree=S.urlAfterRedirects}}else if(C instanceof Fi)this.currentUrlTree=S.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S),this.browserUrlTree=S.urlAfterRedirects);else if(C instanceof yr)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(S);else if(C instanceof Pa){const k=this.urlHandlingStrategy.merge(C.url,S.currentRawUrl),L={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bs(S.source)};this.scheduleNavigation(k,so,null,L,{resolve:S.resolve,reject:S.reject,promise:S.promise})}C instanceof vr&&this.restoreHistory(S,!0),C instanceof ns&&(this.navigated=!0),hc(C)&&this._events.next(C)}catch(S){this.navigationTransitions.transitionAbortSubject.next(S)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),so,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const C="popstate"===m.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,C,m.state)},0)}))}navigateToSyncWithBrowser(m,C,S){const k={replaceUrl:!0},L=S?.navigationId?S:null;if(S){const K={...S};delete K.navigationId,delete K.\u0275routerPageId,0!==Object.keys(K).length&&(k.state=K)}const Y=this.parseUrl(m);this.scheduleNavigation(Y,C,L,k)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(co),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,C={}){const{relativeTo:S,queryParams:k,fragment:L,queryParamsHandling:Y,preserveFragment:K}=C,xe=K?this.currentUrlTree.fragment:L;let en,dt=null;switch(Y){case"merge":dt={...this.currentUrlTree.queryParams,...k};break;case"preserve":dt=this.currentUrlTree.queryParams;break;default:dt=k||null}null!==dt&&(dt=this.removeEmptyProps(dt));try{en=ql(S?S.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),en=this.currentUrlTree.root}return Ca(en,m,dt,xe??null)}navigateByUrl(m,C={skipLocationChange:!1}){const S=Ti(m)?m:this.parseUrl(m),k=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(k,so,null,C)}navigate(m,C={skipLocationChange:!1}){return function dc(y){for(let T=0;T<y.length;T++)if(null==y[T])throw new b.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,C),C)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let C;try{C=this.urlSerializer.parse(m)}catch(S){C=this.malformedUriErrorHandler(S,this.urlSerializer,m)}return C}isActive(m,C){let S;if(S=!0===C?{...ay}:!1===C?{...uy}:C,Ti(m))return Cn(this.currentUrlTree,m,S);const k=this.parseUrl(m);return Cn(this.currentUrlTree,k,S)}removeEmptyProps(m){return Object.keys(m).reduce((C,S)=>{const k=m[S];return null!=k&&(C[S]=k),C},{})}scheduleNavigation(m,C,S,k,L){if(this.disposed)return Promise.resolve(!1);let Y,K,xe;L?(Y=L.resolve,K=L.reject,xe=L.promise):xe=new Promise((en,Ot)=>{Y=en,K=Ot});const dt=this.pendingTasks.add();return cc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dt))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:k,resolve:Y,reject:K,promise:xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xe.catch(en=>Promise.reject(en))}setBrowserUrl(m,C){const S=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(S)||C.extras.replaceUrl){const L={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(S,"",L)}else{const k={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(S,"",k)}}restoreHistory(m,C=!1){if("computed"===this.canceledNavigationResolution){const k=this.currentPageId-this.browserPageId;0!==k?this.location.historyGo(k):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===k&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,C){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:C}:{navigationId:m}}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function hc(y){return!(y instanceof Fi||y instanceof Pa)}let xr=(()=>{class y{constructor(m,C,S,k,L,Y){this.router=m,this.route=C,this.tabIndexAttribute=S,this.renderer=k,this.el=L,this.locationStrategy=Y,this.href=null,this.commands=null,this.onChanges=new Oe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const K=L.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===K||"area"===K,this.isAnchorElement?this.subscription=m.events.subscribe(xe=>{xe instanceof ns&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,C,S,k,L){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||C||S||k||L||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,C){const S=this.renderer,k=this.el.nativeElement;null!==C?S.setAttribute(k,m,C):S.removeAttribute(k,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(C){return new(C||y)(b.Y36(Pt),b.Y36(ao),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Wn.S$))};static#t=this.\u0275dir=b.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,S){1&C&&b.NdJ("click",function(L){return S.onClick(L.button,L.ctrlKey,L.shiftKey,L.altKey,L.metaKey)}),2&C&&b.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return y})();class Fa{}let ly=(()=>{class y{constructor(m,C,S,k,L){this.router=m,this.injector=S,this.preloadingStrategy=k,this.loader=L}setUpPreloading(){this.subscription=this.router.events.pipe((0,oe.h)(m=>m instanceof ns),(0,_n.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,C){const S=[];for(const k of C){k.providers&&!k._injector&&(k._injector=(0,b.MMx)(k.providers,m,`Route: ${k.path}`));const L=k._injector??m,Y=k._loadedInjector??L;(k.loadChildren&&!k._loadedRoutes&&void 0===k.canLoad||k.loadComponent&&!k._loadedComponent)&&S.push(this.preloadConfig(L,k)),(k.children||k._loadedRoutes)&&S.push(this.processRoutes(Y,k.children??k._loadedRoutes))}return(0,ne.D)(S).pipe((0,Sn.J)())}preloadConfig(m,C){return this.preloadingStrategy.preload(C,()=>{let S;S=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(m,C):(0,ue.of)(null);const k=S.pipe((0,re.z)(L=>null===L?(0,ue.of)(void 0):(C._loadedRoutes=L.routes,C._loadedInjector=L.injector,this.processRoutes(L.injector??m,L.routes))));if(C.loadComponent&&!C._loadedComponent){const L=this.loader.loadComponent(C);return(0,ne.D)([k,L]).pipe((0,Sn.J)())}return k})}static#e=this.\u0275fac=function(C){return new(C||y)(b.LFG(Pt),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(Fa),b.LFG(on))};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Jd=new b.OlP("");let Kr=(()=>{class y{constructor(m,C,S,k,L={}){this.urlSerializer=m,this.transitions=C,this.viewportScroller=S,this.zone=k,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Aa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof ns?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Bs&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof dr&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dr(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(C){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac})}return y})();function hs(y,T){return{\u0275kind:y,\u0275providers:T}}function eh(){const y=(0,b.f3M)(b.zs3);return T=>{const m=y.get(b.z2F);if(T!==m.components[0])return;const C=y.get(Pt),S=y.get(th);1===y.get(nh)&&C.initialNavigation(),y.get(La,null,b.XFs.Optional)?.setUpPreloading(),y.get(Jd,null,b.XFs.Optional)?.init(),C.resetRootComponentType(m.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const th=new b.OlP("",{factory:()=>new Oe.x}),nh=new b.OlP("",{providedIn:"root",factory:()=>1}),La=new b.OlP("");function KT(y){return hs(0,[{provide:La,useExisting:ly},{provide:Fa,useExisting:y}])}const Lt=new b.OlP("ROUTER_FORROOT_GUARD"),kp=[Wn.Ye,{provide:Ji,useClass:Ta},Pt,Li,{provide:ao,useFactory:function Np(y){return y.routerState.root},deps:[Pt]},on,[]];function Fp(){return new b.PXZ("Router",Pt)}let Tr=(()=>{class y{constructor(m){}static forRoot(m,C){return{ngModule:y,providers:[kp,[],{provide:$t,multi:!0,useValue:m},{provide:Lt,useFactory:Ju,deps:[[Pt,new b.FiY,new b.tp0]]},{provide:uc,useValue:C||{}},C?.useHash?{provide:Wn.S$,useClass:Wn.Do}:{provide:Wn.S$,useClass:Wn.b0},{provide:Jd,useFactory:()=>{const y=(0,b.f3M)(Wn.EM),T=(0,b.f3M)(b.R0b),m=(0,b.f3M)(uc),C=(0,b.f3M)(pr),S=(0,b.f3M)(Ji);return m.scrollOffset&&y.setOffset(m.scrollOffset),new Kr(S,C,y,T,m)}},C?.preloadingStrategy?KT(C.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:Fp},C?.initialNavigation?Fe(C):[],C?.bindToComponentInputs?hs(8,[rn,{provide:ai,useExisting:rn}]).\u0275providers:[],[{provide:Ko,useFactory:eh},{provide:b.tb,multi:!0,useExisting:Ko}]]}}static forChild(m){return{ngModule:y,providers:[{provide:$t,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(C){return new(C||y)(b.LFG(Lt,8))};static#t=this.\u0275mod=b.oAB({type:y});static#n=this.\u0275inj=b.cJS({})}return y})();function Ju(y){return"guarded"}function Fe(y){return["disabled"===y.initialNavigation?hs(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const T=(0,b.f3M)(Pt);return()=>{T.setUpLocationChangeListener()}}},{provide:nh,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?hs(2,[{provide:nh,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:T=>{const m=T.get(Wn.V_,Promise.resolve());return()=>m.then(()=>new Promise(C=>{const S=T.get(Pt),k=T.get(th);cc(S,()=>{C(!0)}),T.get(pr).afterPreactivation=()=>(C(!0),k.closed?(0,ue.of)(void 0):k),S.initialNavigation()}))}}]).\u0275providers:[]]}const Ko=new b.OlP("")},7582:(lt,Ie,V)=>{function fe(X,te){var oe={};for(var re in X)Object.prototype.hasOwnProperty.call(X,re)&&te.indexOf(re)<0&&(oe[re]=X[re]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(re=Object.getOwnPropertySymbols(X);me<re.length;me++)te.indexOf(re[me])<0&&Object.prototype.propertyIsEnumerable.call(X,re[me])&&(oe[re[me]]=X[re[me]])}return oe}function we(X,te,oe,re){return new(oe||(oe=Promise))(function(Ae,ht){function Rt(Gt){try{Ze(re.next(Gt))}catch(Vn){ht(Vn)}}function _n(Gt){try{Ze(re.throw(Gt))}catch(Vn){ht(Vn)}}function Ze(Gt){Gt.done?Ae(Gt.value):function me(Ae){return Ae instanceof oe?Ae:new oe(function(ht){ht(Ae)})}(Gt.value).then(Rt,_n)}Ze((re=re.apply(X,te||[])).next())})}function Te(X){return this instanceof Te?(this.v=X,this):new Te(X)}function Ce(X,te,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,re=oe.apply(X,te||[]),Ae=[];return me={},ht("next"),ht("throw"),ht("return"),me[Symbol.asyncIterator]=function(){return this},me;function ht(Rn){re[Rn]&&(me[Rn]=function(Nn){return new Promise(function(ii,wn){Ae.push([Rn,Nn,ii,wn])>1||Rt(Rn,Nn)})})}function Rt(Rn,Nn){try{!function _n(Rn){Rn.value instanceof Te?Promise.resolve(Rn.value.v).then(Ze,Gt):Vn(Ae[0][2],Rn)}(re[Rn](Nn))}catch(ii){Vn(Ae[0][3],ii)}}function Ze(Rn){Rt("next",Rn)}function Gt(Rn){Rt("throw",Rn)}function Vn(Rn,Nn){Rn(Nn),Ae.shift(),Ae.length&&Rt(Ae[0][0],Ae[0][1])}}function Qe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,te=X[Symbol.asyncIterator];return te?te.call(X):(X=function Yt(X){var te="function"==typeof Symbol&&Symbol.iterator,oe=te&&X[te],re=0;if(oe)return oe.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&re>=X.length&&(X=void 0),{value:X&&X[re++],done:!X}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),oe={},re("next"),re("throw"),re("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function re(Ae){oe[Ae]=X[Ae]&&function(ht){return new Promise(function(Rt,_n){!function me(Ae,ht,Rt,_n){Promise.resolve(_n).then(function(Ze){Ae({value:Ze,done:Rt})},ht)}(Rt,_n,(ht=X[Ae](ht)).done,ht.value)})}}}V.d(Ie,{FC:()=>Ce,KL:()=>Qe,_T:()=>fe,mG:()=>we,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},lt=>{lt(lt.s=8522)}]);